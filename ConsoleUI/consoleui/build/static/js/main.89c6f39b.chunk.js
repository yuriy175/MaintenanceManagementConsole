(this.webpackJsonpconsoleui=this.webpackJsonpconsoleui||[]).push([[0],{155:function(e,t,n){},157:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),s=n(65),i=(n(155),n(19)),l=n(135),u=n(265),d=window.EquipsServiceAddress,j=window.WebSocketAddress,b=window.ComplexTypeImages,p=window.UseDarkTheme,v="User",O="Administrator",m=[v,O],x=n(3),h=n.n(x),f=n(9),g=n(6),S=n(232),y=n(270),w=n(263),E=n(240),C=n(261),T=n(187),N=n(243),k=n(258),D=n(55),A=n.n(D),I=n(56),q=n.n(I),P=n(235),R=n(237),W=n(57),F=n(238),L=n(266),M=n(242),U=n(98),B=n.n(U),G=n(241),V=n(267),H=n(244),J=n(245),Q=(n(157),n(8)),z=n(1),X=Object(a.createContext)(),_={currentTab:{tab:0,panel:0}};function Y(e,t){switch(t.type){case"RESET":return _;case"SETTAB":return Object(Q.a)(Object(Q.a)({},e),{},{currentTab:t.payload});default:throw new Error}}var K=function(e){var t=Object(a.useReducer)(Y,_),n=Object(g.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(z.jsx)(X.Provider,{value:[r,c],children:o})},Z=n(28),$=Object(a.createContext)(),ee={allEquips:null,connectedEquips:null,selectedEquips:[]};function te(e,t){switch(t.type){case"SETALLEQUIPS":var n;return Object(Q.a)(Object(Q.a)({},e),{},{allEquips:null===(n=t.payload)||void 0===n?void 0:n.filter((function(e){return e}))});case"UPDATEALLEQUIPS":var a=e.selectedEquips.filter((function(e){return e.EquipName===t.payload.EquipName}));return a&&(a.Disabled=t.payload.Disabled),Object(Q.a)(Object(Q.a)({},e),{},{allEquips:Object(Z.a)(e.allEquips)});case"SETCONNECTEDEQUIPS":var r;return Object(Q.a)(Object(Q.a)({},e),{},{connectedEquips:null===(r=t.payload)||void 0===r?void 0:r.filter((function(e){return e}))});case"ADDSELECTEDEQUIPS":return Object(Q.a)(Object(Q.a)({},e),{},{selectedEquips:[t.payload].concat(Object(Z.a)(e.selectedEquips.filter((function(e){return e!=t.payload}))))});case"ADDEQUIP":return Object(Q.a)(Object(Q.a)({},e),{},{equipInfo:t.payload});case"CONNECTIONCHANGED":var c,o=null!==(c=e.connectedEquips)&&void 0!==c?c:[],s=t.payload.State.Name;return t.payload.State.Connected&&!o.includes(s)?o=[].concat(Object(Z.a)(o),[s]):!t.payload.State.Connected&&o.includes(s)&&(o=o.filter((function(e){return e!=s}))),Object(Q.a)(Object(Q.a)({},e),{},{connectedEquips:o});default:throw new Error}}var ne=function(e){var t=Object(a.useReducer)(te,ee),n=Object(g.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(z.jsx)($.Provider,{value:[r,c],children:o})},ae=Object(a.createContext)(),re={currentEvents:[]};function ce(e,t){switch(t.type){case"SETEVENTS":return Object(Q.a)(Object(Q.a)({},e),{},{currentEvents:t.payload});case"ADDEVENT":return Object(Q.a)(Object(Q.a)({},e),{},{currentEvents:[].concat(Object(Z.a)(t.payload),Object(Z.a)(e.currentEvents))});default:throw new Error}}var oe=function(e){var t=Object(a.useReducer)(ce,re),n=Object(g.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(z.jsx)(ae.Provider,{value:[r,c],children:o})},se=Object(a.createContext)(),ie={equipInfo:"",detectors:[],generator:{},collimator:{},dosimeter:{},stand:{},dicom:{},system:{},organAuto:{},software:{},remoteaccess:{},images:{},aecs:{},allDBs:{},allDBTables:{},lastSeen:void 0};function le(e,t){switch(t.type){case"RESET":return ie;case"SETEQUIPINFO":return Object(Q.a)(Object(Q.a)({},e),{},{equipInfo:t.payload});case"SETSYSTEM":return Object(Q.a)(Object(Q.a)({},e),{},{system:t.payload});case"SETALLDB":return Object(Q.a)(Object(Q.a)({},e),{},{allDBs:t.payload});case"SETALLDBTABLES":return Object(Q.a)(Object(Q.a)({},e),{},{allDBTables:t.payload});case"SETORGANAUTO":return Object(Q.a)(Object(Q.a)({},e),{},{organAuto:t.payload});case"SETLASTSEEN":return Object(Q.a)(Object(Q.a)({},e),{},{lastSeen:t.payload});case"SETGENERATOR":var n,a,r,c,o,s,i=Object(Q.a)(Object(Q.a)({},e),{},{generator:{Id:t.payload.Id,State:Object(Q.a)(Object(Q.a)({},e.generator.State),t.payload.State)}});return!(null===(n=i.generator)||void 0===n||null===(a=n.State)||void 0===a?void 0:a.ErrorDescriptions)||(null===(r=i.generator)||void 0===r||null===(c=r.State)||void 0===c?void 0:c.Error)&&0!==(null===(o=i.generator)||void 0===o||null===(s=o.State)||void 0===s?void 0:s.Error[0])||(i.generator.State.ErrorDescriptions=[]),i;case"SETDETECTOR":var l,u,d=t.payload.DetectorId,j=null===(l=e.detectors)||void 0===l?void 0:l.filter((function(e){return e.DetectorId===d}))[0],b=e.detectors;if(j)j=Object(Q.a)(Object(Q.a)({},j),t.payload),b=[].concat(Object(Z.a)(null===(u=e.detectors)||void 0===u?void 0:u.filter((function(e){return e.DetectorId!==d}))),[j]);else b=[].concat(Object(Z.a)(e.detectors),[t.payload]);return Object(Q.a)(Object(Q.a)({},e),{},{detectors:b});case"SETAEC":return Object(Q.a)(Object(Q.a)({},e),{},{aecs:{Id:t.payload.Id,Type:t.payload.Type,State:Object(Q.a)(Object(Q.a)({},e.aecs.State),t.payload.State)}});case"SETSTAND":var p,v,O,m,x,h,f=Object(Q.a)(Object(Q.a)({},e),{},{stand:{Id:t.payload.Id,State:Object(Q.a)(Object(Q.a)({},e.stand.State),t.payload.State)}});return!(null===(p=f.stand)||void 0===p||null===(v=p.State)||void 0===v?void 0:v.ErrorDescriptions)||(null===(O=f.stand)||void 0===O||null===(m=O.State)||void 0===m?void 0:m.Error)&&0!==(null===(x=f.stand)||void 0===x||null===(h=x.State)||void 0===h?void 0:h.Error[0])||(f.stand.State.ErrorDescriptions=[]),f;case"SETDOSIMETER":return Object(Q.a)(Object(Q.a)({},e),{},{dosimeter:{Id:t.payload.Id,State:Object(Q.a)(Object(Q.a)({},e.dosimeter.State),t.payload.State)}});case"SETCOLLIMATOR":return Object(Q.a)(Object(Q.a)({},e),{},{collimator:t.payload});case"SETSOFTWARE":return Object(Q.a)(Object(Q.a)({},e),{},{software:t.payload});case"SETSOFTWAREMSG":return Object(Q.a)(Object(Q.a)({},e),{},{software:Object(Q.a)(Object(Q.a)({},e.software),t.payload)});case"SETREMOTEACCESS":return Object(Q.a)(Object(Q.a)({},e),{},{remoteaccess:Object(Q.a)(Object(Q.a)({},e.remoteaccess),t.payload)});case"SETIMAGES":return Object(Q.a)(Object(Q.a)({},e),{},{images:t.payload});case"SETDICOM":var g=t.payload.WorkList;if(g){var S,y=null===(S=e.dicom.WorkList)||void 0===S?void 0:S.filter((function(e){return!g.map((function(e){return e.Name})).includes(e.Name)}));y&&(g=[].concat(Object(Z.a)(g),Object(Z.a)(y)))}else g=e.dicom.WorkList;var w=t.payload.PACS;if(w){var E,C=null===(E=e.dicom.PACS)||void 0===E?void 0:E.filter((function(e){return!w.map((function(e){return e.Name})).includes(e.Name)}));C&&(w=[].concat(Object(Z.a)(w),Object(Z.a)(C)))}else w=e.dicom.PACS;var T={PACS:w,WorkList:g};return Object(Q.a)(Object(Q.a)({},e),{},{dicom:T});default:throw new Error}}var ue=function(e){var t=Object(a.useReducer)(le,ie),n=Object(g.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(z.jsx)(se.Provider,{value:[r,c],children:o})},de=Object(a.createContext)(),je={currentUser:{},token:null,users:null};function be(e,t){switch(t.type){case"RESET":return je;case"SETUSER":return Object(Q.a)(Object(Q.a)({},e),{},{token:t.payload.Token,currentUser:t.payload.Claims});case"SETUSERS":return Object(Q.a)(Object(Q.a)({},e),{},{users:t.payload});default:throw new Error}}var pe=function(e){var t=Object(a.useReducer)(be,je),n=Object(g.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(z.jsx)(de.Provider,{value:[r,c],children:o})},ve=Object(a.createContext)(),Oe={logs:[],chats:[],notes:[]};function me(e,t){switch(t.type){case"SETLOGS":return Object(Q.a)(Object(Q.a)({},e),{},{logs:t.payload});case"SETCHATS":return Object(Q.a)(Object(Q.a)({},e),{},{notes:t.payload});case"ADDNOTE":return Object(Q.a)(Object(Q.a)({},e),{},{notes:[t.payload].concat(Object(Z.a)(e.notes))});default:throw new Error}}var xe=function(e){var t=Object(a.useReducer)(me,Oe),n=Object(g.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(z.jsx)(ve.Provider,{value:[r,c],children:o})},he=Object(a.createContext)(),fe={currentVolatile:{}};function ge(e,t){switch(t.type){case"RESET":return fe;case"SETVOLATILE":return Object(Q.a)(Object(Q.a)({},e),{},{currentVolatile:Object(Q.a)(Object(Q.a)({},e.currentVolatile),t.payload)});default:throw new Error}}var Se=function(e){var t=Object(a.useReducer)(ge,fe),n=Object(g.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(z.jsx)(he.Provider,{value:[r,c],children:o})},ye=n(20),we=n.n(ye);function Ee(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(f.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("resting ".concat(t)),e.next=4,n();case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.error,e.t0.config,e.t0.code,e.t0.request,e.t0.response,null===(a=e.t0.response)||void 0===a?void 0:a.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Te(e){return{headers:{Accept:"application/json",Authorization:"Bearer "+e}}}var Ne=function(e){return e<10?"0"+e:e};function ke(e){return e.getFullYear()+"-"+Ne(e.getMonth()+1)+"-"+Ne(e.getDate())}var De=function(e){return new Date(e).toLocaleString()},Ae=function(e){var t=new Date;return new Date(e).setHours(0,0,0,0)==t.setHours(0,0,0,0)},Ie=function(){var e=(new Date).getTime(),t=1e3*Math.random();performance&&performance.now&&performance.now();return"".concat(e,"_").concat(t)}(),qe="/equips";function Pe(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("GetConnectedEquips",Object(f.a)(h.a.mark((function e(){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+qe+"/GetConnectedEquips",console.log(n),e.next=4,we.a.get(n,Te(t));case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e,t,n){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(f.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("Activate",Object(f.a)(h.a.mark((function e(){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.get(d+qe+"/Activate?sessionUid="+Ie+"&activatedEquipInfo="+n+"&deactivatedEquipInfo="+a,Te(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e,t,n,a,r){return Me.apply(this,arguments)}function Me(){return(Me=Object(f.a)(h.a.mark((function e(t,n,a,r,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("SearchEquip",Object(f.a)(h.a.mark((function e(){var o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.get(d+qe+"/SearchEquip?currType="+n+"&equipName="+a+"&startDate="+r+"&endDate="+c,Te(t));case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e,t,n){return Be.apply(this,arguments)}function Be(){return(Be=Object(f.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("GetPermanentData",Object(f.a)(h.a.mark((function e(){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.get(d+qe+"/GetPermanentData?currType="+n+"&equipName="+a,Te(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(f.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("RunTeamViewer",Object(f.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.post(d+qe+"/RunTeamViewer?activatedEquipInfo="+n,null,Te(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t){return Je.apply(this,arguments)}function Je(){return(Je=Object(f.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("RunTaskManager",Object(f.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.post(d+qe+"/RunTaskManager?activatedEquipInfo="+n,null,Te(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,t){return ze.apply(this,arguments)}function ze(){return(ze=Object(f.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("SendAtlasLogs",Object(f.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.post(d+qe+"/SendAtlasLogs?activatedEquipInfo="+n,null,Te(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e,t,n,a){return _e.apply(this,arguments)}function _e(){return(_e=Object(f.a)(h.a.mark((function e(t,n,a,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("XilibLogsOn",Object(f.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.post(d+qe+"/XilibLogsOn?activatedEquipInfo="+n+"&detailedXilib="+a+"&verboseXilib="+r,null,Te(t));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(f.a)(h.a.mark((function e(t){var n,a=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,Ee("GetAllEquips",Object(f.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.get(d+qe+"/GetAllEquips?withDisabled="+n,Te(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e,t){return $e.apply(this,arguments)}function $e(){return($e=Object(f.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("GetAllDBTableNames",Object(f.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.get(d+qe+"/GetAllDBTableNames?equipName="+n,Te(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e,t,n,a){return tt.apply(this,arguments)}function tt(){return(tt=Object(f.a)(h.a.mark((function e(t,n,a,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("GetTableContent",Object(f.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.get(d+qe+"/GetTableContent?equipName="+n+"&tableType="+a+"&tableName="+r,Te(t));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e,t){return at.apply(this,arguments)}function at(){return(at=Object(f.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("UpdateDBInfo",Object(f.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.post(d+qe+"/UpdateDBInfo?activatedEquipInfo="+n,null,Te(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t,n){return ct.apply(this,arguments)}function ct(){return(ct=Object(f.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("DisableEquipInfo",Object(f.a)(h.a.mark((function e(){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.post(d+qe+"/DisableEquipInfo?equipName="+n+"&disabled="+a,null,Te(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t){return st.apply(this,arguments)}function st(){return(st=Object(f.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("GetCommunicationsData",Object(f.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.get(d+qe+"/GetCommunicationsData?equipName="+n,Te(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t,n,a){return lt.apply(this,arguments)}function lt(){return(lt=Object(f.a)(h.a.mark((function e(t,n,a,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("SendNewNote",Object(f.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.post(d+qe+"/SendNewNote?equipName="+n+"&msgType="+a+"&message="+r,null,Te(t));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(){console.log("useSetCurrEquip");var e=Object(a.useContext)(se),t=Object(g.a)(e,2),n=t[0],r=t[1],c=Object(a.useContext)(he),o=Object(g.a)(c,2),s=(o[0],o[1]),i=Object(a.useContext)($),l=Object(g.a)(i,2),u=l[0],d=(l[1],Object(a.useContext)(de)),j=Object(g.a)(d,2),b=j[0];j[1];return function(){var e=Object(f.a)(h.a.mark((function e(t,a){var c,o,i,l,d,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=b.token,i=null===(c=u.connectedEquips)||void 0===c?void 0:c.includes(t),s({type:"RESET",payload:!0}),r({type:"RESET",payload:!0}),r({type:a,payload:t}),e.next=7,Ue(o,"SystemInfo",t);case 7:return l=e.sent,r({type:"SETSYSTEM",payload:l[0]}),e.next=11,Ue(o,"Software",t);case 11:if(d=e.sent,r({type:"SETSOFTWARE",payload:{Atlas:d.Atlas?d.Atlas[0]:void 0,Software:d.Software?d.Software[0]:void 0}}),i){e.next=20;break}return e.next=16,Ue(o,"LastSeen",t);case 16:j=e.sent,r({type:"SETLASTSEEN",payload:j}),e.next=22;break;case 20:return e.next=22,We(o,t,n.equipInfo);case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}var dt="/equips";function jt(e){return bt.apply(this,arguments)}function bt(){return(bt=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("GetAllUsers",Object(f.a)(h.a.mark((function e(){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+dt+"/GetAllUsers",a=Te(t),e.next=4,we.a.get(n,a);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=Object(f.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("UpdateUser",Object(f.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.post(d+dt+"/UpdateUser",t,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+n}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e){return mt.apply(this,arguments)}function mt(){return(mt=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("Login",Object(f.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.a.post(d+dt+"/Login",t,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(e){return ht.apply(this,arguments)}function ht(){return(ht=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("GetServerLogs",Object(f.a)(h.a.mark((function e(){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+dt+"/GetServerLogs",a=Te(t),e.next=4,we.a.get(n,a);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ft=n(185),gt=Object(S.a)((function(e){return{root:{width:"100%",borderColor:"darkgray"}}}));function St(e){console.log("render AdminLogTabPanel");var t=gt(),n=Object(a.useContext)(ve),r=Object(g.a)(n,2),c=r[0];r[1];return Object(z.jsx)("div",{children:Object(z.jsx)(ft.a,{className:t.root,rowsMax:40,"aria-label":"maximum height",defaultValue:c.logs})})}var yt=Object(S.a)((function(e){return{appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240},formControl:{margin:e.spacing(1),minWidth:270},tabControl:{margin:e.spacing(1),minWidth:640},selectEmpty:{color:"white",display:"flex"},optionStyle:{backgroundColor:"#3f51b5",color:"white"},userName:{width:"calc(100% - 180px)"},button:{marginRight:"0.5em",width:"30%"}}}));function wt(){var e,t,n,r,c,o,s;console.log("! render MainToolBar "+Ie);var i=yt(),l=Object(a.useContext)(X),u=Object(g.a)(l,2),d=u[0],b=u[1],p=Object(a.useContext)($),v=Object(g.a)(p,2),O=v[0],m=(v[1],Object(a.useContext)(ae)),x=Object(g.a)(m,2),S=(x[0],x[1]),y=Object(a.useContext)(se),w=Object(g.a)(y,2),E=w[0],C=w[1],T=Object(a.useContext)(de),k=Object(g.a)(T,2),D=k[0],A=(k[1],Object(a.useContext)(ve)),I=Object(g.a)(A,2),q=(I[0],I[1]),U=Object(a.useState)(""),Q=Object(g.a)(U,2),_=Q[0],Y=Q[1],K=ut(),Z=D.token,ee=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,a=n.value,e.next=4,te(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K(t,"SETEQUIPINFO"),ne(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date,e.next=3,Le(Z,"Events",t,ke(n),ke(n));case 3:a=e.sent,S({type:"SETEVENTS",payload:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt(Z);case 2:t=e.sent,q({type:"SETLOGS",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot(Z,oe);case 2:t=e.sent,q({type:"SETCHATS",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(null===D||void 0===D||null===(t=D.currentUser)||void 0===t?void 0:t.Surname);case 1:case"end":return e.stop()}}),e)})))()}),[D.currentUser]);!function(e){console.log("useWebSocket "+Ie);var t=Object(a.useContext)(se),n=Object(g.a)(t,2),r=n[0],c=n[1],o=Object(a.useContext)($),s=Object(g.a)(o,2),i=(s[0],s[1]),l=Object(a.useContext)(ae),u=Object(g.a)(l,2),d=(u[0],u[1]),b=Object(a.useContext)(he),p=Object(g.a)(b,2),v=(p[0],p[1]),O=Object(a.useContext)(de),m=Object(g.a)(O,2),x=m[0],S=(m[1],Object(a.useState)(null)),y=Object(g.a)(S,2),w=y[0],E=y[1],C=Object(a.useRef)(r.equipInfo);function T(){try{console.log("Status: Creating socket ".concat(Ie,"\n"));var e=new WebSocket(j+"/websocket?uid="+Ie);E(e)}catch(t){console.log(t)}}Object(a.useEffect)((function(){x.token&&T()}),[x.token]),Object(a.useEffect)((function(){C.current=r.equipInfo}),[r.equipInfo]),Object(a.useEffect)((function(){w&&(w.onopen=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Status: Connected ".concat(Ie,"\n")),e.next=3,Pe(x.token);case 3:t=e.sent,i({type:"SETCONNECTEDEQUIPS",payload:t||[]}),setInterval((function(){console.log("pinging...\n"),w.send("ping")}),1e4);case 6:case"end":return e.stop()}}),e)}))),w.onclose=function(e){console.log("Status: Closed ".concat(Ie,"\n")),c({type:"RESET",payload:!0}),setTimeout((function(){console.log("Status: Reconnecting ".concat(Ie,"\n")),T()}),1e3)},w.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket"),w.close()},w.onmessage=function(e){console.log("Server: "+e.data+"\n");var t=JSON.parse(e.data),n=null===t||void 0===t?void 0:t.Topic;if(n)if(n.startsWith("Subscribe"))i({type:"CONNECTIONCHANGED",payload:t});else if(n.startsWith("Events"))d({type:"ADDEVENT",payload:t.Events});else{var a=function(e){var t=e.split("/");return t.length<2?null:"".concat(t[0],"/").concat(t[1])}(null===t||void 0===t?void 0:t.Topic);if(a&&a===C.current){var r=t.Topic.replace(a,"");if(r.startsWith("/ARM/Hardware/Complex"))try{var o=t?JSON.parse(t.Data):null;c({type:"SETSYSTEM",payload:o})}catch(e){console.log(e)}else if(r.startsWith("/images")){var s=t?JSON.parse(t.Data):null;c({type:"SETIMAGES",payload:s})}else if(r.startsWith("/organauto")){var l=t?JSON.parse(t.Data):null;c({type:"SETORGANAUTO",payload:l})}else if(r.startsWith("/stand")){var u=t?JSON.parse(t.Data):null;c({type:"SETSTAND",payload:u})}else if(r.startsWith("/generator")){var j=t?JSON.parse(t.Data):null;c({type:"SETGENERATOR",payload:j})}else if(r.startsWith("/detector")){var b=t?JSON.parse(t.Data):null;c({type:"SETDETECTOR",payload:b})}else if(r.startsWith("/dosimeter")){var p=t?JSON.parse(t.Data):null;c({type:"SETDOSIMETER",payload:p})}else if(r.startsWith("/collimator")){var O=t?JSON.parse(t.Data):null;c({type:"SETCOLLIMATOR",payload:O})}else if(r.startsWith("/aec/")){var m=t?JSON.parse(t.Data):null;c({type:"SETAEC",payload:m})}else if(r.startsWith("/ARM/Software/Complex")){var x=t?JSON.parse(t.Data):null;c({type:"SETSOFTWARE",payload:x})}else if(r.startsWith("/ARM/Software/msg")){var h=t?JSON.parse(t.Data):null;v({type:"SETVOLATILE",payload:h})}else if(r.startsWith("/dicom")){var f=t?JSON.parse(t.Data):null;c({type:"SETDICOM",payload:f})}else if(r.startsWith("/remoteaccess")){var g=t?JSON.parse(t.Data):null;c({type:"SETREMOTEACCESS",payload:g})}else if(r.startsWith("/ARM/Hardware/Processor")||r.startsWith("/ARM/Hardware/HDD")||r.startsWith("/ARM/Hardware/Memory")){var S=t?JSON.parse(t.Data):null;v({type:"SETVOLATILE",payload:S})}}}})}),[w])}();var oe=E.equipInfo,ie=null!==(e=null===(t=d.currentTab)||void 0===t?void 0:t.tab)&&void 0!==e?e:0,le=null!==(n=null===(r=d.currentTab)||void 0===r?void 0:r.panel)&&void 0!==n?n:0,ue=function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==ie||1!==n||!oe){e.next=7;break}return e.next=3,Ze(Z,oe);case 3:a=e.sent,C({type:"SETALLDBTABLES",payload:a}),e.next=8;break;case 7:0===ie&&2===n?ne(oe):0===ie&&3===n?ce(oe):4===ie&&4===n&&re();case 8:b({type:"SETTAB",payload:{tab:ie,panel:n}});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oe){e.next=4;break}return e.next=3,nt(Z,oe);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=null===(c=E.remoteaccess)||void 0===c?void 0:c.DBInfoStateUpdating,pe=0===ie&&oe;return Object(z.jsx)(P.a,{position:"fixed",className:i.appBar,children:Object(z.jsxs)(R.a,{children:[Object(z.jsx)(W.a,{variant:"h6",noWrap:!0}),Object(z.jsx)(F.a,{className:i.formControl,children:Object(z.jsxs)(L.a,{labelId:"demo-simple-select-label",id:"mainToolbarCombobox",value:E.equipInfo,onChange:ee,className:i.selectEmpty,variant:"outlined",children:[Object(z.jsx)(G.a,{className:i.optionStyle,children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043e"}),null===(o=O.selectedEquips)||void 0===o?void 0:o.map((function(e,t){return Object(z.jsxs)(M.a,{value:e,className:i.optionStyle,children:[Object(z.jsx)(N.a,{children:Object(z.jsx)(B.a,{fontSize:"large",style:{color:"white"}})}),Object(z.jsx)(W.a,{variant:"inherit",children:e})]},t.toString())})),Object(z.jsx)(G.a,{className:i.optionStyle,children:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e"}),null===(s=O.connectedEquips)||void 0===s?void 0:s.map((function(e,t){return Object(z.jsxs)(M.a,{value:e,className:i.optionStyle,children:[Object(z.jsx)(N.a,{children:Object(z.jsx)(B.a,{fontSize:"large",style:{color:"white"}})}),Object(z.jsx)(W.a,{variant:"inherit",children:e})]},t.toString())}))]})}),Object(z.jsxs)(V.a,{value:le,onChange:ue,"aria-label":"simple tabs example",className:i.tabControl,children:[Object(z.jsx)(H.a,{label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",id:"mainTabPanel"}),pe?Object(z.jsx)(H.a,{label:"\u0411\u0414",id:"dbTabPanel"}):Object(z.jsx)(z.Fragment,{}),pe?Object(z.jsx)(H.a,{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",id:"histTabPanel"}):Object(z.jsx)(z.Fragment,{}),pe?Object(z.jsx)(H.a,{label:"\u041a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0438",id:"chatTabPanel"}):Object(z.jsx)(z.Fragment,{}),4===ie?Object(z.jsx)(H.a,{label:"\u041b\u043e\u0433\u0438",id:"logsTabPanel"}):Object(z.jsx)(z.Fragment,{})]}),0===ie?Object(z.jsx)(J.a,{variant:"contained",color:be?"secondary":"primary",className:i.button,onClick:je,children:be?"\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f":"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}):Object(z.jsx)(z.Fragment,{}),Object(z.jsx)(W.a,{variant:"h6",noWrap:!0,align:"right",className:i.userName,children:_})]})})}var Et=n(247),Ct=n(248),Tt=Object(S.a)({root:{width:"100%",marginBottom:12,marginRight:12},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),Nt=n(99),kt=n.n(Nt),Dt=n(246),At=Object(S.a)({root:{display:"flex"},descr:{width:"65%",margin:"0 0.5em",textAlign:"left"},value:{marginRight:"0.5em",fontWeight:"bold",width:"30%",textAlign:"right"},button:{marginRight:"0.5em",width:"30%",textAlign:"right",marginTop:"0.5em"},buttonDescr:{alignSelf:"center"},errorDescr:{width:"65%",margin:"0 0.5em",textAlign:"left",fontWeight:"bold"},errorValue:{width:"80%",fontWeight:"bold",marginRight:"0.5em",textAlign:"right"}});function It(e){var t=At();t.bullet;return Object(z.jsxs)("div",{className:t.root,children:["none"!==e.icon?Object(z.jsx)(kt.a,{color:"primary",size:"small"}):Object(z.jsx)(z.Fragment,{}),Object(z.jsx)(W.a,{className:t.descr,color:"textSecondary",children:e.descr}),Object(z.jsx)(W.a,{className:t.value,color:"textSecondary",style:{width:e.rightWidth?e.rightWidth:t.value.width,color:e.rightColor?e.rightColor:""},children:e.value})]})}function qt(e){var t=At();return Object(z.jsxs)("div",{className:t.root,children:[Object(z.jsx)(kt.a,{color:"secondary",size:"small"}),Object(z.jsx)(W.a,{className:(t.descr,t.errorDescr),color:"secondary",children:e.descr}),Object(z.jsx)(W.a,{className:(t.value,t.errorValue),color:"secondary",style:{width:e.rightWidth?e.rightWidth:t.errorValue.width,color:e.rightColor?e.rightColor:""},children:e.value})]})}function Pt(e){var t=At();return Object(z.jsxs)("div",{className:t.root,children:[Object(z.jsx)(W.a,{className:"".concat(t.descr," ").concat(t.buttonDescr),color:"textSecondary",children:e.descr}),Object(z.jsx)(J.a,{variant:"contained",color:e.buttonColor?e.buttonColor:"primary",className:t.button,onClick:e.onClick,disabled:e.disabled,children:e.title})]})}function Rt(e){var t=At();return Object(z.jsxs)("div",{className:t.root,children:[Object(z.jsx)(W.a,{className:"".concat(t.descr," ").concat(t.switchDescr),color:"textSecondary",children:e.descr}),Object(z.jsx)(Dt.a,{checked:e.checked,onChange:e.onChange,color:"primary",inputProps:{"aria-label":"primary checkbox"}})]})}var Wt=r.a.memo((function(e){console.log("! render DetectorCard");var t=Tt(),n=Object(z.jsx)("span",{className:t.bullet,children:"\u2022"}),a=e.detectors,r=e.aecs;return Object(z.jsx)(Et.a,{className:t.root,children:Object(z.jsxs)(Ct.a,{children:[Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[n,"\u0414\u0435\u0442\u0435\u043a\u0442\u043e\u0440\u044b"]}),null===a||void 0===a?void 0:a.map((function(e,t){var a,c,o;return Object(z.jsxs)("div",{children:[Object(z.jsxs)(W.a,{variant:"h6",component:"h2",children:[n,e.DetectorName]}),Object(z.jsx)(It,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:2!==e.State?"\u041d\u0435 \u0433\u043e\u0442\u043e\u0432":"\u0413\u043e\u0442\u043e\u0432",rightColor:2!==e.State?"red":"green"}),Object(z.jsx)(It,{descr:"\u041f\u043e\u043b\u0435 \u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440\u0430",value:e.DetectorField}),r?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(W.a,{variant:"h6",component:"h2",children:[n,"\u0410\u041a\u042d"]}),Object(z.jsx)(It,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:(null===(a=r.State)||void 0===a?void 0:a.Aec_enabled)?"\u0412\u043a\u043b":"\u0412\u044b\u043a\u043b"}),Object(z.jsx)(It,{descr:"\u041f\u043e\u043b\u044f \u0410\u041a\u042d",value:null===(c=r.State)||void 0===c?void 0:c.Aec_fields}),Object(z.jsx)(It,{descr:"\u041f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c",value:null===(o=r.State)||void 0===o?void 0:o.Aec_density})]}):Object(z.jsx)(z.Fragment,{})]},t.toString())}))]})})})),Ft=r.a.memo((function(e){var t,n,a,r,c,o,s,i,l,u,d,j,b,p,v,O;console.log("! render GeneratorCard");var m=Tt(),x=Object(z.jsx)("span",{className:m.bullet,children:"\u2022"}),h=e.generator,f=null===h||void 0===h||null===(t=h.State)||void 0===t?void 0:t.HeatStatus;return Object(z.jsx)(Et.a,{className:m.root,children:Object(z.jsxs)(Ct.a,{children:[Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[x,"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440"]}),Object(z.jsx)(It,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:(null===h||void 0===h||null===(n=h.State)||void 0===n?void 0:n.State)>0?"\u0413\u043e\u0442\u043e\u0432":"\u041d\u0435 \u0433\u043e\u0442\u043e\u0432",rightColor:(null===h||void 0===h||null===(a=h.State)||void 0===a?void 0:a.State)>0?"green":"red"}),Object(z.jsx)(It,{descr:"\u0422\u043e\u043a",value:(null===h||void 0===h||null===(r=h.State)||void 0===r?void 0:r.Mas)?h.State.Mas+" \u043c\u0410\u0441":""}),Object(z.jsx)(It,{descr:"\u041d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u0438\u0435",value:(null===h||void 0===h||null===(c=h.State)||void 0===c?void 0:c.Kv)?h.State.Kv+" \u043a\u0412":""}),Object(z.jsx)(It,{descr:"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435. \u0440. \u043c.",value:null===h||void 0===h||null===(o=h.State)||void 0===o?void 0:o.Workstation}),Object(z.jsx)(It,{descr:"\u041d\u0430\u0433\u0440\u0435\u0432",value:2===f?"\u0412\u044b\u0441\u043e\u043a\u0438\u0439":3===f?"\u041a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439":1===f?"\u041d\u043e\u0440\u043c":"",rightColor:2===f?"yellow":3===f?"red":1===f?"green":"gray"}),Object(z.jsx)(It,{descr:"\u0424\u043e\u043a\u0443\u0441",value:1===(null===h||void 0===h||null===(s=h.State)||void 0===s?void 0:s.Focus)?"\u0411\u043e\u043b\u044c\u0448\u043e\u0439":0===(null===h||void 0===h||null===(i=h.State)||void 0===i?void 0:i.Focus)?"\u041c\u0430\u043b\u044b\u0439":""}),Object(z.jsx)(It,{descr:"\u041f\u0435\u0434\u0430\u043b\u044c",value:1===(null===h||void 0===h||null===(l=h.State)||void 0===l?void 0:l.PedalPressed)?"\u0413\u0440\u0430\u0444\u0438\u044f":2===(null===h||void 0===h||null===(u=h.State)||void 0===u?void 0:u.PedalPressed)?"\u0421\u043a\u043e\u043f\u0438\u044f":"\u041d\u0435 \u043d\u0430\u0436\u0430\u0442\u0430",rightColor:1===(null===h||void 0===h||null===(d=h.State)||void 0===d?void 0:d.PedalPressed)||2===(null===h||void 0===h||null===(j=h.State)||void 0===j?void 0:j.PedalPressed)?"green":void 0}),Object(z.jsx)(It,{descr:"\u041e\u0448\u0438\u0431\u043a\u0438",value:null===h||void 0===h||null===(b=h.State)||void 0===b||null===(p=b.ErrorDescriptions)||void 0===p?void 0:p.length}),(null===h||void 0===h||null===(v=h.State)||void 0===v||null===(O=v.ErrorDescriptions)||void 0===O?void 0:O.length)?h.State.ErrorDescriptions.map((function(e,t){return Object(z.jsx)(qt,{descr:e.Code,value:e.Description},t.toString())})):Object(z.jsx)(z.Fragment,{})]})})})),Lt=r.a.memo((function(e){var t,n,a,r,c,o,s;console.log("! render SystemCard");var i=Tt(),l=Object(z.jsx)("span",{className:i.bullet,children:"\u2022"}),u=e.system,d=e.volatile,j=null===u||void 0===u?void 0:u.LogicalDisks,b=null===u||void 0===u?void 0:u.HardDrives,p=null===u||void 0===u?void 0:u.Lans,v=null===u||void 0===u?void 0:u.VideoAdapters,O=null===u||void 0===u?void 0:u.Monitors,m=null===u||void 0===u?void 0:u.Printers,x=(null===u||void 0===u?void 0:u.Motherboards)?null===u||void 0===u?void 0:u.Motherboards[0]:void 0;return Object(z.jsx)(Et.a,{className:i.root,children:Object(z.jsxs)(Ct.a,{children:[Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[l,"CPU"]}),(null===x||void 0===x?void 0:x.Cpu)||(null===d||void 0===d||null===(t=d.Processor)||void 0===t?void 0:t.CPULoad)||0===(null===d||void 0===d||null===(n=d.Processor)||void 0===n?void 0:n.CPULoad)?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(It,{descr:"\u041c\u043e\u0434\u0435\u043b\u044c",value:null===x||void 0===x?void 0:x.Cpu,rightWidth:"100%"}),Object(z.jsx)(It,{descr:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",value:(null===d||void 0===d||null===(a=d.Processor)||void 0===a?void 0:a.CPULoad)+"%"})]}):Object(z.jsx)(z.Fragment,{}),Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[l,"\u041f\u0430\u043c\u044f\u0442\u044c"]}),(null===d||void 0===d||null===(r=d.Memory)||void 0===r?void 0:r.MemoryTotalGb)||(null===d||void 0===d||null===(c=d.Memory)||void 0===c?void 0:c.MemoryFreeGb)?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(It,{descr:"\u0412\u0441\u0435\u0433\u043e",value:(null===d||void 0===d||null===(o=d.Memory)||void 0===o?void 0:o.MemoryTotalGb)+" \u0413\u0431"}),Object(z.jsx)(It,{descr:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e",value:(null===d||void 0===d||null===(s=d.Memory)||void 0===s?void 0:s.MemoryFreeGb)+" \u0413\u0431"})]}):Object(z.jsx)(z.Fragment,{}),Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[l,"\u0414\u0438\u0441\u043a\u0438"]}),Object(z.jsxs)(W.a,{variant:"h6",component:"h2",children:[l,"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0438\u0441\u043a\u0438"]}),null===j||void 0===j?void 0:j.map((function(e,t){return Object(z.jsxs)("div",{children:[Object(z.jsxs)(W.a,{variant:"h6",component:"h2",children:[l,"\u0414\u0438\u0441\u043a ",e.Letter]}),Object(z.jsx)(It,{descr:"\u0412\u0441\u0435\u0433\u043e",value:e.TotalSize+" \u0413\u0431"}),Object(z.jsx)(It,{descr:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e",value:e.FreeSize+" \u0413\u0431"})]},t.toString())})),Object(z.jsxs)(W.a,{variant:"h6",component:"h2",children:[l,"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0438\u0441\u043a\u0438"]}),null===b||void 0===b?void 0:b.map((function(e,t){return Object(z.jsxs)("div",{children:[Object(z.jsxs)(W.a,{variant:"h6",component:"h2",children:[l,"\u0414\u0438\u0441\u043a ",e.mediatype]}),Object(z.jsx)(It,{descr:e.FriendlyName+" \u0413\u0431",value:e.SizeGb+" \u0413\u0431"})]},t.toString())})),Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[l,"\u0421\u0435\u0442\u044c"]}),null===p||void 0===p?void 0:p.filter((function(e){return e.Adapter})).map((function(e,t){return Object(z.jsx)(It,{descr:e.Adapter,value:e.Ip},t.toString())})),Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[l,"\u0412\u0438\u0434\u0435\u043e\u0430\u0434\u0430\u043f\u0442\u0435\u0440\u044b"]}),null===v||void 0===v?void 0:v.map((function(e,t){return Object(z.jsxs)("div",{children:[Object(z.jsx)(It,{descr:"\u0418\u043c\u044f",value:e.CardName,rightWidth:"100%"}),Object(z.jsx)(It,{descr:"\u041f\u0430\u043c\u044f\u0442\u044c",value:e.MemoryGb+" \u0413\u0431"}),Object(z.jsx)(It,{descr:"\u0414\u0440\u0430\u0439\u0432\u0435\u0440",value:e.DrvDate,rightWidth:"100%"})]},t.toString())})),Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[l,"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u044b"]}),null===O||void 0===O?void 0:O.map((function(e,t){return Object(z.jsx)(It,{descr:e.MonitorName,value:e.SerialNumber,rightWidth:"100%"},t.toString())})),Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[l,"\u041f\u0440\u0438\u043d\u0442\u0435\u0440\u044b"]}),null===m||void 0===m?void 0:m.map((function(e,t){return Object(z.jsxs)("div",{children:[Object(z.jsx)(It,{descr:"\u0418\u043c\u044f",value:e.PrinterName,rightWidth:"100%"}),Object(z.jsx)(It,{descr:"\u041f\u043e\u0440\u0442",value:e.PrinterPort,rightWidth:"100%"})]},t.toString())}))]})})})),Mt=r.a.memo((function(e){console.log("! render OrganAutoCard");var t=Tt(),n=Object(z.jsx)("span",{className:t.bullet,children:"\u2022"}),a=e.organAuto;return Object(z.jsx)(Et.a,{className:t.root,children:Object(z.jsxs)(Ct.a,{children:[Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[n,"\u041e\u0440\u0433\u0430\u043d\u043e\u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u043a\u0430"]}),Object(z.jsx)(It,{descr:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:null===a||void 0===a?void 0:a.Name,rightWidth:"50%"}),Object(z.jsx)(It,{descr:"\u041f\u0440\u0435\u043a\u0446\u0438\u044f",value:null===a||void 0===a?void 0:a.Projection}),Object(z.jsx)(It,{descr:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",value:null===a||void 0===a?void 0:a.Direction}),Object(z.jsx)(It,{descr:"\u0412\u043e\u0437\u0440. \u0433\u0440\u0443\u043f\u043f\u0430",value:null===a||void 0===a?void 0:a.AgeId}),Object(z.jsx)(It,{descr:"\u0422\u0435\u043b\u043e\u0441\u043b\u043e\u0436\u0435\u043d\u0438\u0435",value:null===a||void 0===a?void 0:a.Constitution})]})})})),Ut=n(249),Bt=Object(S.a)((function(e){return{media:{height:0,paddingTop:"100%",backgroundColor:"gray"},dimmed:{height:0,paddingTop:"100%",backgroundColor:"gray",filter:"brightness(40%)"}}})),Gt=r.a.memo((function(e){console.log("! render EquipImageCard");var t=Tt(),n=Bt(),a=(t.bullet,e.equipInfo),r=Object.keys(b).find((function(e){return b[e].some((function(e){return null===a||void 0===a?void 0:a.startsWith(e)}))})),c=e.isConnected,o=e.lastSeen;return Object(z.jsxs)(Et.a,{className:t.root,children:[Object(z.jsx)(Ut.a,{className:c?n.media:n.dimmed,image:"./"+r,title:"\u0410\u043f\u043f\u0430\u0440\u0430\u0442"}),Object(z.jsx)(Ct.a,{children:Object(z.jsxs)(W.a,{variant:"body2",color:"textSecondary",component:"p",children:["\u0410\u043f\u043f\u0430\u0440\u0430\u0442 : ",a,o?Object(z.jsxs)("div",{children:["\u041f\u043e\u0441\u043b. \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435: ",De(o)," "]}):Object(z.jsx)(z.Fragment,{})]})})]})})),Vt=r.a.memo((function(e){var t,n;console.log("! render DicomCard");var a=Tt(),r=Object(z.jsx)("span",{className:a.bullet,children:"\u2022"}),c=e.dicom;return Object(z.jsx)(Et.a,{className:a.root,children:Object(z.jsxs)(Ct.a,{children:[Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[r,"DICOM"]}),Object(z.jsxs)(W.a,{variant:"h6",component:"h2",children:[r,"PACS"]}),(null===c||void 0===c||null===(t=c.PACS)||void 0===t?void 0:t.length)?c.PACS.map((function(e,t){return Object(z.jsxs)("div",{children:[Object(z.jsx)(It,{descr:e.Name,value:e.IP}),Object(z.jsx)(It,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:e.State?"\u0412\u043a\u043b\u044e\u0447\u0435\u043d":"\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438",rightColor:e.State?"green":"#f50057"})]},t.toString())})):Object(z.jsx)(z.Fragment,{}),Object(z.jsxs)(W.a,{variant:"h6",component:"h2",children:[r,"WorkList"]}),(null===c||void 0===c||null===(n=c.WorkList)||void 0===n?void 0:n.length)?c.WorkList.map((function(e,t){return Object(z.jsxs)("div",{children:[Object(z.jsx)(It,{descr:e.Name,value:e.IP}),Object(z.jsx)(It,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:e.State?"\u0412\u043a\u043b\u044e\u0447\u0435\u043d":"\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438",rightColor:"red"})]},t.toString())})):Object(z.jsx)(z.Fragment,{})]})})})),Ht=r.a.memo((function(e){console.log("! render RemoteAccessCard");var t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),s=Object(g.a)(o,2),i=s[0],l=s[1],u=Tt(),d=Object(z.jsx)("span",{className:u.bullet,children:"\u2022"}),j=e.equipInfo,b=e.token,p=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(b,j);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(b,j);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(b,j);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(b,j,r,i);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!r);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!i);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=e.remoteaccess;return Object(z.jsx)(Et.a,{className:u.root,children:Object(z.jsxs)(Ct.a,{children:[Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[d,"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f"]}),Object(z.jsx)(Pt,{descr:"TeamViewer",title:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c",onClick:p}),Object(z.jsx)(Pt,{descr:"TaskManager",title:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c",onClick:v}),Object(z.jsx)(Pt,{descr:"\u041b\u043e\u0433\u0438 \u0410\u0442\u043b\u0430\u0441",title:"\u041f\u0440\u0438\u0441\u043b\u0430\u0442\u044c",onClick:O}),Object(z.jsx)(Pt,{descr:"\u041b\u043e\u0433\u0438 Xilib",title:y.Xilogs?y.Xilogs.on?"\u0412\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c":"\u041d\u0435 \u043e\u043f\u0440\u0435\u0434",onClick:m,buttonColor:y.Xilogs?y.Xilogs.on?"secondary":"primary":void 0,disabled:!y.Xilogs}),Object(z.jsx)(Rt,{descr:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0439",onChange:x}),Object(z.jsx)(Rt,{descr:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439",onChange:S})]})})})),Jt=r.a.memo((function(e){var t,n,a,r,c,o,s,i,l,u,d,j,b,p;console.log("! render StandCard");var v=Tt(),O=Object(z.jsx)("span",{className:v.bullet,children:"\u2022"}),m=e.stand;return Object(z.jsx)(Et.a,{className:v.root,children:Object(z.jsxs)(Ct.a,{children:[Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[O,"\u0428\u0442\u0430\u0442\u0438\u0432"]}),Object(z.jsx)(It,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:(null===m||void 0===m||null===(t=m.State)||void 0===t?void 0:t.State)>0?"\u0413\u043e\u0442\u043e\u0432":"\u041d\u0435 \u0433\u043e\u0442\u043e\u0432",rightColor:(null===m||void 0===m||null===(n=m.State)||void 0===n?void 0:n.State)>0?"green":"red"}),Object(z.jsx)(It,{descr:"\u0420\u0435\u0436\u0438\u043c",value:null===m||void 0===m||null===(a=m.State)||void 0===a?void 0:a.Mode}),Object(z.jsx)(It,{descr:"\u0420\u0430\u0441\u0442\u0440",value:null===m||void 0===m||null===(r=m.State)||void 0===r?void 0:r.RasterState}),Object(z.jsx)(It,{descr:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f",value:null===m||void 0===m||null===(c=m.State)||void 0===c?void 0:c.Position_Current}),Object(z.jsx)(It,{descr:"\u0423\u0433\u043e\u043b \u043d\u0430\u043a\u043b\u043e\u043d\u0430 \u0442\u0440\u0443\u0431\u043a\u0438",value:null===m||void 0===m||null===(o=m.State)||void 0===o?void 0:o.Tube_Incline}),Object(z.jsx)(It,{descr:"\u0423\u0433\u043e\u043b \u043d\u0430\u043a\u043b\u043e\u043d\u0430 \u0434\u0435\u043a\u0438",value:null===m||void 0===m||null===(s=m.State)||void 0===s?void 0:s.Deck_Incline}),Object(z.jsx)(It,{descr:"\u0423\u0433\u043e\u043b \u043d\u0430\u043a\u043b\u043e\u043d\u0430 \u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440\u0430",value:null===m||void 0===m||null===(i=m.State)||void 0===i?void 0:i.Camera_Incline}),Object(z.jsx)(It,{descr:"\u0424\u043e\u043a\u0443\u0441\u043d\u043e\u0435 \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:null===m||void 0===m||null===(l=m.State)||void 0===l?void 0:l.Ffd_Current}),Object(z.jsx)(It,{descr:"\u0412\u044b\u0441\u043e\u0442\u0430 \u0441\u0442\u043e\u043b\u0430",value:null===m||void 0===m||null===(u=m.State)||void 0===u?void 0:u.Deck_Height}),Object(z.jsx)(It,{descr:"\u041e\u0448\u0438\u0431\u043a\u0438",value:null===m||void 0===m||null===(d=m.State)||void 0===d||null===(j=d.ErrorDescriptions)||void 0===j?void 0:j.length}),(null===m||void 0===m||null===(b=m.State)||void 0===b||null===(p=b.ErrorDescriptions)||void 0===p?void 0:p.length)?m.State.ErrorDescriptions.map((function(e,t){return Object(z.jsx)(qt,{descr:e.Code,value:e.Description},t.toString())})):Object(z.jsx)(z.Fragment,{})]})})})),Qt=r.a.memo((function(e){var t,n,a,r;console.log("! render DosimeterCard");var c=Tt(),o=Object(z.jsx)("span",{className:c.bullet,children:"\u2022"}),s=e.dosimeter;return Object(z.jsx)(Et.a,{className:c.root,children:Object(z.jsxs)(Ct.a,{children:[Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[o,"\u0414\u043e\u0437\u0438\u043c\u0435\u0442\u0440"]}),Object(z.jsx)(It,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:(null===s||void 0===s||null===(t=s.State)||void 0===t?void 0:t.State)>0?"\u0433\u043e\u0442\u043e\u0432":"\u041d\u0435 \u0433\u043e\u0442\u043e\u0432",rightColor:(null===s||void 0===s||null===(n=s.State)||void 0===n?void 0:n.State)>0?"green":"red"}),Object(z.jsx)(It,{descr:"\u0414\u043e\u0437\u0430",value:(null===s||void 0===s||null===(a=s.State)||void 0===a?void 0:a.Dose)?parseFloat(null===s||void 0===s||null===(r=s.State)||void 0===r?void 0:r.Dose).toFixed(2)+" \u0441\u0413\u0440":""})]})})})),zt=r.a.memo((function(e){var t,n,a;console.log("! render SoftwareCard");var r=Tt(),c=Object(z.jsx)("span",{className:r.bullet,children:"\u2022"}),o=e.volatile,s=null===o||void 0===o?void 0:o.DBStates,i=null===(t=e.software)||void 0===t?void 0:t.Software,l=Array.isArray(null===i||void 0===i?void 0:i.Atlas)?null===i||void 0===i?void 0:i.Atlas[0]:null,u=null===o||void 0===o?void 0:o.AtlasUser,d=Array.isArray(null===i||void 0===i?void 0:i.OsInfos)?null===i||void 0===i?void 0:i.OsInfos[0]:null,j=Array.isArray(null===i||void 0===i?void 0:i.SqlServices)?null===i||void 0===i?void 0:i.SqlServices[0]:null,b=null!==s&&void 0!==s?s:null===i||void 0===i?void 0:i.SqlDatabases;return Object(z.jsx)(Et.a,{className:r.root,children:Object(z.jsxs)(Ct.a,{children:[Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[c,"Software"]}),Object(z.jsx)(It,{descr:null===d||void 0===d?void 0:d.OsCaption,value:null===d||void 0===d?void 0:d.OsVersion}),Object(z.jsx)(It,{descr:null===j||void 0===j?void 0:j.SqlName,value:null===j||void 0===j?void 0:j.SqlVersion}),Object(z.jsx)(It,{descr:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",value:null===d||void 0===d?void 0:d.CurrentUser}),Object(z.jsx)(It,{descr:"\u041e\u0448\u0438\u0431\u043a\u0438",value:""}),(null===o||void 0===o||null===(n=o.ErrorDescriptions)||void 0===n?void 0:n.length)?o.ErrorDescriptions.map((function(e,t){return Object(z.jsx)(qt,{descr:e.Code,value:e.Description},t.toString())})):Object(z.jsx)(z.Fragment,{}),Object(z.jsxs)(W.a,{variant:"h6",component:"h2",children:[c,"\u0411\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445"]}),(null===b||void 0===b?void 0:b.length)?b.map((function(e,t){return Object(z.jsx)(It,{descr:e.Name,value:e.Status},t.toString())})):Object(z.jsx)(z.Fragment,{}),Object(z.jsxs)(W.a,{variant:"h6",component:"h2",children:[c,"\u0410\u0442\u043b\u0430\u0441"]}),Object(z.jsx)(It,{descr:"\u0412\u0435\u0440\u0441\u0438\u044f",value:null===l||void 0===l?void 0:l.AtlasVersion}),Object(z.jsx)(It,{descr:"Xilib",value:null===l||void 0===l?void 0:l.XilibsVersion}),Object(z.jsx)(It,{descr:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f",value:null===l||void 0===l?void 0:l.ComplexType}),Object(z.jsx)(It,{descr:"\u042f\u0437\u044b\u043a",value:null===l||void 0===l?void 0:l.Language}),Object(z.jsx)(It,{descr:"Multimonitor",value:null===l||void 0===l?void 0:l.Multimonitor}),Object(z.jsx)(It,{descr:(null===u||void 0===u?void 0:u.User)?null===u||void 0===u?void 0:u.Role:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",value:(null===u||void 0===u?void 0:u.User)?null===u||void 0===u?void 0:u.User:"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d",rightWidth:"100%"}),Object(z.jsx)(It,{descr:"\u041e\u0448\u0438\u0431\u043a\u0438",value:""}),(null===i||void 0===i||null===(a=i.AtlasErrorDescriptions)||void 0===a?void 0:a.length)?i.AtlasErrorDescriptions.map((function(e,t){return Object(z.jsx)(qt,{descr:e.Code,value:e.Description},t.toString())})):Object(z.jsx)(z.Fragment,{})]})})})),Xt=r.a.memo((function(e){console.log("! render ImagesCard");var t=Tt(),n=Object(z.jsx)("span",{className:t.bullet,children:"\u2022"}),a=e.images,r=null===a||void 0===a?void 0:a.Today,c=null===a||void 0===a?void 0:a.Current;return Object(z.jsx)(Et.a,{className:t.root,children:Object(z.jsxs)(Ct.a,{children:[Object(z.jsxs)(W.a,{variant:"h5",component:"h2",children:[n,"\u0421\u043d\u0438\u043c\u043a\u0438"]}),Object(z.jsx)(It,{descr:"\u0412\u0441\u0435\u0433\u043e",value:null===a||void 0===a?void 0:a.ImageCount}),Object(z.jsxs)(W.a,{variant:"h6",component:"h2",children:[n,"\u0417\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"]}),(null===r||void 0===r?void 0:r.SingleGraphy)?Object(z.jsx)(It,{descr:"\u0413\u0440\u0430\u0444\u0438\u044f",value:r.SingleGraphy}):Object(z.jsx)(z.Fragment,{}),(null===r||void 0===r?void 0:r.Scopy)?Object(z.jsx)(It,{descr:"\u0421\u043a\u043e\u043f\u0438\u044f",value:r.Scopy}):Object(z.jsx)(z.Fragment,{}),Object(z.jsxs)(W.a,{variant:"h6",component:"h2",children:[n,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439"]}),Object(z.jsx)(It,{descr:"\u041d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u0438\u0435",value:null===c||void 0===c?void 0:c.Kv}),Object(z.jsx)(It,{descr:"\u0422\u043e\u043a",value:null===c||void 0===c?void 0:c.Mas}),Object(z.jsx)(It,{descr:"\u0414\u043e\u0437\u0430",value:null===c||void 0===c?void 0:c.Dose})]})})})),_t=n(251),Yt=n(250),Kt=Object(S.a)({text:{margin:"1em"}});function Zt(e){var t=Kt(),n=r.a.useState(!!e.text),a=Object(g.a)(n,2),c=a[0],o=a[1];return Object(z.jsxs)(Yt.a,{onClose:function(e){o(!1)},"aria-labelledby":"simple-dialog-title",open:c,children:[Object(z.jsx)(_t.a,{id:"simple-dialog-title",children:e.title}),Object(z.jsx)(W.a,{className:t.text,children:e.text})]})}var $t=Object(S.a)((function(e){return{root:{display:"flex"},column:{width:"30%",marginRight:"12px"}}}));function en(e){var t,n,r;console.log("render SummaryMainTabPanel");var c=$t(),o=Object(a.useContext)(se),s=Object(g.a)(o,2),i=s[0],l=(s[1],Object(a.useContext)($)),u=Object(g.a)(l,2),d=u[0],j=(u[1],Object(a.useContext)(he)),b=Object(g.a)(j,2),p=b[0],v=(b[1],Object(a.useContext)(de)),O=Object(g.a)(v,2),m=O[0],x=(O[1],null===(t=i.remoteaccess)||void 0===t?void 0:t.FtpSendResult),h=i.equipInfo,f=null===(n=d.connectedEquips)||void 0===n?void 0:n.includes(h),S=i.lastSeen;return Object(z.jsxs)("div",{className:c.root,children:[Object(z.jsxs)("div",{className:c.column,children:[Object(z.jsx)(Gt,{equipInfo:h,isConnected:f,lastSeen:S}),Object(z.jsx)(Lt,{system:i.system,volatile:p.currentVolatile})]}),Object(z.jsxs)("div",{className:c.column,children:[Object(z.jsx)(Mt,{organAuto:i.organAuto}),Object(z.jsx)(Xt,{images:i.images}),Object(z.jsx)(Ft,{generator:i.generator}),Object(z.jsx)(Wt,{detectors:i.detectors,aecs:i.aecs}),Object(z.jsx)(Jt,{stand:i.stand}),Object(z.jsx)(Qt,{dosimeter:i.dosimeter})]}),Object(z.jsxs)("div",{className:c.column,children:[Object(z.jsx)(Ht,{equipInfo:i.equipInfo,remoteaccess:i.remoteaccess,token:m.token}),Object(z.jsx)(Vt,{dicom:i.dicom}),Object(z.jsx)(zt,{software:i.software,volatile:p.currentVolatile})]}),x?Object(z.jsx)(Zt,{title:"\u0414\u0430\u043d\u043d\u044b\u0435 FTP",text:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u0441\u043b\u0430\u043d\u044b "+((null===(r=i.remoteaccess)||void 0===r?void 0:r.FtpSendResult)?"\u0443\u0441\u043f\u0435\u0448\u043d\u043e":"\u0441 \u043e\u0448\u0438\u0431\u043a\u0430\u043c\u0438")}):Object(z.jsx)(z.Fragment,{})]})}var tn=n(103),nn=n(253),an=n(257),rn=n(256),cn=n(252),on=n(254),sn=n(273),ln=n(255),un=n(268),dn=Object(S.a)({root:{width:"100%"},container:{minHeight:40,maxHeight:"100%"},errorCell:{color:"white",background:"red",margin:"0px",wordWrap:"break-word"},simpleCell:{wordWrap:"break-word"},boldCell:{wordWrap:"break-word",fontWeight:"bolder",fontSize:"larger"},checkBox:{color:"green"}});function jn(e){var t=dn(),n=r.a.useState(0),a=Object(g.a)(n,2),c=a[0],o=a[1],s=r.a.useState(10),i=Object(g.a)(s,2),l=i[0],u=i[1],d=e.rows?e.rows:[],j=e.columns,b=e.selectedRow,p=e.onRowClick;p||(p=function(e,t){});var v=e.isRowBold;return Object(z.jsxs)(tn.a,{className:t.root,children:[Object(z.jsx)(cn.a,{className:t.container,children:Object(z.jsxs)(nn.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small",children:[Object(z.jsx)(on.a,{children:Object(z.jsx)(ln.a,{children:j.map((function(e){return Object(z.jsx)(rn.a,{align:e.align,style:{minWidth:e.minWidth,maxWidth:e.maxWidth},children:e.label},e.id)}))})}),Object(z.jsx)(an.a,{children:d.slice(c*l,c*l+l).map((function(n,a){return Object(z.jsx)(ln.a,{selected:!!b&&n.EquipName===b,hover:!0,role:"checkbox",tabIndex:-1,onClick:function(e){return p(e,n)},children:j.map((function(a){var r=n[a.id],c=a.format?a.format(n):r;return Object(z.jsx)(rn.a,{align:a.align,className:a.hasErrors&&a.hasErrors(r)?t.errorCell:v&&v(n)?t.boldCell:t.simpleCell,children:Object(z.jsx)("div",{style:{maxWidth:a.maxWidth},children:a.checked?Object(z.jsx)(un.a,{style:{color:c?"green":"gray"},checked:c,onChange:function(t){return!!e.onSelect&&e.onSelect(t,n)},inputProps:{"aria-label":"select all desserts","data-column":a.id}}):a.format?a.format(r):a.formatArray?a.formatArray(r).map((function(e){return Object(z.jsx)("pre",{children:e})})):r})},a.id)}))},a)}))})]})}),Object(z.jsx)(sn.a,{rowsPerPageOptions:[10,25,100],component:"div",count:null===d||void 0===d?void 0:d.length,rowsPerPage:l,page:c,onChangePage:function(e,t){o(t)},onChangeRowsPerPage:function(e){u(+e.target.value),o(0)}})]})}var bn=Object(S.a)((function(e){return{root:{display:"flex"},column:{width:"30%",marginRight:"12px"},listPanel:{width:"285px",backgroundColor:"white",maxHeight:"900px",overflowY:"auto"},content:{flexGrow:1,backgroundColor:e.palette.background.default,paddingLeft:e.spacing(1)}}}));function pn(e){var t,n,c,o;console.log("render SummaryBDTabPanel");var s=bn(),i=r.a.useState(""),l=Object(g.a)(i,2),u=l[0],d=l[1],j=Object(a.useContext)(se),b=Object(g.a)(j,2),p=b[0],v=(b[1],Object(a.useContext)(de)),O=Object(g.a)(v,2),m=O[0],x=(O[1],p.allDBs,p.allDBTables,function(){var e=Object(f.a)(h.a.mark((function e(t,n,a,r){var c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(m.token,p.equipInfo,a,r);case 2:c=e.sent,o=[],o=Array.isArray(c)?c.map((function(e){return JSON.parse(e)})).flat(1):c?JSON.parse(c):null,d(o);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()),S=0===u.length?[]:Object.keys(u[0]).map((function(e){return"active"===(t=e).toLowerCase()?{id:t,label:t,minWidth:100,maxWidth:100,format:function(e){return e?"+":"-"}}:{id:t,label:t,minWidth:100,maxWidth:300};var t})),y=0===u.length?[]:u,w=null===(t=p.allDBTables)||void 0===t?void 0:t.Hospital,C=null===(n=p.allDBTables)||void 0===n?void 0:n.System,D=null===(c=p.allDBTables)||void 0===c?void 0:c.Software,I=null===(o=p.allDBTables)||void 0===o?void 0:o.Atlas;return Object(z.jsxs)("div",{className:s.root,children:[Object(z.jsxs)("div",{className:s.listPanel,children:[Object(z.jsx)(W.a,{variant:"h6",component:"h2",children:"\u041b\u041f\u0423"}),Object(z.jsx)(E.a,{children:null===w||void 0===w?void 0:w.map((function(e,t){return Object(z.jsxs)(T.a,{button:!0,onClick:function(n){return x(n,t,"Hospital",e)},children:[Object(z.jsx)(N.a,{children:t%2===0?Object(z.jsx)(A.a,{}):Object(z.jsx)(q.a,{})}),Object(z.jsx)(k.a,{primary:e})]},e)}))}),Object(z.jsx)(W.a,{variant:"h6",component:"h2",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430"}),Object(z.jsx)(E.a,{children:null===C||void 0===C?void 0:C.map((function(e,t){return Object(z.jsxs)(T.a,{button:!0,onClick:function(n){return x(n,t,"System",e)},children:[Object(z.jsx)(N.a,{children:t%2===0?Object(z.jsx)(A.a,{}):Object(z.jsx)(q.a,{})}),Object(z.jsx)(k.a,{primary:e})]},e)}))}),Object(z.jsx)(W.a,{variant:"h6",component:"h2",children:"\u041e\u0431\u0449\u0435\u0435 \u041f\u041e"}),Object(z.jsx)(E.a,{children:null===D||void 0===D?void 0:D.map((function(e,t){return Object(z.jsxs)(T.a,{button:!0,onClick:function(n){return x(n,t,"Software",e)},children:[Object(z.jsx)(N.a,{children:t%2===0?Object(z.jsx)(A.a,{}):Object(z.jsx)(q.a,{})}),Object(z.jsx)(k.a,{primary:e})]},e)}))}),Object(z.jsx)(W.a,{variant:"h6",component:"h2",children:"\u0410\u0442\u043b\u0430\u0441"}),Object(z.jsx)(E.a,{children:null===I||void 0===I?void 0:I.map((function(e,t){return Object(z.jsxs)(T.a,{button:!0,onClick:function(n){return x(n,t,"Atlas",e)},children:[Object(z.jsx)(N.a,{children:t%2===0?Object(z.jsx)(A.a,{}):Object(z.jsx)(q.a,{})}),Object(z.jsx)(k.a,{primary:e})]},e)}))})]}),Object(z.jsx)("main",{className:s.content,children:Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(jn,{columns:S,rows:y,isRowBold:function(e){return e.Active}})})})]})}var vn=n(269),On=n(262);Object(S.a)({root:{width:"100%"}});Object(S.a)({root:{width:"100%"}});var mn=n(259),xn=n(274),hn=n(260),fn=n(131),gn=n.n(fn),Sn=n(132),yn=n.n(Sn),wn=Object(S.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"},equip:{width:"10%"},isImportant:{backgroundColor:"red"},collapse:{textAlign:"left"}}}));function En(e){var t=wn(),n=r.a.useState(!1),a=Object(g.a)(n,2),c=a[0],o=a[1],s=e.isImportant,i=e.equipName,l=e.time,u=e.title,d=e.text,j=e.details;return Object(z.jsxs)("div",{children:[Object(z.jsxs)(T.a,{alignItems:"flex-start",button:!0,onClick:function(){o(!c)},children:[Object(z.jsx)(mn.a,{children:Object(z.jsx)(xn.a,{className:s?t.isImportant:null,alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"})}),Object(z.jsx)(k.a,{primary:Object(z.jsxs)(r.a.Fragment,{children:[Object(z.jsx)(W.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:i})," "+l]}),secondary:Object(z.jsxs)(r.a.Fragment,{children:[Object(z.jsx)(W.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:u})," - "+d]})}),j&&c?Object(z.jsx)(gn.a,{}):j&&!c?Object(z.jsx)(yn.a,{}):Object(z.jsx)(z.Fragment,{})]}),j?Object(z.jsx)(hn.a,{in:c,timeout:"auto",unmountOnExit:!0,className:t.collapse,children:j}):Object(z.jsx)(z.Fragment,{})]})}var Cn=Object(S.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper}}}));function Tn(e){var t,n,a=Cn(),r=(e.equipName,e.showImportantOnly),c=e.rows;return Object(z.jsxs)(E.a,{className:a.root,children:[Object(z.jsx)(W.a,{component:"span",variant:"h5",color:"textPrimary",children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}),null===c||void 0===c||null===(t=c.filter((function(e){return Ae(e.DateTime)})))||void 0===t?void 0:t.map((function(e,t){var n,a,c=null===(n=e.Type)||void 0===n?void 0:n.includes("Error"),o=null===(a=e.Type)||void 0===a?void 0:a.includes("Offline");return c||!r?Object(z.jsx)(En,{isImportant:c,equipName:e.EquipName,title:e.Title+(o?"(Offline)":""),text:e.Description,time:De(e.DateTime),details:e.Details},t.toString()):Object(z.jsx)(z.Fragment,{})})),Object(z.jsx)(C.a,{}),Object(z.jsx)(W.a,{component:"span",variant:"h5",color:"textPrimary",children:"\u0412\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"}),null===c||void 0===c||null===(n=c.filter((function(e){return!Ae(e.DateTime)})))||void 0===n?void 0:n.map((function(e,t){var n,a=null===(n=e.Type)||void 0===n?void 0:n.includes("Error");return a||!r?Object(z.jsx)(En,{isImportant:a,equipName:e.EquipName,title:e.Title,text:e.Description,time:De(e.DateTime),details:e.Details},t.toString()):Object(z.jsx)(z.Fragment,{})}))]})}var Nn=Object(S.a)((function(e){return{root:{display:"flex"},commonSpacing:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},textField:{width:200},selectEmpty:{marginTop:e.spacing(2)},optionStyle:{}}}));function kn(e){console.log("render SummaryHistoryTabPanel");var t=Nn(),n=Object(a.useContext)(ae),r=Object(g.a)(n,2),c=r[0],o=r[1],s=Object(a.useContext)(de),i=Object(g.a)(s,2),l=i[0],u=(i[1],new Date),d=Object(a.useState)(ke(new Date(u.setDate(u.getDate()-7)))),j=Object(g.a)(d,2),b=j[0],p=j[1],v=Object(a.useState)(ke(new Date)),O=Object(g.a)(v,2),m=O[0],x=O[1],S=Object(a.useState)(!1),y=Object(g.a)(S,2),w=y[0],E=y[1],C=e.equipName,T=c.currentEvents,N=l.token,k=function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(N,"Events",C,b,m);case 2:t=e.sent,o({type:"SETEVENTS",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(!w);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:t.root,children:[Object(z.jsx)(vn.a,{id:"startDate",label:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u0430\u0442\u0430",type:"date",defaultValue:b,onChange:function(e){p(e.target.value)},className:(t.textField,t.commonSpacing),InputLabelProps:{shrink:!0}}),Object(z.jsx)(vn.a,{id:"endDate",label:"\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0434\u0430\u0442\u0430",type:"date",defaultValue:m,onChange:function(e){x(e.target.value)},className:(t.textField,t.commonSpacing),InputLabelProps:{shrink:!0}}),Object(z.jsx)(On.a,{control:Object(z.jsx)(un.a,{checked:w,onChange:D}),label:"\u0422\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0436\u043d\u044b\u0435"}),Object(z.jsx)(J.a,{variant:"contained",color:"primary",className:t.commonSpacing,onClick:k,children:"\u0418\u0441\u043a\u0430\u0442\u044c"})]}),Object(z.jsx)("div",{className:t.root,children:Object(z.jsx)(Tn,{equipName:C,rows:T,showImportantOnly:w})})]})}var Dn=Object(S.a)((function(e){return{root:{display:"flex"},column:{width:"50%",marginRight:"12px"},fullRow:{width:"100%",textAlign:"left"},textField:{marginTop:e.spacing(1),marginBottom:e.spacing(1),width:"100%"},noteTitle:{width:"100%",fontWeight:"bolder",textAlign:"left",display:"inline"}}}));function An(e){console.log("render SummaryChatPanel");var t=Dn(),n=Object(a.useContext)(ve),r=Object(g.a)(n,2),c=r[0],o=r[1],s=Object(a.useContext)(de),i=Object(g.a)(s,2),l=i[0],u=(i[1],Object(a.useState)("")),d=Object(g.a)(u,2),j=d[0],b=d[1],p=e.equipName,v=l.token,O=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(v,p,"Note",j);case 2:t=e.sent,o({type:"ADDNOTE",payload:t}),b("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=c.notes;return Object(z.jsxs)("div",{className:t.root,children:[Object(z.jsxs)("div",{className:t.column,children:[Object(z.jsx)(W.a,{variant:"h5",children:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438"}),(null===x||void 0===x?void 0:x.length)?x.map((function(e,n){return Object(z.jsxs)("div",{className:t.fullRow,children:[Object(z.jsxs)(W.a,{variant:"body1",align:"left",color:"primary",className:t.noteTitle,children:[e.User+" ("," ",De(e.DateTime)+") - "]}),e.Message]},n.toString())})):Object(z.jsx)(z.Fragment,{}),Object(z.jsx)(vn.a,{id:"outlined-multiline-static",className:t.textField,label:"\u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",multiline:!0,rows:5,defaultValue:"",variant:"outlined",value:j,onChange:function(e){return O(e.target.value)}}),Object(z.jsx)(J.a,{variant:"contained",color:"primary",onClick:m,children:"\u041f\u043e\u0441\u043b\u0430\u0442\u044c"})]}),Object(z.jsx)("div",{className:t.column,children:Object(z.jsx)(W.a,{variant:"h5",children:"\u0427\u0430\u0442"})})]})}var In=Object(S.a)((function(e){return{root:{}}}));function qn(e){var t;console.log("render SummaryTab");In();var n=Object(a.useContext)(se),r=Object(g.a)(n,2),c=r[0],o=(r[1],null!==(t=e.panel)&&void 0!==t?t:0),s=null===c||void 0===c?void 0:c.equipInfo;return Object(z.jsxs)("div",{children:[0===o?Object(z.jsx)(en,{}):Object(z.jsx)(z.Fragment,{}),1===o?Object(z.jsx)(pn,{equipName:s}):Object(z.jsx)(z.Fragment,{}),2===o?Object(z.jsx)(kn,{equipName:s}):Object(z.jsx)(z.Fragment,{}),3===o?Object(z.jsx)(An,{equipName:s}):Object(z.jsx)(z.Fragment,{})]})}var Pn=Object(S.a)((function(e){return{root:{display:"flex"}}}));function Rn(e){console.log("render MapTab");var t=Pn();return Object(z.jsx)("div",{className:t.root})}var Wn=Object(S.a)((function(e){return{root:{}}}));function Fn(e){console.log("render EventsTab");var t=Wn();return Object(z.jsx)("div",{className:t.root,children:Object(z.jsx)(kn,{equipName:""})})}var Ln=n(130);Object(S.a)((function(e){return{root:{display:"flex"},commonSpacing:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},textField:{width:200},selectEmpty:{marginTop:e.spacing(2)},optionStyle:{}}}));var Mn=n(271),Un=[{id:"Login",label:"\u041b\u043e\u0433\u0438\u043d",minWidth:170},{id:"Surname",label:"\u0424\u0418\u041e",minWidth:100},{id:"Email",label:"\u041f\u043e\u0447\u0442\u0430",minWidth:100},{id:"Role",label:"\u0420\u043e\u043b\u044c",minWidth:100},{id:"Disabled",label:"\u0423\u0434\u0430\u043b\u0435\u043d",checked:!0,minWidth:100}];function Bn(e){console.log("render UserTable");var t=Object(a.useContext)(de),n=Object(g.a)(t,2),r=n[0],c=n[1],o=e.data,s=function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a,o,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.checked,o=Object(Q.a)(Object(Q.a)({},n),{},{Disabled:a}),s=r.token,e.next=5,pt(o,s);case 5:return e.sent,e.next=8,jt(s);case 8:i=e.sent,c({type:"SETUSERS",payload:i});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(z.jsx)(jn,{columns:Un,rows:o,onSelect:s})}var Gn=Object(S.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"1em"},commonSpacing:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},text:{width:"50%",marginBottom:"1em"}}}));function Vn(e){console.log("render AdminMainTabPanel");var t=Gn(),n=Object(a.useContext)(de),r=Object(g.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)(""),i=Object(g.a)(s,2),l=i[0],u=i[1],d=Object(a.useState)(""),j=Object(g.a)(d,2),b=j[0],p=j[1],O=Object(a.useState)(""),x=Object(g.a)(O,2),S=x[0],y=x[1],w=Object(a.useState)(""),E=Object(g.a)(w,2),C=E[0],T=E[1],N=Object(a.useState)(v),k=Object(g.a)(N,2),D=k[0],A=k[1],I=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target,a=n.options[n.selectedIndex].value,A(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(f.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.token,e.next=3,pt({id:"",login:l,password:b,surname:S,email:C,role:D,disabled:!1},t);case 3:return e.sent,e.next=6,jt(t);case 6:n=e.sent,o({type:"SETUSERS",payload:n});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{className:t.root,children:[Object(z.jsxs)("div",{className:t.root,children:[Object(z.jsx)(vn.a,{className:t.text,id:"standard-basic",required:!0,label:"\u041b\u043e\u0433\u0438\u043d",defaultValue:"",onChange:function(e){u(e.target.value)}}),Object(z.jsx)(vn.a,{className:t.text,id:"standard-basic",required:!0,label:"\u041f\u0430\u0440\u043e\u043b\u044c",defaultValue:"",onChange:function(e){p(e.target.value)}}),Object(z.jsx)(vn.a,{className:t.text,id:"standard-basic",required:!0,label:"\u0424\u0418\u041e",defaultValue:"",onChange:function(e){y(e.target.value)}}),Object(z.jsx)(vn.a,{className:t.text,id:"standard-basic",label:"\u041f\u043e\u0447\u0442\u0430",defaultValue:"",onChange:function(e){T(e.target.value)}}),Object(z.jsxs)(F.a,{className:t.text,children:[Object(z.jsx)(Mn.a,{htmlFor:"grouped-native-select",children:"\u0420\u043e\u043b\u044c"}),Object(z.jsx)(Ln.a,{value:D,onChange:I,name:"roles",className:t.selectEmpty,variant:"outlined",children:m.map((function(e,n){return Object(z.jsx)("option",{value:e,className:t.optionStyle,children:e},n.toString())}))})]}),Object(z.jsx)(J.a,{variant:"contained",color:"primary",className:t.commonSpacing,onClick:q,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),Object(z.jsx)(Bn,{data:c.users})]})}var Hn=Object(S.a)((function(e){return{root:{}}}));function Jn(e){var t;console.log("render AdminTab");Hn();var n=null!==(t=e.panel)&&void 0!==t?t:0;return Object(z.jsxs)("div",{children:[0===n?Object(z.jsx)(Vn,{}):Object(z.jsx)(z.Fragment,{}),4===n?Object(z.jsx)(St,{}):Object(z.jsx)(z.Fragment,{})]})}var Qn=Object(S.a)((function(e){return{root:{display:"flex"},commonSpacing:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}));function zn(e){var t,n;console.log("render EquipTable");var c=Qn(),o=Object(a.useContext)(se),s=Object(g.a)(o,2),i=s[0],l=(s[1],Object(a.useContext)(X)),u=Object(g.a)(l,2),d=(u[0],u[1]),j=Object(a.useContext)(de),b=Object(g.a)(j,2),p=b[0],v=(b[1],Object(a.useContext)($)),m=Object(g.a)(v,2),x=m[0],S=m[1],y=ut(),w=Object(a.useState)(!0),E=Object(g.a)(w,2),C=E[0],T=E[1],N=Object(a.useState)(!1),k=Object(g.a)(N,2),D=(k[0],k[1],r.a.useState({byEquip:"",byHospital:"",byAddress:""})),A=Object(g.a)(D,2),I=A[0],q=A[1],P=[{id:"IsActive",label:"\u0410\u043a\u0442\u0438\u0432\u0435\u043d",checked:!0,minWidth:50,format:function(e){var t;return null===(t=x.connectedEquips)||void 0===t?void 0:t.includes(e.EquipName)}},{id:"EquipName",label:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0441",minWidth:170},{id:"RegisterDate",label:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",minWidth:170,format:function(e){return De(e)}},{id:"HospitalName",label:"\u041b\u041f\u0423",minWidth:100},{id:"HospitalAddress",label:"\u0410\u0434\u0440\u0435\u0441",minWidth:100},{id:"HospitalLatitude",label:"\u0428\u0438\u0440\u043e\u0442\u0430",minWidth:100},{id:"HospitalLongitude",label:"\u0414\u043e\u043b\u0433\u043e\u0442\u0430",minWidth:100}];(null===(t=p.currentUser)||void 0===t?void 0:t.Role)===O&&P.push({id:"Disabled",label:"\u0421\u043a\u0440\u044b\u0442",checked:!0,minWidth:100,format:function(e){return e.Disabled}});var R,W,F,L=C?null===(n=e.data)||void 0===n?void 0:n.filter((function(e){return!e.Disabled})):e.data;I.byEquip&&(L=null===(R=L)||void 0===R?void 0:R.filter((function(e){return e.EquipName.includes(I.byEquip)})));I.byHospital&&(L=null===(W=L)||void 0===W?void 0:W.filter((function(e){return e.HospitalName.includes(I.byHospital)})));I.byAddress&&(L=null===(F=L)||void 0===F?void 0:F.filter((function(e){return e.HospitalAddress.includes(I.byAddress)})));var M=function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Disabled"!==t.target.getAttribute("data-column")){e.next=3;break}return e.abrupt("return");case 3:a=n.EquipName,y(a,"SETEQUIPINFO"),S({type:"ADDSELECTEDEQUIPS",payload:a}),d({type:"SETTAB",payload:{tab:0,panel:0}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.EquipName,n.Disabled=!n.Disabled,e.next=4,rt(p.token,a,n.Disabled);case 4:S({type:"UPDATEALLEQUIPS",payload:n});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!C),e.next=4,Ye(p.token,C);case 4:n=e.sent,S({type:"SETALLEQUIPS",payload:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(Object(Q.a)(Object(Q.a)({},I),{byEquip:null===(n=t.target)||void 0===n?void 0:n.value}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(Object(Q.a)(Object(Q.a)({},I),{byHospital:null===(n=t.target)||void 0===n?void 0:n.value}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(Object(Q.a)(Object(Q.a)({},I),{byAddress:null===(n=t.target)||void 0===n?void 0:n.value}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:c.root,children:[Object(z.jsx)(On.a,{control:Object(z.jsx)(un.a,{checked:C,onChange:B}),label:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u0435\u0441\u043a\u0440\u044b\u0442\u044b\u0435"}),Object(z.jsx)(vn.a,{id:"outlined-basic",className:c.commonSpacing,onChange:G,label:"\u041f\u043e \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u0443",variant:"outlined"}),Object(z.jsx)(vn.a,{id:"outlined-basic",className:c.commonSpacing,onChange:V,label:"\u041f\u043e \u041b\u041f\u0423",variant:"outlined"}),Object(z.jsx)(vn.a,{id:"outlined-basic",className:c.commonSpacing,onChange:H,label:"\u041f\u043e \u0430\u0434\u0440\u0435\u0441\u0443",variant:"outlined"})]}),Object(z.jsx)("div",{className:c.root,children:Object(z.jsx)(jn,{readonly:!0,columns:P,rows:L,selectedRow:i.equipInfo,onRowClick:M,onSelect:U})})]})}var Xn=Object(S.a)((function(e){return{root:{}}}));function _n(e){console.log("render EquipsTab");var t=Xn(),n=Object(a.useContext)($),r=Object(g.a)(n,2),c=r[0];r[1];return Object(z.jsx)("div",{className:t.root,children:Object(z.jsx)(zn,{data:c.allEquips})})}function Yn(e){var t,n,r,c;console.log("render MainInfoComponent");var o=Object(a.useContext)(X),s=Object(g.a)(o,2),i=s[0],l=(s[1],null!==(t=null===(n=i.currentTab)||void 0===n?void 0:n.tab)&&void 0!==t?t:0),u=null!==(r=null===(c=i.currentTab)||void 0===c?void 0:c.panel)&&void 0!==r?r:0;return Object(z.jsxs)("div",{children:[0===l?Object(z.jsx)(qn,{panel:u}):Object(z.jsx)(z.Fragment,{}),1===l?Object(z.jsx)(_n,{}):Object(z.jsx)(z.Fragment,{}),2===l?Object(z.jsx)(Rn,{}):Object(z.jsx)(z.Fragment,{}),3===l?Object(z.jsx)(Fn,{}):Object(z.jsx)(z.Fragment,{}),4===l?Object(z.jsx)(Jn,{panel:u}):Object(z.jsx)(z.Fragment,{})]})}var Kn=240,Zn=["\u041e\u0431\u0437\u043e\u0440","\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u044b","\u041a\u0430\u0440\u0442\u0430","\u0416\u0443\u0440\u043d\u0430\u043b \u0441\u043e\u0431\u044b\u0442\u0438\u0439"],$n=Object(S.a)((function(e){return{root:{display:"flex"},appBar:{width:"calc(100% - ".concat(Kn,"px)"),marginLeft:Kn},drawer:{width:Kn,flexShrink:0},drawerPaper:{width:Kn},toolbar:e.mixins.toolbar,content:{marginTop:64,flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)}}}));function ea(){var e,t,n,c=$n(),o=r.a.useState(0),s=Object(g.a)(o,2),l=s[0],u=(s[1],Object(a.useContext)(X)),d=Object(g.a)(u,2),j=d[0],b=d[1],p=Object(a.useContext)(de),v=Object(g.a)(p,2),m=v[0],x=v[1],S=Object(a.useContext)($),D=Object(g.a)(S,2),I=(D[0],D[1]),P=Object(a.useContext)(ae),R=Object(g.a)(P,2),W=(R[0],R[1]);Object(a.useEffect)((function(){Object(f.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.token){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,jt(t);case 5:n=e.sent,x({type:"SETUSERS",payload:n});case 7:case"end":return e.stop()}}),e)})))()}),[m.token]);var F=m.token;if(!F)return Object(z.jsx)(i.a,{to:"/"});var L=function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==n){e.next=7;break}return e.next=3,Ye(F);case 3:a=e.sent,I({type:"SETALLEQUIPS",payload:a}),e.next=13;break;case 7:if(3!==n){e.next=13;break}return r=new Date,e.next=11,Le(F,"Events","",ke(r),ke(r));case 11:c=e.sent,W({type:"SETEVENTS",payload:c});case 13:b({type:"SETTAB",payload:{tab:n,panel:0}});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=null!==(e=null===(t=j.currentTab)||void 0===t?void 0:t.tab)&&void 0!==e?e:0,U=(null===(n=m.currentUser)||void 0===n?void 0:n.Role)===O?[].concat(Zn,["\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"]):Zn;return Object(z.jsxs)("div",{className:c.root,children:[Object(z.jsx)(w.a,{}),Object(z.jsx)(wt,{}),Object(z.jsxs)(y.a,{className:c.drawer,variant:"permanent",classes:{paper:c.drawerPaper},anchor:"left",children:[Object(z.jsx)("div",{className:c.toolbar}),Object(z.jsx)(C.a,{}),Object(z.jsx)(E.a,{children:U.map((function(e,t){return Object(z.jsxs)(T.a,{button:!0,selected:M===t,onClick:function(e){return L(e,t)},children:[Object(z.jsx)(N.a,{children:t%2===0?Object(z.jsx)(A.a,{}):Object(z.jsx)(q.a,{})}),Object(z.jsx)(k.a,{primary:e})]},e)}))})]}),Object(z.jsx)("main",{className:c.content,children:Object(z.jsx)(Yn,{Title:U[l]})})]})}n(79);var ta=n(188),na=n(186),aa=n(264),ra=n(133),ca=n.n(ra),oa=n(134),sa=n.n(oa),ia=Object(S.a)((function(e){return{text:{width:"50%",marginBottom:"1em"}}}));function la(e){console.log("render PasswordComponent");var t=ia(),n=r.a.useState({password:"",showPassword:!1}),a=Object(g.a)(n,2),c=a[0],o=a[1];return Object(z.jsxs)(F.a,{className:t.text,children:[Object(z.jsx)(Mn.a,{htmlFor:"standard-adornment-password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(z.jsx)(na.a,{id:"standard-adornment-password",type:c.showPassword?"text":"password",value:e.password,onChange:e.onChange,endAdornment:Object(z.jsx)(aa.a,{position:"end",children:Object(z.jsx)(ta.a,{"aria-label":"toggle password visibility",onClick:function(){o(Object(Q.a)(Object(Q.a)({},c),{},{showPassword:!c.showPassword}))},onMouseDown:function(e){e.preventDefault()},children:c.showPassword?Object(z.jsx)(ca.a,{}):Object(z.jsx)(sa.a,{})})})})]})}var ua=Object(S.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"1em",backgroundColor:e.palette.background.default},commonSpacing:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},text:{width:"50%",marginBottom:"1em"},alert:{backgroundColor:"#f44336",width:"50%",color:"white",height:"3em",borderRadius:"0.3em",marginBottom:"1em"}}}));function da(e){console.log("render AuthComponent");var t=ua(),n=Object(a.useContext)(de),r=Object(g.a)(n,2),c=(r[0],r[1]),o=Object(a.useState)(""),s=Object(g.a)(o,2),l=s[0],u=s[1],d=Object(a.useState)(""),j=Object(g.a)(d,2),b=j[0],p=j[1],v=Object(a.useState)(""),O=Object(g.a)(v,2),m=O[0],x=O[1],S=Object(a.useState)(!1),y=Object(g.a)(S,2),w=y[0],E=y[1],C=Object(a.useState)(!1),T=Object(g.a)(C,2),N=T[0],k=T[1];if(w)return Object(z.jsx)(i.a,{to:"/info"});var D=function(){var e=Object(f.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}},e.next=3,Ot({login:l,password:b,email:m});case 3:n=e.sent,a=t(n),n?(c({type:"SETUSER",payload:{Token:n,Claims:a}}),E(!0)):k(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(z.jsx)("div",{className:t.root,children:Object(z.jsxs)("div",{className:t.root,children:[Object(z.jsx)(vn.a,{className:t.text,id:"standard-basic",label:"\u041b\u043e\u0433\u0438\u043d",defaultValue:"",onChange:function(e){u(e.target.value),N&&k(!1)}}),Object(z.jsx)(la,{password:b,onChange:function(e){p(e.target.value),N&&k(!1)}}),Object(z.jsx)(vn.a,{className:t.text,id:"standard-basic",label:"\u041f\u043e\u0447\u0442\u0430",defaultValue:"",onChange:function(e){x(e.target.value),N&&k(!1)}}),N?Object(z.jsx)("div",{className:t.alert,children:"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u0432\u0435\u0440\u043d\u044b"}):Object(z.jsx)(z.Fragment,{}),Object(z.jsx)(J.a,{variant:"contained",color:"primary",className:t.commonSpacing,onClick:D,children:"Login"})]})})}n(183);var ja=Object(l.a)({palette:{type:p?"dark":"light"}});var ba=function(){return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(u.a,{theme:ja,children:Object(z.jsxs)("div",{className:"App",children:[Object(z.jsx)(i.b,{exact:!0,path:"/",component:da}),Object(z.jsx)(i.b,{path:"/auth",component:da}),Object(z.jsx)(i.b,{path:"/info",component:ea})]})})})};o.a.render(Object(z.jsx)(r.a.StrictMode,{children:Object(z.jsx)(K,{children:Object(z.jsx)(pe,{children:Object(z.jsx)(ne,{children:Object(z.jsx)(ue,{children:Object(z.jsx)(Se,{children:Object(z.jsx)(oe,{children:Object(z.jsx)(xe,{children:Object(z.jsx)(s.a,{children:Object(z.jsx)(ba,{})})})})})})})})})}),document.getElementById("root"))}},[[184,1,2]]]);
//# sourceMappingURL=main.89c6f39b.chunk.js.map