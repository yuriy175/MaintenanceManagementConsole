{"version":3,"sources":["context/allEquips-context.js","context/currentEquip-context.js","context/users-context.js","model/constants.js","workers/commonWorker.js","utilities/utils.js","workers/equipWorker.js","hooks/useSetCurrEquip.js","components/mainComponents/MainToolBar.js","workers/useWebSocket.js","components/cards/CommonCard.js","components/cards/CardRow.js","components/cards/DetectorCard.js","components/cards/GeneratorCard.js","components/cards/SystemCard.js","components/cards/OrganAutoCard.js","components/cards/EquipImageCard.js","components/cards/DicomCard.js","components/cards/RemoteAccessCard.js","components/cards/StandCard.js","components/cards/DosimeterCard.js","components/cards/SoftwareCard.js","components/cards/ImagesCard.js","components/dialogs/NotifyDlg.js","components/tabs/SummaryTab.js","components/tabs/MapTab.js","components/tabs/EventsTab.js","components/tables/CommonTable.js","components/tables/historyTables/SystemTable.js","components/tables/historyTables/OrganAutoTable.js","components/tables/historyTables/GeneratorTable.js","components/tables/historyTables/StudiesTable.js","components/tables/historyTables/SofwareTable.js","components/tables/historyTables/DetectorTable.js","components/tables/historyTables/StandTable.js","components/tables/historyTables/DicomTable.js","components/tabs/HistoryTab.js","workers/adminWorker.js","components/tables/adminTables/UserTable.js","components/tabs/AdminTab.js","components/tables/equipTables/EquipTable.js","components/tabs/EquipsTab.js","components/mainComponents/MainInfoComponent.js","components/mainComponents/MainComponent.js","components/commonComponents/PasswordComponent.js","components/mainComponents/AuthComponent.js","App.js","index.js"],"names":["AllEquipsContext","createContext","initialState","allEquips","connectedEquips","selectedEquips","reducer","state","action","type","payload","filter","p","equipInfo","equipName","State","Name","Connected","includes","Error","AllEquipsContextProvider","props","useReducer","dispatch","children","Provider","value","CurrentEquipContext","detectors","generator","collimator","dosimeter","stand","dicom","system","organAuto","software","remoteaccess","images","aecs","newState","Id","ErrorDescriptions","newDetectorId","DetectorId","oldDetector","d","newDetectors","Type","newWL","WorkList","oldWL","e","map","w","newPacs","PACS","oldPacs","CurrentEquipContextProvider","UsersContext","currentUser","users","UsersContextProvider","EquipsServiceAddress","window","WebSocketAddress","UserRole","Roles","HandlerWrapper","name","handler","a","console","log","error","config","code","request","response","data","leadZero","val","getUSFullDate","date","getFullYear","getMonth","getDate","parseLocalString","Date","toLocaleString","sessionUid","getTime","r","Math","random","performance","now","generateSessionUid","EquipsController","GetConnectedEquips","path","axios","get","Activate","activatedEquipInfo","deactivatedEquipInfo","SearchEquip","currType","startDate","endDate","GetPermanentData","RunTeamViewer","post","RunTaskManager","SendAtlasLogs","XilibLogsOn","detailedXilib","verboseXilib","GetAllEquips","useSetCurrEquip","useContext","currEquipState","currEquipDispatch","EquipWorker","sysInfo","swInfo","useStyles","makeStyles","theme","appBar","width","marginLeft","formControl","margin","spacing","minWidth","selectEmpty","color","display","optionStyle","backgroundColor","userName","MainToolBar","classes","allEquipsState","usersState","useState","setUserName","setCurrEquip","handleEquipsChange","event","select","target","onEquipChanged","useEffect","Surname","allEquipsDispatch","connection","setConnection","useRef","createSocket","socket","WebSocket","current","onopen","equips","setInterval","send","onclose","setTimeout","onerror","err","message","close","onmessage","JSON","parse","topic","Topic","startsWith","equip","topicParts","split","length","getEquipFromTopic","replace","values","Data","useWebSocket","AppBar","position","className","Toolbar","Typography","variant","noWrap","FormControl","Select","labelId","id","onChange","ListSubheader","i","ind","MenuItem","ListItemIcon","fontSize","style","toString","align","useCardsStyles","root","marginBottom","marginRight","bullet","transform","title","pos","descr","textAlign","fontWeight","button","marginTop","buttonDescr","alignSelf","errorDescr","errorValue","CardRow","icon","size","rightWidth","rightColor","CardErrorRow","CardButtonedRow","Button","buttonColor","onClick","disabled","CardSwitchedRow","switchDescr","Switch","checked","inputProps","DetectorCard","React","memo","bull","Card","CardContent","component","DetectorName","DetectorField","Aec_enabled","Aec_fields","Aec_density","GeneratorCard","Mas","Kv","Workstation","HeatStatus","Focus","PedalPressed","undefined","Code","Description","SystemCard","Processor","Model","CPU_Load","Memory","Memory_total_Gb","Memory_free_Gb","HDD","Letter","TotalSize","FreeSize","PhysicalDisks","MediaType","FriendlyName","Size_Gb","Network","NIC","IP","VGA","Card_Name","Memory_Gb","Driver_Version","Monitor","Device_Name","Width","Height","Printer","Printer_Name","Port_Name","OrganAutoCard","Projection","Direction","AgeId","Constitution","media","height","paddingTop","EquipImageCard","equipClasses","CardMedia","image","DicomCard","RemoteAccessCard","setDetailedXilib","setVerboseXilib","onRunTeamViewer","onRunTaskManager","onAtlasLogs","onXilibLogs","onDetailedXilib","onVerboseXilib","Xilogs","on","StandCard","Mode","RasterState","Position_Current","Tube_Incline","Deck_Incline","Camera_Incline","Ffd_Current","Deck_Height","DosimeterCard","Dose","parseFloat","toFixed","SoftwareCard","atlasUser","Atlas","Atlas_User","Sysinfo","OS","Version","MSSQL","SQL","User","Current_user","Databases","DB_name","DB_Status","Atlas_Version","XiLibs_Version","Complex_type","Multimonitor","Role","AtlasErrorDescriptions","ImagesCard","today","Today","Current","ImageCount","SingleGraphy","Scopy","text","NotifyDlg","open","setOpen","Dialog","onClose","aria-labelledby","DialogTitle","column","SummaryTab","notifyText","FtpSendResult","MapTab","EventsTab","container","maxHeight","errorCell","background","wordWrap","simpleCell","CommonTable","page","setPage","rowsPerPage","setRowsPerPage","rows","columns","Paper","TableContainer","Table","stickyHeader","aria-label","TableHead","TableRow","TableCell","maxWidth","label","TableBody","slice","row","hover","role","tabIndex","ev","onRowClick","hasErrors","Checkbox","onSelect","format","formatArray","v","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","columnsPermanent","columnsVolatile","SystemTable","volatileInfoRows","VolatileInfo","permanentInfo","PermanentInfo","hdds","Parameter","Value","DateTime","physicalDisks","monitors","vga","processor","motherboard","Motherboard","memory","permanentInfoRows","concat","OrganAutoTable","GeneratorTable","StudiesTable","SofwareTable","dbs","os","sql","atlas","DetectorTable","StandTable","currentValue","DicomTable","commonSpacing","textField","HistoryTab","curDate","setDate","setStartDate","setEndDate","setEquipName","setCurrType","systemInfos","setSystemInfos","organAutos","setOrganAutos","generators","setGenerators","studies","setStudies","stands","setStands","setDetectors","setDosimeters","setSoftware","setDicom","handleTypeChange","options","selectedIndex","onSearch","alert","TextField","defaultValue","InputLabelProps","shrink","NativeSelect","AdminController","GetAllUsers","UpdateUser","user","headers","Login","login","UserTable","usersDispatch","handleSelect","Disabled","newRow","AdminWorker","flexDirection","justifyContent","alignItems","AdminTab","setLogin","password","setPassword","surname","setSurname","email","setEmail","setRole","handleRoleChange","onAdd","required","InputLabel","htmlFor","EquipTable","EquipName","EquipsTab","MainInfoComponent","Index","drawerWidth","mainMenu","drawer","flexShrink","drawerPaper","toolbar","mixins","content","flexGrow","palette","default","padding","MainComponent","setSelectedIndex","handleListItemClick","index","CssBaseline","Drawer","paper","anchor","Divider","List","ListItem","selected","ListItemText","primary","Title","PasswordComponent","showPassword","setValues","Input","endAdornment","InputAdornment","IconButton","onMouseDown","preventDefault","borderRadius","AuthComponent","redirect","setRedirect","showError","setShowError","to","onLogin","App","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9949145f.chunk.js","sourcesContent":["import React, { useReducer, createContext } from 'react';\r\n\r\nexport const AllEquipsContext = createContext();\r\n\r\nconst initialState = {\r\n  allEquips: null,\r\n  connectedEquips: null,\r\n  selectedEquips: [],\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case 'SETALLEQUIPS': {\r\n      return {\r\n        ...state,\r\n        allEquips: action.payload?.filter(p => p)\r\n      };\r\n    }    \r\n    case 'SETCONNECTEDEQUIPS': {\r\n      return {\r\n        ...state,\r\n        connectedEquips: action.payload?.filter(p => p)\r\n      };\r\n    }    \r\n    case 'ADDSELECTEDEQUIPS': {\r\n      return {\r\n        ...state,\r\n        selectedEquips: [...state.selectedEquips, action.payload]\r\n      };\r\n    }    \r\n    case 'ADDEQUIP': {\r\n      return {\r\n        ...state,\r\n        equipInfo: action.payload\r\n      };\r\n    }\r\n    case 'CONNECTIONCHANGED': {\r\n      let connectedEquips = state.connectedEquips ?? [];\r\n      const equipName = action.payload.State.Name;\r\n      if(action.payload.State.Connected && !connectedEquips.includes(equipName)){\r\n        connectedEquips = [...connectedEquips, equipName]\r\n      }\r\n      else if(!action.payload.State.Connected && connectedEquips.includes(equipName)){\r\n        connectedEquips = connectedEquips.filter(p => p != equipName)\r\n      }\r\n      \r\n      return {\r\n        ...state,\r\n        connectedEquips: connectedEquips\r\n      };\r\n    }    \r\n    \r\n    default:\r\n      throw new Error();\r\n  }\r\n}\r\n\r\nexport const AllEquipsContextProvider = props => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const { children } = props;\r\n\r\n  return (\r\n    <AllEquipsContext.Provider value={[state, dispatch]}>\r\n      {children}\r\n    </AllEquipsContext.Provider>\r\n  );\r\n};","import React, { useReducer, createContext } from 'react';\r\n\r\nexport const CurrentEquipContext = createContext();\r\n\r\nconst initialState = {\r\n  equipInfo: '',\r\n  detectors: [],\r\n  generator: {},\r\n  collimator:{},\r\n  dosimeter:{},\r\n  stand:{},\r\n  dicom:{},\r\n  system:{},\r\n  organAuto:{},\r\n  software:{},\r\n  remoteaccess:{},\r\n  images:{},\r\n  aecs:{},\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {    \r\n    case 'RESET': {\r\n      return initialState;\r\n    }\r\n    case 'SETEQUIPINFO': {\r\n      return {\r\n        ...state,\r\n        equipInfo: action.payload\r\n      };\r\n    }\r\n    case 'SETSYSTEM': {\r\n      return {\r\n        ...state,\r\n        system: action.payload\r\n      };\r\n    }    \r\n    case 'SETORGANAUTO': {\r\n      return {\r\n        ...state,\r\n        organAuto: action.payload\r\n      };\r\n    }\r\n    case 'SETGENERATOR': {\r\n      const newState = {\r\n        ...state,\r\n        generator: {Id: action.payload.Id, State: {...state.generator.State, ...action.payload.State}}\r\n      };\r\n      //\r\n      if(newState.generator?.State?.ErrorDescriptions && \r\n        (!newState.generator?.State?.Error || newState.generator?.State?.Error[0] === 0)){\r\n        newState.generator.State.ErrorDescriptions = [];\r\n      }\r\n\r\n      return newState;\r\n    }\r\n    case 'SETDETECTOR': {\r\n      const newDetectorId = action.payload.DetectorId;\r\n      let oldDetector = state.detectors?.filter(d => d.DetectorId === newDetectorId)[0];\r\n      let newDetectors = state.detectors;\r\n      if(oldDetector){\r\n        oldDetector = {...oldDetector, ...action.payload}\r\n        newDetectors = [...state.detectors?.filter(d => d.DetectorId !== newDetectorId), oldDetector]\r\n      }\r\n      else{\r\n        newDetectors = [...state.detectors, action.payload]\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        detectors: newDetectors //[...state.detectors, ...action.payload]\r\n      };\r\n    }\r\n    case 'SETAEC': {\r\n      return {\r\n        ...state,\r\n        aecs: {Id: action.payload.Id, Type: action.payload.Type, State: {...state.aecs.State, ...action.payload.State}}\r\n      };\r\n    }    \r\n    case 'SETSTAND': {\r\n      // return {\r\n      //   ...state,\r\n      //   stand: {Id: action.payload.Id, State: {...state.stand.State, ...action.payload.State}}\r\n      // };\r\n      const newState = {\r\n        ...state,\r\n        stand: {Id: action.payload.Id, State: {...state.stand.State, ...action.payload.State}}\r\n      };\r\n      //\r\n      if(newState.stand?.State?.ErrorDescriptions && \r\n        (!newState.stand?.State?.Error || newState.stand?.State?.Error[0] === 0)){\r\n        newState.stand.State.ErrorDescriptions = [];\r\n      }\r\n\r\n      return newState;\r\n    }\r\n    case 'SETDOSIMETER': {\r\n      return {\r\n        ...state,\r\n        dosimeter: {Id: action.payload.Id, State: {...state.dosimeter.State, ...action.payload.State}}\r\n      };\r\n    }\r\n    case 'SETCOLLIMATOR': {\r\n      return {\r\n        ...state,\r\n        collimator: action.payload\r\n      };\r\n    }\r\n    case 'SETSOFTWARE': {\r\n      return {\r\n        ...state,\r\n        software: action.payload\r\n      };\r\n    }\r\n    case 'SETSOFTWAREMSG': {\r\n      return {\r\n        ...state,\r\n        software: {...state.software, ...action.payload}\r\n      };\r\n    }\r\n    case 'SETREMOTEACCESS': {\r\n      return {\r\n        ...state,\r\n        remoteaccess: {...state.remoteaccess, ...action.payload}\r\n      };\r\n    }\r\n    case 'SETIMAGES': {\r\n      return {\r\n        ...state,\r\n        images: action.payload\r\n      };\r\n    }\r\n    // case 'ADDIMAGE': {\r\n    //   return {\r\n    //     ...state,\r\n    //     images: {...state.images, ...action.payload}\r\n    //   };\r\n    // }\r\n    case 'SETDICOM': {\r\n      let newWL = action.payload.WorkList;\r\n      if(newWL){\r\n        const oldWL = state.dicom.WorkList?.filter(e => !newWL.map(w => w.Name).includes(e.Name));\r\n        if(oldWL){\r\n          newWL = [...newWL, ...oldWL];\r\n        }\r\n      }\r\n      else{\r\n        newWL = state.dicom.WorkList;\r\n      }\r\n\r\n      let newPacs = action.payload.PACS;\r\n      if(newPacs){\r\n        const oldPacs = state.dicom.PACS?.filter(e => !newPacs.map(w => w.Name).includes(e.Name));\r\n        if(oldPacs){\r\n          newPacs = [...newPacs, ...oldPacs];\r\n        }\r\n      }\r\n      else{\r\n        newPacs = state.dicom.PACS;\r\n      }\r\n\r\n      const dicom = {PACS: newPacs, WorkList: newWL};\r\n      return {\r\n        ...state,\r\n        dicom: dicom\r\n      };\r\n    }    \r\n\r\n    default:\r\n      throw new Error();\r\n  }\r\n}\r\n\r\nexport const CurrentEquipContextProvider = props => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const { children } = props;\r\n\r\n  return (\r\n    <CurrentEquipContext.Provider value={[state, dispatch]}>\r\n      {children}\r\n    </CurrentEquipContext.Provider>\r\n  );\r\n};","import React, { useReducer, createContext } from 'react';\r\n\r\nexport const UsersContext = createContext();\r\n\r\nconst initialState = {\r\n  currentUser: {},\r\n  users: null,\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {    \r\n    case 'RESET': {\r\n      return initialState;\r\n    }\r\n    case 'SETUSER': {\r\n      return {\r\n        ...state,\r\n        currentUser: action.payload\r\n      };\r\n    }\r\n    case 'SETUSERS': {\r\n      return {\r\n        ...state,\r\n        users: action.payload\r\n      };\r\n    }  \r\n\r\n    default:\r\n      throw new Error();\r\n  }\r\n}\r\n\r\nexport const UsersContextProvider = props => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const { children } = props;\r\n\r\n  return (\r\n    <UsersContext.Provider value={[state, dispatch]}>\r\n      {children}\r\n    </UsersContext.Provider>\r\n  );\r\n};","//export const EquipsServiceAddress = 'http://localhost:8181';\r\n//export const WebSocketAddress = 'ws://localhost:8080';\r\n//export const EquipsServiceAddress = 'https://mprom.ml';\r\n//export const WebSocketAddress = 'wss://mprom.ml:8080';\r\n\r\nexport const EquipsServiceAddress = window.EquipsServiceAddress;\r\nexport const WebSocketAddress = window.WebSocketAddress;\r\n\r\nexport const SearchPeriod = 7;\r\nexport const UserRole = 'User'\r\nexport const AdminRole = 'Administrator';\r\nexport const Roles = [UserRole, AdminRole];\r\n\r\n","export async function HandlerWrapper(name, handler) {\r\n    try {\r\n        console.log(`resting ${name}`)\r\n        return await handler();\r\n    }\r\n    catch (error) {\r\n        console.log(error.error, error.config, error.code, error.request, error.response, error.response?.data);\r\n    }\r\n}\r\n\r\nexport function GetJsonHeader() {\r\n    return {\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Accept\": \"application/json\",\r\n        }\r\n    }\r\n}","const generateSessionUid = function () { // Public Domain/MIT\r\n    var d = new Date().getTime();//Timestamp\r\n    var r = Math.random() * 1000;//random number between 0 and 1000\r\n    var d2 = (performance && performance.now && (performance.now()*1000)) || 0;//Time in microseconds since page-load or 0 if unsupported\r\n    return `${d}_${r}`;\r\n}\r\n\r\nconst leadZero = (val) => val < 10 ? '0' + val : val;\r\nexport function getUSFullDate(date)\r\n{\r\n    return date.getFullYear() + \"-\" + leadZero(date.getMonth() + 1) + \"-\"+ leadZero(date.getDate());\r\n}\r\n\r\nexport function getEquipFromTopic(topic ){\r\n\tconst topicParts = topic.split(\"/\");\r\n    if(topicParts.length < 2){\r\n        return null;\r\n    }\r\n\r\n\tconst equip = `${topicParts[0]}/${topicParts[1]}`;\r\n\r\n\treturn equip;\r\n}\r\n\r\nexport const parseLocalString = (value) => new Date(value).toLocaleString();\r\n\r\nexport const sessionUid = generateSessionUid();","import axios from 'axios';\r\nimport { EquipsServiceAddress } from '../model/constants'\r\nimport {HandlerWrapper, GetJsonHeader} from './commonWorker'\r\n\r\nimport {sessionUid} from '../utilities/utils'\r\n\r\nconst EquipsController = '/equips';\r\n\r\n/*export async function GetStudyList(filter) {\r\n    return await HandlerWrapper('StudyList', async () => {\r\n        const response = await axios.post(JournalServiceAddress + JournalController +\r\n            '/StudyList',\r\n            JSON.stringify(filter),\r\n            GetJsonHeader());\r\n        return response.data;\r\n    });\r\n};*/\r\n\r\nexport async function GetConnectedEquips() {\r\n    return await HandlerWrapper('GetConnectedEquips', async () => {\r\n        const path = EquipsServiceAddress + EquipsController + '/GetConnectedEquips';\r\n        console.log(path);\r\n        const response = await axios.get(path);\r\n        return response.data;\r\n    });\r\n};\r\n\r\nexport async function Activate(activatedEquipInfo, deactivatedEquipInfo) {\r\n    return await HandlerWrapper('Activate', async () => {\r\n        const response = await axios.get(EquipsServiceAddress + EquipsController +\r\n            '/Activate?sessionUid=' + sessionUid+\r\n            '&activatedEquipInfo=' + activatedEquipInfo+\r\n            '&deactivatedEquipInfo=' + deactivatedEquipInfo);\r\n        return response.data;\r\n    });\r\n};\r\n\r\nexport async function SearchEquip(currType, equipName, startDate, endDate) {\r\n    return await HandlerWrapper('SearchEquip', async () => {\r\n        const response = await axios.get(EquipsServiceAddress + EquipsController +\r\n            '/SearchEquip?currType=' + currType+\r\n            '&equipName=' + equipName+\r\n            '&startDate=' + startDate+\r\n            '&endDate=' + endDate);\r\n        return response.data;\r\n    });\r\n};\r\n\r\nexport async function GetPermanentData(currType, equipName) {\r\n    return await HandlerWrapper('GetPermanentData', async () => {\r\n        const response = await axios.get(EquipsServiceAddress + EquipsController +\r\n            '/GetPermanentData?currType=' + currType+\r\n            '&equipName=' + equipName);\r\n        return response.data;\r\n    });\r\n};\r\n\r\nexport async function RunTeamViewer(activatedEquipInfo) {\r\n    return await HandlerWrapper('RunTeamViewer', async () => {\r\n        const response = await axios.post(EquipsServiceAddress + EquipsController +\r\n            '/RunTeamViewer?activatedEquipInfo=' + activatedEquipInfo);\r\n        return response.data;\r\n    });\r\n};\r\n\r\nexport async function RunTaskManager(activatedEquipInfo) {\r\n    return await HandlerWrapper('RunTaskManager', async () => {\r\n        const response = await axios.post(EquipsServiceAddress + EquipsController +\r\n            '/RunTaskManager?activatedEquipInfo=' + activatedEquipInfo);\r\n        return response.data;\r\n    });\r\n};\r\n\r\nexport async function SendAtlasLogs(activatedEquipInfo) {\r\n    return await HandlerWrapper('SendAtlasLogs', async () => {\r\n        const response = await axios.post(EquipsServiceAddress + EquipsController +\r\n            '/SendAtlasLogs?activatedEquipInfo=' + activatedEquipInfo);\r\n        return response.data;\r\n    });\r\n};\r\n\r\nexport async function XilibLogsOn(activatedEquipInfo, detailedXilib, verboseXilib) {\r\n    return await HandlerWrapper('XilibLogsOn', async () => {\r\n        const response = await axios.post(EquipsServiceAddress + EquipsController +\r\n            '/XilibLogsOn?activatedEquipInfo=' + activatedEquipInfo+\r\n            '&detailedXilib=' + detailedXilib +\r\n            '&verboseXilib=' + verboseXilib);\r\n        return response.data;\r\n    });\r\n};\r\n\r\nexport async function GetAllEquips() {\r\n    return await HandlerWrapper('GetAllEquips', async () => {\r\n        const response = await axios.get(EquipsServiceAddress + EquipsController + '/GetAllEquips');\r\n        return response.data;\r\n    });\r\n};","import react, { useContext } from 'react';\r\nimport { CurrentEquipContext } from '../context/currentEquip-context';\r\nimport * as EquipWorker from '../workers/equipWorker'\r\n\r\nexport function useSetCurrEquip() {\r\n  console.log(\"useSetCurrEquip\");\r\n  const [currEquipState, currEquipDispatch] = useContext(CurrentEquipContext);\r\n\r\n  const setEquipInfo = async (equipInfo, type) => {\r\n\r\n    //const equipInfo = row.EquipName;\r\n    currEquipDispatch({ type: 'RESET', payload: true });    \r\n    currEquipDispatch({ type: type, payload: equipInfo }); \r\n\r\n    // new software & system info come very slowly\r\n    const sysInfo = await EquipWorker.GetPermanentData(\"SystemInfo\", equipInfo);\r\n    currEquipDispatch({ type: 'SETSYSTEM', payload: sysInfo }); \r\n\r\n    const swInfo = await EquipWorker.GetPermanentData(\"Software\", equipInfo);\r\n    currEquipDispatch({ type: 'SETSOFTWARE', payload: swInfo }); \r\n\r\n    await EquipWorker.Activate(equipInfo, currEquipState.equipInfo);\r\n  };\r\n\r\n  return setEquipInfo;\r\n}","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport LocationOnOutlinedIcon from '@material-ui/icons/LocationOnOutlined';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport LocationOffOutlinedIcon from '@material-ui/icons/LocationOffOutlined';\r\n\r\nimport \"../../styles/styles.css\";\r\n\r\nimport { AllEquipsContext } from '../../context/allEquips-context';\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\nimport { UsersContext } from '../../context/users-context';\r\nimport {useSetCurrEquip} from '../../hooks/useSetCurrEquip'\r\n\r\nimport * as EquipWorker from '../../workers/equipWorker'\r\n// import * as WebSocket from '../../workers/webSocket'\r\nimport {sessionUid} from '../../utilities/utils'\r\nimport { useWebSocket } from '../../workers/useWebSocket'\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 270,    \r\n  },\r\n  selectEmpty: {\r\n    // marginTop: theme.spacing(2),\r\n    color: \"white\",\r\n    display: 'flex',\r\n  },\r\n  optionStyle:{\r\n    backgroundColor: \"#3f51b5\",\r\n    color:\"white\",\r\n  },\r\n  userName:{\r\n    // textAlign: \"end\",\r\n    width: `calc(100% - 180px)`,\r\n  }\r\n}));\r\n\r\nexport default function MainToolBar() {\r\n  console.log(`! render MainToolBar ` + sessionUid);\r\n\r\n  const classes = useStyles();\r\n  const [allEquipsState, allEquipsDispatch] = useContext(AllEquipsContext);\r\n  const [currEquipState, currEquipDispatch] = useContext(CurrentEquipContext);\r\n  const [usersState, usersDispatch] = useContext(UsersContext);\r\n  // const [currEquip, setCurrEquip] = useState('none');\r\n  const [userName, setUserName] = useState('');\r\n  const setCurrEquip = useSetCurrEquip();\r\n\r\n  const handleEquipsChange = async (event) => {\r\n    const select = event.target;\r\n    const val = select.value;// select.options[select.selectedIndex].value;\r\n\r\n    await onEquipChanged(val);\r\n  };\r\n\r\n  const onEquipChanged = async equipInfo =>\r\n  {\r\n    setCurrEquip(equipInfo, 'SETEQUIPINFO');\r\n    // currEquipDispatch({ type: 'RESET', payload: true });    \r\n    // currEquipDispatch({ type: 'SETEQUIPINFO', payload: equipInfo }); \r\n\r\n    // // new software & system info come very slowly\r\n    // const sysInfo = await EquipWorker.GetPermanentData(\"SystemInfo\", equipInfo);\r\n    // currEquipDispatch({ type: 'SETSYSTEM', payload: sysInfo }); \r\n\r\n    // const swInfo = await EquipWorker.GetPermanentData(\"Software\", equipInfo);\r\n    // currEquipDispatch({ type: 'SETSOFTWARE', payload: swInfo }); \r\n\r\n    // await EquipWorker.Activate(equipInfo, currEquipState.equipInfo);\r\n  }\r\n  \r\n  // useEffect(() => {\r\n  //     (async () => {\r\n  //         if(!allEquipsState.equips || currEquipState.equipInfo)\r\n  //         {\r\n  //           return;\r\n  //         }\r\n\r\n  //         const equipInfo = allEquipsState.equips[0];\r\n  //         onEquipChanged(equipInfo);\r\n  //     })();\r\n  // }, [allEquipsState.equips]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setUserName(usersState?.currentUser?.Surname);\r\n    })();\r\n  }, [usersState.currentUser]);\r\n\r\n\r\n  const webSocket = useWebSocket(\r\n    {\r\n    }\r\n  );\r\n\r\n\r\n  return (    \r\n    <AppBar position=\"fixed\" className={classes.appBar}>\r\n        <Toolbar>\r\n            <Typography variant=\"h6\" noWrap>\r\n            </Typography>\r\n            {/* <FormControl className={classes.formControl}>\r\n              <NativeSelect\r\n                value={currEquipState.equipInfo}\r\n                onChange={handleEquipsChange}\r\n                name=\"equips\"\r\n                className={classes.selectEmpty}\r\n                variant=\"outlined\"\r\n              >\r\n                {allEquipsState.equips?.map((i, ind) => (\r\n                    <option key={ind.toString()} value={i} className={classes.optionStyle}>{i}</option>\r\n                    ))\r\n                }\r\n              </NativeSelect>\r\n            </FormControl> */}\r\n            <FormControl className={classes.formControl}>\r\n              <Select\r\n                labelId=\"demo-simple-select-label\"\r\n                id=\"mainToolbarCombobox\"\r\n                value={currEquipState.equipInfo}\r\n                onChange={handleEquipsChange}\r\n                className={classes.selectEmpty}\r\n                variant=\"outlined\"\r\n              >\r\n                <ListSubheader className={classes.optionStyle}></ListSubheader>\r\n                {allEquipsState.selectedEquips?.map((i, ind) => (\r\n                    <MenuItem key={ind.toString()} value={i} className={classes.optionStyle}>\r\n                      <ListItemIcon>\r\n                        {/* <LocationOffOutlinedIcon fontSize=\"small\" /> */}\r\n                        <LocationOnOutlinedIcon fontSize=\"large\" style={{ color: 'white' }}/>\r\n                      </ListItemIcon>\r\n                      <Typography variant=\"inherit\">{i}</Typography>                      \r\n                    </MenuItem>\r\n                    ))\r\n                }\r\n                <ListSubheader className={classes.optionStyle}></ListSubheader>\r\n                {allEquipsState.connectedEquips?.map((i, ind) => (\r\n                    <MenuItem key={ind.toString()} value={i} className={classes.optionStyle}>\r\n                      <ListItemIcon>\r\n                        {/* <LocationOffOutlinedIcon fontSize=\"small\" /> */}\r\n                        <LocationOnOutlinedIcon fontSize=\"large\" style={{ color: 'white' }}/>\r\n                      </ListItemIcon>\r\n                      <Typography variant=\"inherit\">{i}</Typography>                      \r\n                    </MenuItem>\r\n                    ))\r\n                }\r\n              </Select>\r\n            </FormControl>\r\n            <Typography variant=\"h6\" noWrap align=\"right\"  className={classes.userName}> \r\n              {userName}\r\n            </Typography>\r\n        </Toolbar>\r\n    </AppBar>\r\n  );\r\n}","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport { WebSocketAddress } from '../model/constants'\r\nimport { CurrentEquipContext } from '../context/currentEquip-context';\r\nimport { AllEquipsContext } from '../context/allEquips-context';\r\nimport * as EquipWorker from '../workers/equipWorker'\r\n\r\nimport {sessionUid, getEquipFromTopic} from '../utilities/utils'\r\n\r\nexport function useWebSocket(props) {\r\n    console.log(`useWebSocket `+sessionUid);\r\n\r\n    const [currEquipState, currEquipDispatch] = useContext(CurrentEquipContext);\r\n    const [allEquipsState, allEquipsDispatch] = useContext(AllEquipsContext);\r\n    const [connection, setConnection] = useState(null);\r\n    const equipInfo = useRef(currEquipState.equipInfo);\r\n    \r\n    function createSocket(){\r\n        try {   \r\n            console.log(`Status: Creating socket ${sessionUid}\\n`);         \r\n            const socket = new WebSocket(WebSocketAddress + \"/websocket?uid=\" + sessionUid);\r\n            setConnection(socket);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        createSocket();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        equipInfo.current = currEquipState.equipInfo;\r\n    }, [currEquipState.equipInfo]);\r\n\r\n    useEffect(() => {\r\n        if (connection) {\r\n            connection.onopen = async function () {\r\n                console.log(`Status: Connected ${sessionUid}\\n`);\r\n\r\n                const equips = await EquipWorker.GetConnectedEquips();\r\n                allEquipsDispatch({ type: 'SETCONNECTEDEQUIPS', payload: equips ? equips : [] });     \r\n\r\n                // Send a ping every 10s\r\n                // to keep the connection live\r\n                setInterval(function(){\r\n                    console.log(`pinging...\\n`);\r\n                    connection.send('ping');\r\n                }, 10000);\r\n            };\r\n        \r\n            connection.onclose = function(event) {\r\n                console.log(`Status: Closed ${sessionUid}\\n`);\r\n                currEquipDispatch({ type: 'RESET', payload: true });    \r\n                setTimeout(function() {\r\n                    console.log(`Status: Reconnecting ${sessionUid}\\n`);\r\n                    createSocket();\r\n                  }, 1000);\r\n              };\r\n              \r\n            connection.onerror = function(err) {\r\n                console.error('Socket encountered error: ', err.message, 'Closing socket');\r\n                connection.close();\r\n              };\r\n\r\n            connection.onmessage = function (e) {\r\n                console.log(\"Server: \" + e.data + \"\\n\");\r\n                const data = JSON.parse(e.data);\r\n        \r\n                const topic = data?.Topic;\r\n                if(!topic){\r\n                    return;\r\n                }\r\n\r\n                if(topic.startsWith('Subscribe'))\r\n                {\r\n                    allEquipsDispatch({ type: 'CONNECTIONCHANGED', payload: data }); \r\n                    return;\r\n                }   \r\n\r\n                const equip = getEquipFromTopic(data?.Topic);\r\n                if(!equip || equip !== equipInfo.current){\r\n                    return;\r\n                }\r\n\r\n                const path = data.Topic.replace(equip, '');\r\n                if(path.startsWith('/ARM/Hardware'))\r\n                {\r\n                    try\r\n                    {\r\n                        const values = data? JSON.parse(data.Data) : null;\r\n                        currEquipDispatch({ type: 'SETSYSTEM', payload: values }); \r\n                    }\r\n                    catch(e)\r\n                    {\r\n                        console.log(e);\r\n                    }                    \r\n                }\r\n                else if(path.startsWith('/images'))\r\n                {\r\n                    const values = data? JSON.parse(data.Data) : null;\r\n                    currEquipDispatch({ type: 'SETIMAGES', payload: values }); \r\n                }            \r\n                else if(path.startsWith('/organauto'))\r\n                {\r\n                    const values = data? JSON.parse(data.Data) : null;\r\n                    currEquipDispatch({ type: 'SETORGANAUTO', payload: values }); \r\n                }                \r\n                else if(path.startsWith('/stand'))\r\n                {\r\n                    const values = data? JSON.parse(data.Data) : null;\r\n                    currEquipDispatch({ type: 'SETSTAND', payload: values }); \r\n                }\r\n                else if(path.startsWith('/generator'))\r\n                {\r\n                    const values = data? JSON.parse(data.Data) : null;\r\n                    currEquipDispatch({ type: 'SETGENERATOR', payload: values }); \r\n                }\r\n                else if(path.startsWith('/detector'))\r\n                {\r\n                    const values = data? JSON.parse(data.Data) : null;\r\n                    currEquipDispatch({ type: 'SETDETECTOR', payload: values }); \r\n                }\r\n                else if(path.startsWith('/dosimeter'))\r\n                {\r\n                    const values = data? JSON.parse(data.Data) : null;\r\n                    currEquipDispatch({ type: 'SETDOSIMETER', payload: values }); \r\n                }\r\n                else if(path.startsWith('/collimator'))\r\n                {\r\n                    const values = data? JSON.parse(data.Data) : null;\r\n                    currEquipDispatch({ type: 'SETCOLLIMATOR', payload: values }); \r\n                }\r\n                else if(path.startsWith('/aec/'))\r\n                {\r\n                    const values = data? JSON.parse(data.Data) : null;\r\n                    currEquipDispatch({ type: 'SETAEC', payload: values }); \r\n                }\r\n                else if(path.startsWith('/ARM/Software/Complex'))\r\n                {\r\n                    const values = data? JSON.parse(data.Data) : null;\r\n                    currEquipDispatch({ type: 'SETSOFTWARE', payload: values }); \r\n                }\r\n                else if(path.startsWith('/ARM/Software/msg'))\r\n                {\r\n                    const values = data? JSON.parse(data.Data) : null;\r\n                    currEquipDispatch({ type: 'SETSOFTWAREMSG', payload: values }); \r\n                }\r\n                else if(path.startsWith('/dicom'))\r\n                {\r\n                    const values = data? JSON.parse(data.Data) : null;\r\n                    currEquipDispatch({ type: 'SETDICOM', payload: values }); \r\n                }\r\n                else if(path.startsWith('/remoteaccess'))\r\n                {\r\n                    const values = data? JSON.parse(data.Data) : null;\r\n                    currEquipDispatch({ type: 'SETREMOTEACCESS', payload: values }); \r\n                }\r\n            };\r\n        }\r\n    }, [connection]);\r\n\r\n    return connection;\r\n}\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useCardsStyles = makeStyles({\r\n  root: {\r\n    width: \"100%\",//275,\r\n    //maxWidth: 345,\r\n    marginBottom: 12,\r\n    marginRight: 12,\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n});\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport RemoveRedEyeIcon from '@material-ui/icons/RemoveRedEye';\r\nimport Button from '@material-ui/core/Button';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nconst useStyles = makeStyles({\r\n root: {\r\n   display: \"flex\",\r\n  },\r\n  descr: {\r\n    width:'65%',\r\n    margin: '0 0.5em',\r\n    textAlign: 'left',\r\n  },\r\n  value: {\r\n    marginRight: '0.5em',\r\n    fontWeight: 'bold',\r\n    width:'30%',\r\n    textAlign: 'right',\r\n  },\r\n  button: {\r\n    marginRight: '0.5em',\r\n    width:'30%',\r\n    textAlign: 'right',\r\n    marginTop: '0.5em',\r\n  },\r\n  buttonDescr: {\r\n    alignSelf: 'center',\r\n  },\r\n  errorDescr: {\r\n    width:'10%',\r\n  },\r\n  errorValue: {\r\n    width:'80%',\r\n  },\r\n});\r\n\r\nexport default function CardRow(props) {\r\n\r\n  const classes = useStyles();\r\n  const bull = <span className={classes.bullet}></span>;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n        {props.icon !== 'none' ? <RemoveRedEyeIcon color=\"primary\" size=\"small\"></RemoveRedEyeIcon> : <></>}\r\n        <Typography className={classes.descr} color=\"textSecondary\">\r\n          {props.descr}\r\n        </Typography>\r\n        <Typography className={classes.value} color=\"textSecondary\" style = {{\r\n            width: props.rightWidth ? props.rightWidth : classes.value.width,\r\n            color: props.rightColor ? props.rightColor : \"\",\r\n          }}>\r\n          {props.value}\r\n        </Typography>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function CardErrorRow(props) {\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n        <RemoveRedEyeIcon color=\"secondary\" size=\"small\"></RemoveRedEyeIcon>\r\n        <Typography className={classes.descr, classes.errorDescr} color=\"secondary\">\r\n          {props.descr}\r\n        </Typography>\r\n        <Typography className={classes.value, classes.errorValue} color=\"secondary\" style = {{\r\n            width: props.rightWidth ? props.rightWidth : classes.errorValue.width,\r\n            color: props.rightColor ? props.rightColor : \"\",\r\n          }}>\r\n          {props.value}\r\n        </Typography>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function CardButtonedRow(props) {\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n        <Typography className={`${classes.descr} ${classes.buttonDescr}`} color=\"textSecondary\">\r\n          {props.descr}\r\n        </Typography>\r\n        <Button variant=\"contained\" \r\n            color={props.buttonColor ? props.buttonColor : \"primary\"}\r\n            className={classes.button} \r\n            onClick={props.onClick} \r\n            disabled={props.disabled}\r\n        >\r\n          {props.title}\r\n        </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function CardSwitchedRow(props) {\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n        <Typography className={`${classes.descr} ${classes.switchDescr}`} color=\"textSecondary\">\r\n          {props.descr}\r\n        </Typography>\r\n        <Switch\r\n          checked={props.checked}\r\n          onChange={props.onChange}\r\n          color=\"primary\"\r\n          inputProps={{ 'aria-label': 'primary checkbox' }}\r\n        />\r\n    </div>\r\n  );\r\n}","import React, {useContext}  from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\nimport {useCardsStyles} from './CommonCard'\r\nimport CardRow from './CardRow'\r\n\r\n// export default function DetectorCard(props) {\r\nconst DetectorCard = React.memo((props) => {\r\n  console.log(`! render DetectorCard`);\r\n\r\n  const classes = useCardsStyles();\r\n  const bull = <span className={classes.bullet}></span>;\r\n\r\n  const detectors = props.detectors;\r\n  const aecs = props.aecs;\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardContent>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        {detectors?.map((i, ind) => (\r\n          <div key={ind.toString()} >\r\n            <Typography variant=\"h6\" component=\"h2\">\r\n              {bull}{i.DetectorName} \r\n            </Typography>\r\n            <CardRow descr=\"\" \r\n              value={i.State !== 2? \" \" : \"\"}\r\n              rightColor={i.State !== 2? \"red\" : \"green\"}></CardRow>\r\n            <CardRow descr=\" \" value={i.DetectorField}></CardRow>\r\n            {aecs?\r\n              <>\r\n                <Typography variant=\"h6\" component=\"h2\">\r\n                  {bull}\r\n                </Typography>\r\n                <CardRow descr=\"\" value={aecs.State?.Aec_enabled ? \"\" : \"\"}></CardRow>\r\n                <CardRow descr=\" \" value={aecs.State?.Aec_fields}></CardRow>\r\n                <CardRow descr=\"\" value={aecs.State?.Aec_density}></CardRow>\r\n              </> : <></>\r\n            }\r\n          </div>\r\n          ))\r\n        }        \r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nexport default DetectorCard;","import React, {useContext}  from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\nimport {useCardsStyles} from './CommonCard'\r\nimport CardRow, {CardErrorRow} from './CardRow'\r\n\r\nconst GeneratorCard = React.memo((props) => {\r\n//export default function GeneratorCard() {\r\n  console.log(`! render GeneratorCard`);\r\n\r\n  const classes = useCardsStyles();\r\n  const bull = <span className={classes.bullet}></span>;\r\n\r\n  const generator = props.generator;\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardContent>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        <CardRow descr=\"\" \r\n          value={generator?.State?.State > 0? \"\" : \" \"}\r\n          rightColor={generator?.State?.State > 0? \"green\" : \"red\"}\r\n        ></CardRow>\r\n        <CardRow descr=\"\" value={generator?.State?.Mas ? generator.State.Mas + ' ' : ''}></CardRow>\r\n        <CardRow descr=\"\" value={generator?.State?.Kv ? generator.State.Kv + ' ' : ''}></CardRow>\r\n        <CardRow descr=\". . .\" value={generator?.State?.Workstation}></CardRow>\r\n        <CardRow descr=\"\" \r\n          value={generator?.State?.HeatStatus === 2 ? \"\" : generator?.State?.HeatStatus === 3 ? \"\" : \"\"}\r\n          rightColor={generator?.State?.HeatStatus === 2 ? \"yellow\" : generator?.State?.HeatStatus === 3 ? \"red\" : \"green\"}\r\n        ></CardRow>\r\n        <CardRow descr=\"\" value={\r\n          generator?.State?.Focus === 1 ? \"\" : generator?.State?.Focus === 0 ? \"\" : \"\"\r\n        }></CardRow>\r\n        <CardRow descr=\"\" \r\n          value={ generator?.State?.PedalPressed === 1 ? \"\" : generator?.State?.PedalPressed === 2 ? \"\" : \" \"} \r\n          rightColor={generator?.State?.PedalPressed === 1 || generator?.State?.PedalPressed === 2? \"green\" : undefined }\r\n        ></CardRow>\r\n        <CardRow descr=\"\" value={generator?.State?.ErrorDescriptions?.length}></CardRow>\r\n        {generator?.State?.ErrorDescriptions?.length ? \r\n          generator.State.ErrorDescriptions.map((i, ind) => (\r\n            <CardErrorRow key={ind.toString()}  descr={i.Code} value={i.Description} ></CardErrorRow>\r\n            ))\r\n            :\r\n            <></>          \r\n        }\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nexport default GeneratorCard;\r\n","import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\nimport {useCardsStyles} from './CommonCard'\r\nimport CardRow from './CardRow'\r\n\r\nconst SystemCard = React.memo((props) => {\r\n//export default function SystemCard() {\r\n  console.log(`! render SystemCard`);\r\n\r\n  const classes = useCardsStyles();\r\n  const bull = <span className={classes.bullet}></span>;\r\n\r\n  const system = props.system;\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardContent>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}CPU\r\n        </Typography>\r\n        {system?.Processor?.Model || system?.Processor?.CPU_Load ? \r\n          <>\r\n            <CardRow descr=\"\" value={system?.Processor?.Model} rightWidth={'100%'}></CardRow>\r\n            <CardRow descr=\"\" value={system?.Processor?.CPU_Load+'%'}></CardRow>\r\n          </> : <></>}\r\n\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        {system?.Memory?.Memory_total_Gb || system?.Memory?.Memory_free_Gb ? \r\n          <>\r\n            <CardRow descr=\"\" value={system?.Memory?.Memory_total_Gb+' '}></CardRow>\r\n            <CardRow descr=\"\" value={system?.Memory?.Memory_free_Gb+' '}></CardRow>\r\n          </> : <></>}\r\n\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n              {bull} \r\n        </Typography>\r\n        {system?.HDD?.map((i, ind) => (\r\n          <div key={ind.toString()} >\r\n            <Typography variant=\"h6\" component=\"h2\">\r\n              {bull} {i.Letter}\r\n            </Typography>\r\n            <CardRow descr=\"\" value={i.TotalSize+' '}></CardRow>\r\n            <CardRow descr=\"\" value={i.FreeSize+' '}></CardRow>\r\n          </div>\r\n          ))\r\n        } \r\n        <Typography variant=\"h6\" component=\"h2\">\r\n              {bull} \r\n        </Typography>\r\n        {system?.PhysicalDisks?.map((i, ind) => (\r\n          <div key={ind.toString()} >\r\n            <Typography variant=\"h6\" component=\"h2\">\r\n              {bull} {i.MediaType}\r\n            </Typography>\r\n            <CardRow descr={i.FriendlyName+' '} value={i.Size_Gb+' '}></CardRow>\r\n          </div>\r\n          ))\r\n        } \r\n\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        {system?.Network?.filter(i => i.NIC).map((i, ind) => (\r\n          <CardRow key={ind.toString()} descr={i.NIC} value={i.IP}></CardRow>\r\n          ))\r\n        } \r\n\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        {system?.VGA?.map((i, ind) => (\r\n          <div key={ind.toString()} >\r\n            <CardRow descr=\"\" value={i.Card_Name} rightWidth={'100%'}></CardRow>\r\n            <CardRow descr=\"\" value={i.Memory_Gb+' '}></CardRow>\r\n            <CardRow descr=\"\" value={i.Driver_Version}></CardRow>\r\n          </div>\r\n          ))\r\n        } \r\n\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        {system?.Monitor?.map((i, ind) => (\r\n          <CardRow key={ind.toString()} descr={i.Device_Name} value={i.Width+'x'+i.Height}></CardRow>\r\n          ))\r\n        } \r\n\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        {system?.Printer?.map((i, ind) => (\r\n          <div key={ind.toString()} >\r\n            <CardRow descr=\"\" value={i.Printer_Name} rightWidth={'100%'}></CardRow>\r\n            <CardRow descr=\"\" value={i.Port_Name} rightWidth={'100%'}></CardRow>\r\n          </div>\r\n          ))\r\n        } \r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nexport default SystemCard;","import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\nimport {useCardsStyles} from './CommonCard'\r\nimport CardRow from './CardRow'\r\n\r\n//export default function OrganAutoCard(props) {\r\nconst OrganAutoCard = React.memo((props) => {\r\n  console.log(`! render OrganAutoCard`);\r\n\r\n  const classes = useCardsStyles();\r\n  const bull = <span className={classes.bullet}></span>;\r\n\r\n  const organAuto = props.organAuto;\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardContent>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        <CardRow descr=\"\" value={organAuto?.Name} rightWidth={'50%'}></CardRow>\r\n        <CardRow descr=\"\" value={organAuto?.Projection}></CardRow>\r\n        <CardRow descr=\"\" value={organAuto?.Direction}></CardRow>\r\n        <CardRow descr=\". \" value={ organAuto?.AgeId}></CardRow>\r\n        <CardRow descr=\"\" value={organAuto?.Constitution}></CardRow>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nexport default OrganAutoCard;","import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\n\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\nimport CardRow from './CardRow'\r\n\r\nimport {useCardsStyles} from './CommonCard'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '100%', \r\n  },\r\n}));\r\n\r\n// export default function EquipImageCard() {\r\nconst EquipImageCard = React.memo((props) => {\r\n  console.log(`! render EquipImageCard`);\r\n\r\n  const classes = useCardsStyles();\r\n  const equipClasses = useStyles();\r\n\r\n  const bull = <span className={classes.bullet}></span>;\r\n\r\n  const equipInfo = props.equipInfo;\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardMedia\r\n        className={equipClasses.media}\r\n        image=\"./girl.jpg\"\r\n        title=\"\"\r\n      />\r\n      <CardContent>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n           : {equipInfo}\r\n        </Typography>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nexport default EquipImageCard;","import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\nimport {useCardsStyles} from './CommonCard'\r\nimport CardRow from './CardRow'\r\n\r\n// export default function DicomCard() {\r\nconst DicomCard = React.memo((props) => {\r\n  console.log(`! render DicomCard`);\r\n\r\n  const classes = useCardsStyles();\r\n  const bull = <span className={classes.bullet}></span>;\r\n\r\n  const dicom = props.dicom;\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardContent>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}DICOM\r\n        </Typography>\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          {bull}PACS\r\n        </Typography>\r\n        {dicom?.PACS?.length ? \r\n          dicom.PACS.map((i, ind) => (\r\n            <div key={ind.toString()}>\r\n              <CardRow descr={i.Name} value={ i.IP}></CardRow>\r\n              <CardRow   \r\n                descr={''} \r\n                value={ i.State ? \"\" : \" \"} \r\n                rightColor={i.State ? \"green\" : \"red\"}\r\n              ></CardRow>\r\n            </div>\r\n            ))\r\n            :\r\n            <></>          \r\n        }\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          {bull}WorkList\r\n        </Typography>\r\n        {dicom?.WorkList?.length ? \r\n          dicom.WorkList.map((i, ind) => (\r\n            <div key={ind.toString()}>\r\n              <CardRow descr={i.Name} value={ i.IP}></CardRow>\r\n              <CardRow   \r\n                descr={''} \r\n                value={ i.State ? \"\" : \" \"} \r\n                rightColor={0? \"green\" : \"red\"}\r\n              ></CardRow>\r\n            </div>\r\n            ))\r\n            :\r\n            <></>          \r\n        }\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nexport default DicomCard;","import React, {useContext, useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport {useCardsStyles} from './CommonCard'\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\nimport * as EquipWorker from '../../workers/equipWorker'\r\nimport {CardButtonedRow, CardSwitchedRow} from './CardRow'\r\n\r\nconst RemoteAccessCard = React.memo((props) => {  \r\n  console.log(`! render RemoteAccessCard`);\r\n  const [detailedXilib, setDetailedXilib] = useState(false);\r\n  const [verboseXilib, setVerboseXilib] = useState(false);\r\n\r\n  const classes = useCardsStyles();\r\n  const bull = <span className={classes.bullet}></span>;\r\n\r\n  const equipInfo = props.equipInfo;\r\n  const onRunTeamViewer = async () => {\r\n    const res = await EquipWorker.RunTeamViewer(equipInfo);\r\n  };\r\n\r\n  const onRunTaskManager = async () => {\r\n    const res = await EquipWorker.RunTaskManager(equipInfo);\r\n  };\r\n\r\n  const onAtlasLogs = async () => {\r\n    const res = await EquipWorker.SendAtlasLogs(equipInfo);\r\n  };\r\n\r\n  const onXilibLogs = async () => {\r\n    const res = await EquipWorker.XilibLogsOn(equipInfo, detailedXilib, verboseXilib);\r\n  };\r\n\r\n  const onDetailedXilib = async () => {\r\n    setDetailedXilib(!detailedXilib);\r\n  };\r\n\r\n  const onVerboseXilib = async () => {\r\n    setVerboseXilib(!verboseXilib);\r\n  };\r\n\r\n  const remoteaccess = props.remoteaccess;\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardContent>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull} \r\n        </Typography>\r\n        <CardButtonedRow descr={'TeamViewer'} title={''} onClick={onRunTeamViewer}></CardButtonedRow>\r\n        <CardButtonedRow descr={'TaskManager'} title={''} onClick={onRunTaskManager}></CardButtonedRow>\r\n        <CardButtonedRow descr={' '} title={''} onClick={onAtlasLogs}></CardButtonedRow>\r\n        <CardButtonedRow descr={' Xilib'} \r\n          title={!remoteaccess.Xilogs? ' ' : remoteaccess.Xilogs.on ? '' : ''} \r\n          onClick={onXilibLogs}\r\n          buttonColor={!remoteaccess.Xilogs? undefined : remoteaccess.Xilogs.on ? \"secondary\" : \"primary\"}\r\n          disabled={!remoteaccess.Xilogs}\r\n        ></CardButtonedRow>\r\n        <CardSwitchedRow descr={''} onChange={onDetailedXilib}></CardSwitchedRow>\r\n        <CardSwitchedRow descr={''} onChange={onVerboseXilib}></CardSwitchedRow>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nexport default RemoteAccessCard;","import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\nimport {useCardsStyles} from './CommonCard'\r\nimport CardRow, {CardErrorRow} from './CardRow'\r\n\r\nconst StandCard = React.memo((props) => {\r\n// export default function StandCard() {\r\n  console.log(`! render StandCard`);\r\n\r\n  const classes = useCardsStyles();\r\n  const bull = <span className={classes.bullet}></span>;\r\n\r\n  const stand = props.stand;\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardContent>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        <CardRow descr=\"\" \r\n          value={stand?.State?.State > 0? \"\" : \" \" }\r\n          rightColor={stand?.State?.State > 0? \"green\" : \"red\"}\r\n        ></CardRow>\r\n        <CardRow descr=\"\" value={stand?.State?.Mode}></CardRow>\r\n        <CardRow descr=\"\" value={stand?.State?.RasterState}></CardRow>\r\n        <CardRow descr=\"\" value={stand?.State?.Position_Current}></CardRow>\r\n        <CardRow descr=\"  \" value={stand?.State?.Tube_Incline}></CardRow>\r\n        <CardRow descr=\"  \" value={stand?.State?.Deck_Incline}></CardRow>\r\n        <CardRow descr=\"  \" value={stand?.State?.Camera_Incline}></CardRow>\r\n        <CardRow descr=\" \" value={stand?.State?.Ffd_Current}></CardRow>\r\n        <CardRow descr=\" \" value={stand?.State?.Deck_Height}></CardRow>\r\n        <CardRow descr=\"\" value={stand?.State?.ErrorDescriptions?.length}></CardRow>\r\n        {stand?.State?.ErrorDescriptions?.length ? \r\n          stand.State.ErrorDescriptions.map((i, ind) => (\r\n            <CardErrorRow key={ind.toString()}  descr={i.Code} value={i.Description} ></CardErrorRow>\r\n            ))\r\n            :\r\n            <></>          \r\n        }\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nexport default StandCard;","import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\nimport {useCardsStyles} from './CommonCard'\r\nimport CardRow from './CardRow'\r\n\r\n// export default function DosimeterCard() {\r\nconst DosimeterCard = React.memo((props) => {\r\n  console.log(`! render DosimeterCard`);\r\n\r\n  const classes = useCardsStyles();\r\n  const bull = <span className={classes.bullet}></span>;\r\n\r\n  const dosimeter = props.dosimeter;\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardContent>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        <CardRow descr=\"\" \r\n          value={dosimeter?.State?.State > 0? \"\" : \" \"}\r\n          rightColor={dosimeter?.State?.State > 0 ? \"green\" : \"red\"}></CardRow>\r\n        <CardRow descr=\"\" value={dosimeter?.State?.Dose ? \r\n          parseFloat(dosimeter?.State?.Dose).toFixed(2) + ' ' : '' }></CardRow>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nexport default DosimeterCard;","import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\nimport {useCardsStyles} from './CommonCard'\r\nimport CardRow, {CardErrorRow} from './CardRow'\r\n\r\nconst SoftwareCard = React.memo((props) => {\r\n//export default function SoftwareCard() {\r\n  console.log(`! render SoftwareCard`);\r\n\r\n  const classes = useCardsStyles();\r\n  const bull = <span className={classes.bullet}></span>;\r\n\r\n  const software = props.software;\r\n  const atlasUser = software?.Atlas?.Atlas_User;\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardContent>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}Software\r\n        </Typography>\r\n        <CardRow descr={software?.Sysinfo?.OS} value={software?.Sysinfo?.Version}></CardRow>\r\n        <CardRow descr={software?.MSSQL?.SQL} value={software?.MSSQL?.Version}></CardRow>\r\n        <CardRow descr={''} value={software?.User?.Current_user}></CardRow>\r\n        <CardRow descr=\"\" value={''}></CardRow>\r\n        {software?.ErrorDescriptions?.length ? \r\n          software.ErrorDescriptions.map((i, ind) => (\r\n            <CardErrorRow key={ind.toString()}  descr={i.Code} value={i.Description} ></CardErrorRow>\r\n            ))\r\n            :\r\n            <></>          \r\n        }\r\n\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          {bull} \r\n        </Typography>\r\n        {software?.Databases?.length ? \r\n          software.Databases.map((i, ind) => (\r\n            <CardRow key={ind.toString()} descr={i.DB_name} value={i.DB_Status}></CardRow>\r\n            ))\r\n            :\r\n            <></>          \r\n        }\r\n\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        <CardRow descr=\"\" value={software?.Atlas?.Atlas_Version}></CardRow>\r\n        <CardRow descr=\"Xilib\" value={software?.Atlas?.XiLibs_Version}></CardRow>\r\n        <CardRow descr=\"\" value={software?.Atlas?.Complex_type}></CardRow>\r\n        <CardRow descr=\"\" value={software?.Atlas?.Complex_type}></CardRow>\r\n        <CardRow descr=\"Multimonitor\" value={software?.Atlas?.Multimonitor}></CardRow>\r\n        <CardRow descr={atlasUser?.User ? atlasUser?.Role : ''} \r\n          value={atlasUser?.User ? atlasUser?.User : ' '}\r\n          rightWidth={'100%'}\r\n        ></CardRow>        \r\n        <CardRow descr=\"\" value={''}></CardRow>\r\n        {software?.AtlasErrorDescriptions?.length ? \r\n          software.AtlasErrorDescriptions.map((i, ind) => (\r\n            <CardErrorRow key={ind.toString()}  descr={i.Code} value={i.Description} ></CardErrorRow>\r\n            ))\r\n            :\r\n            <></>          \r\n        }\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nexport default SoftwareCard;","import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\nimport {useCardsStyles} from './CommonCard'\r\nimport CardRow from './CardRow'\r\n\r\n//export default function OrganAutoCard(props) {\r\nconst ImagesCard = React.memo((props) => {\r\n  console.log(`! render ImagesCard`);\r\n\r\n  const classes = useCardsStyles();\r\n  const bull = <span className={classes.bullet}></span>;\r\n\r\n  const images = props.images;\r\n  const today = images?.Today;\r\n  const current = images?.Current;\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardContent>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        <CardRow descr=\"\" value={images?.ImageCount}></CardRow>\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          {bull} \r\n        </Typography>\r\n        {today?.SingleGraphy ? <CardRow descr=\"\" value={today.SingleGraphy}></CardRow> : <></>}\r\n        {today?.Scopy ? <CardRow descr=\"\" value={today.Scopy}></CardRow> : <></>}\r\n\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          {bull}\r\n        </Typography>\r\n        <CardRow descr=\"\" value={current?.Kv}></CardRow>\r\n        <CardRow descr=\"\" value={current?.Mas}></CardRow>\r\n        <CardRow descr=\"\" value={ current?.Dose}></CardRow>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nexport default ImagesCard;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { blue } from '@material-ui/core/colors';\r\n\r\nconst useStyles = makeStyles({\r\n  text: {\r\n    margin: '1em',\r\n  },\r\n});\r\n\r\nexport default function NotifyDlg(props) {\r\n  const classes = useStyles();  \r\n  const [open, setOpen] = React.useState(!!props.text);\r\n\r\n//   if(!!props.text && !open){\r\n//     setOpen(true);\r\n//   }\r\n\r\n  const handleClose = (value) => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\r\n      <DialogTitle id=\"simple-dialog-title\">{props.title}</DialogTitle>\r\n      <Typography className={classes.text}>{props.text}</Typography>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\n\r\nimport DetectorCard from '../cards/DetectorCard'\r\nimport GeneratorCard from '../cards/GeneratorCard'\r\nimport SystemCard from '../cards/SystemCard'\r\nimport OrganAutoCard from '../cards/OrganAutoCard'\r\nimport EquipImageCard from '../cards/EquipImageCard'\r\nimport DicomCard from '../cards/DicomCard'\r\nimport RemoteAccessCard from '../cards/RemoteAccessCard'\r\nimport StandCard from '../cards/StandCard'\r\nimport DosimeterCard from '../cards/DosimeterCard'\r\nimport SoftwareCard from '../cards/SoftwareCard'\r\nimport ImagesCard from '../cards/ImagesCard'\r\nimport NotifyDlg from '../dialogs/NotifyDlg'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display:\"flex\"\r\n  },\r\n  column:{\r\n    width: \"30%\",\r\n    marginRight: \"12px\",\r\n  }\r\n}));\r\n\r\nexport default function SummaryTab(props) {\r\n  console.log(\"render SummaryTab\");\r\n\r\n  const classes = useStyles();\r\n  const [currEquipState, currEquipDispatch] = useContext(CurrentEquipContext);\r\n\r\n  const notifyText = currEquipState.remoteaccess?.FtpSendResult;\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.column}>\r\n        <EquipImageCard equipInfo={currEquipState.equipInfo}></EquipImageCard>\r\n        <SystemCard system={currEquipState.system}></SystemCard>\r\n        {/* <HddCard></HddCard> */}\r\n      </div>\r\n      <div className={classes.column}>\r\n        <OrganAutoCard organAuto={currEquipState.organAuto}></OrganAutoCard>\r\n        <ImagesCard images={currEquipState.images}></ImagesCard>\r\n        <GeneratorCard generator={currEquipState.generator}></GeneratorCard>\r\n        <DetectorCard detectors={currEquipState.detectors} aecs={currEquipState.aecs}></DetectorCard>\r\n        <StandCard stand={currEquipState.stand}></StandCard>\r\n        <DosimeterCard dosimeter={currEquipState.dosimeter}></DosimeterCard>\r\n      </div>\r\n      <div className={classes.column}>\r\n        <RemoteAccessCard equipInfo={currEquipState.equipInfo} remoteaccess={currEquipState.remoteaccess}></RemoteAccessCard>\r\n        <DicomCard dicom={currEquipState.dicom}></DicomCard>\r\n        <SoftwareCard software={currEquipState.software}></SoftwareCard>\r\n      </div>\r\n      {notifyText ? <NotifyDlg title=' FTP' text={'  ' + (currEquipState.remoteaccess?.FtpSendResult ? '' : ' ') }></NotifyDlg> : <></>}\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display:\"flex\"\r\n  },\r\n}));\r\n\r\nexport default function MapTab(props) {\r\n  console.log(\"render MapTab\");\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display:\"flex\"\r\n  },\r\n}));\r\n\r\nexport default function EventsTab(props) {\r\n  console.log(\"render EventsTab\");\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n    </div>\r\n  );\r\n}","import React, { useDebugValue } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  container: {\r\n    maxHeight: 440,\r\n  },\r\n  errorCell:{\r\n    color: 'white',\r\n    background: 'red',\r\n    margin: '0px',\r\n    wordWrap: 'break-word',\r\n  },\r\n  simpleCell:{\r\n    wordWrap: 'break-word',\r\n  }\r\n});\r\n\r\nexport default function CommonTable(props) {\r\n  const classes = useStyles();\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const rows = props.rows ? props.rows : [];\r\n  const columns = props.columns;\r\n\r\n  return (\r\n    <Paper className={classes.root}>\r\n      <TableContainer className={classes.container}>\r\n        <Table stickyHeader aria-label=\"sticky table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              {columns.map((column) => (\r\n                <TableCell\r\n                  key={column.id}\r\n                  align={column.align}\r\n                  style={{ minWidth: column.minWidth, maxWidth: column.maxWidth}}  \r\n                >\r\n                  {column.label}\r\n                </TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\r\n              return (\r\n                <TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code} onClick={(ev) => props.onRowClick(ev, row)} >\r\n                  {columns.map((column) => {\r\n                    const value = row[column.id];\r\n                    return (\r\n                      <TableCell key={column.id} align={column.align}\r\n                        className={column.hasErrors && column.hasErrors(value) ? classes.errorCell : classes.simpleCell}\r\n                      >\r\n                        <div style={{ maxWidth: column.maxWidth}}>\r\n                        {column.checked ? \r\n                          <Checkbox\r\n                            checked={value}\r\n                            onChange={(ev) => props.onSelect(ev, row)}\r\n                            inputProps={{ 'aria-label': 'select all desserts' }}\r\n                          /> : \r\n                          column.format ? column.format(value) : \r\n                            column.formatArray ? column.formatArray(value).map(v => <pre>{v}</pre>) : value}\r\n                        </div>  \r\n                      </TableCell>\r\n                    );\r\n                  })}\r\n                </TableRow>\r\n              );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <TablePagination\r\n        rowsPerPageOptions={[10, 25, 100]}\r\n        component=\"div\"\r\n        count={rows?.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onChangePage={handleChangePage}\r\n        onChangeRowsPerPage={handleChangeRowsPerPage}\r\n      />\r\n    </Paper>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CommonTable from '../CommonTable'\r\n\r\nconst columnsPermanent = [\r\n    { id: 'Parameter', label: '', minWidth: 170 },    \r\n    { id: 'Value', label: '', minWidth: 100 },\r\n    { id: 'DateTime', label: '. ', minWidth: 100 },\r\n  ];\r\n\r\nconst columnsVolatile = [\r\n    { id: 'EquipName', label: '', minWidth: 170 },\r\n    { id: 'DateTime', label: '', minWidth: 100 },\r\n    { id: 'Processor_CPU_Load', label: 'CPU ', minWidth: 100 },\r\n    { id: 'Memory_Memory_free_Gb', label: ' ', minWidth: 100 },\r\n    { id: 'HddName', label: ' ', minWidth: 100 },\r\n    { id: 'HddFreeSpace', label: '', minWidth: 100 },  \r\n  ];\r\n\r\n  const useStyles = makeStyles({\r\n    root: {\r\n      width: '100%',\r\n    }\r\n  });\r\n  \r\nexport default function SystemTable(props) {\r\n  console.log(\"render SystemTable\");\r\n\r\n  const classes = useStyles();\r\n  const volatileInfoRows = props.data?.VolatileInfo;\r\n  const permanentInfo = props.data?.PermanentInfo?.length > 0 ? props.data?.PermanentInfo[0] : null;\r\n  const hdds = permanentInfo?.HDD?.map(e => \r\n    { \r\n      return { Parameter: ` ${e.Letter}`, Value: e.TotalSize, DateTime: permanentInfo?.DateTime }\r\n    });\r\n  \r\n  const physicalDisks = permanentInfo?.PhysicalDisks?.map(e => \r\n    { \r\n      return { Parameter: ` ${e.MediaType} ${e.FriendlyName}`, Value: e.Size_Gb, DateTime: permanentInfo?.DateTime }\r\n    });\r\n\r\n  const monitors = permanentInfo?.Monitor?.map(e => \r\n    { \r\n      return { Parameter: ` ${e.Device_Name}`, Value: `${e.Width}x${e.Height}`, DateTime: permanentInfo?.DateTime }\r\n    });\r\n\r\n  const vga = permanentInfo?.VGA?.map(e => \r\n    { \r\n      return { Parameter: ` ${e.Card_Name}`, Value: `${e.Memory_Gb}`, DateTime: permanentInfo?.DateTime }\r\n    });\r\n\r\n  const processor = permanentInfo?.Processor?.Model ? [ { Parameter: \"\", Value: permanentInfo?.Processor.Model, DateTime: permanentInfo?.DateTime }] : []\r\n  const motherboard = permanentInfo?.Motherboard?.Model ? [ { Parameter: \" \", Value: permanentInfo?.Motherboard.Model, DateTime: permanentInfo?.DateTime }] : []\r\n  const memory = permanentInfo?.Memory?.Memory_total_Gb ? [ { Parameter: \", \", Value: permanentInfo?.Memory.Memory_total_Gb, DateTime: permanentInfo?.DateTime }] : []\r\n\r\n  const permanentInfoRows = \r\n    processor\r\n    .concat(memory)\r\n    .concat(hdds ?? [])\r\n    .concat(motherboard)    \r\n    .concat(physicalDisks ?? [])    \r\n    .concat(monitors ?? [])\r\n    .concat(vga ?? []);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      |{props.equipName ? \r\n        <div>\r\n          <Typography variant=\"h5\" component=\"h2\">\r\n              {props.equipName}\r\n          </Typography>\r\n          <CommonTable columns={columnsPermanent} rows={permanentInfoRows}></CommonTable>\r\n          </div>\r\n        : <></>\r\n      }\r\n      <CommonTable columns={columnsVolatile} rows={volatileInfoRows}></CommonTable>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport CommonTable from '../CommonTable'\r\n\r\nconst columns = [\r\n  { id: 'EquipName', label: '', minWidth: 170 },\r\n  { id: 'DateTime', label: '', minWidth: 100 },\r\n  { id: 'Name', label: '', minWidth: 100 },\r\n  { id: 'Projection', label: '', minWidth: 100 },\r\n  { id: 'Direction', label: '', minWidth: 100 },\r\n  { id: 'AgeId', label: '. ', minWidth: 100 },\r\n  { id: 'Constitution', label: '', minWidth: 100 },  \r\n];\r\n\r\nexport default function OrganAutoTable(props) {\r\n  console.log(\"render OrganAutoTable\");\r\n\r\n  const rows = props.data;\r\n  return (\r\n    <CommonTable columns={columns} rows={rows}></CommonTable>\r\n  );\r\n}","import React from 'react';\r\nimport CommonTable from '../CommonTable'\r\nimport {parseLocalString} from '../../../utilities/utils'\r\n\r\nconst columns = [\r\n  { id: 'EquipName', label: '', minWidth: 170 },\r\n  { id: 'DateTime', label: '', minWidth: 100,\r\n    format: (value) => parseLocalString(value)\r\n  },\r\n  { id: 'Data', label: '', minWidth: 100, maxWidth: 800,\r\n    hasErrors: (value) => value?.includes('ErrorDescriptions')\r\n  },\r\n  // { id: 'State', label: '', minWidth: 100 },  \r\n  // { id: 'Workstation', label: '. ', minWidth: 100 },\r\n  // { id: 'HeatStatus', label: '', minWidth: 100 },\r\n  // { id: 'ErrorDescriptions', label: '', minWidth: 100, \r\n  //   formatArray: (values) =>\r\n  //   {\r\n  //     if(!values || !values.length) {\r\n  //       return values ?? [];\r\n  //     }\r\n  //     //const errors = values.reduce((accumulator, currentValue) => accumulator + `Code ${currentValue.Code}: ${currentValue. Description}`, '');\r\n  //     return values.map((currentValue) => `Code ${currentValue.Code}: ${currentValue. Description}`);\r\n  //   },\r\n  //   hasErrors: (values) =>\r\n  //   {\r\n  //     if(!values || !values.length) {\r\n  //       return false;\r\n  //     }\r\n\r\n  //     return true;\r\n  //   }\r\n  // },\r\n  // { id: 'Mas', label: '', minWidth: 100 },\r\n  // { id: 'Kv', label: '', minWidth: 100 },  \r\n];\r\n\r\nexport default function GeneratorTable(props) {\r\n  console.log(\"render GeneratorTable\");\r\n\r\n  const rows = props.data;\r\n  return (\r\n    <CommonTable columns={columns} rows={rows}></CommonTable>\r\n  );\r\n}","import React from 'react';\r\nimport CommonTable from '../CommonTable'\r\n\r\nconst columns = [\r\n  { id: 'EquipName', label: '', minWidth: 170 },\r\n  { id: 'DateTime', label: '', minWidth: 100 },\r\n  { id: 'StudyId', label: 'Id ', minWidth: 100 },\r\n  { id: 'StudyDicomUid', label: 'Dicom Uid', minWidth: 100 },\r\n  { id: 'StudyName', label: '', minWidth: 100 },\r\n  { id: 'State', label: '', minWidth: 100 },\r\n];\r\n\r\nexport default function StudiesTable(props) {\r\n  console.log(\"render StudiesTable\");\r\n\r\n  const rows = props.data;\r\n  return (\r\n    <CommonTable columns={columns} rows={rows}></CommonTable>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CommonTable from '../CommonTable'\r\n\r\n// const columns = [\r\n//     { id: 'EquipName', label: '', minWidth: 170 },\r\n//     { id: 'DateTime', label: '', minWidth: 100 },\r\n//     { id: 'SettingsDB', label: 'Settings ', minWidth: 100 },\r\n//     { id: 'ObservationsDB', label: 'Observations ', minWidth: 100 },\r\n//     { id: 'Version', label: ' ', minWidth: 100 },\r\n//     { id: 'XilibVersion', label: ' xilib', minWidth: 100 },\r\n//     { id: 'ErrorDescriptions', label: '', minWidth: 100, \r\n//       formatArray: (values) =>\r\n//       {\r\n//         if(!values || !values.length) {\r\n//           return values;\r\n//         }\r\n//         //const errors = values.reduce((accumulator, currentValue) => accumulator + `Code ${currentValue.Code}: ${currentValue. Description}`, '');\r\n//         return values.map((currentValue) => `Code ${currentValue.Code}: ${currentValue. Description}`);\r\n//       },\r\n//       hasErrors: (values) =>\r\n//       {\r\n//         if(!values || !values.length) {\r\n//           return false;\r\n//         }\r\n\r\n//         return true;\r\n//       }\r\n//     },\r\n//   ];\r\n\r\nconst columnsPermanent = [\r\n  { id: 'Parameter', label: '', minWidth: 170 },    \r\n  { id: 'Value', label: '', minWidth: 100 },\r\n  { id: 'DateTime', label: '. ', minWidth: 100 },\r\n];\r\n\r\nconst columnsVolatile = [\r\n  { id: 'EquipName', label: '', minWidth: 170 },\r\n  { id: 'DateTime', label: '', minWidth: 100 },\r\n  { id: 'ErrorType', label: '', minWidth: 100 },\r\n  { id: 'ErrorCode', label: '', minWidth: 100 },\r\n  { id: 'ErrorDescription', label: '', minWidth: 100 },\r\n];\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n  }\r\n});\r\n\r\nexport default function SofwareTable(props) {\r\n  console.log(\"render SofwareTable\");\r\n\r\n  const classes = useStyles();\r\n  const volatileInfoRows = props.data?.VolatileInfo;\r\n  const permanentInfo = props.data?.PermanentInfo?.length > 0 ? props.data?.PermanentInfo[0] : null;\r\n  const dbs = permanentInfo?.Databases?.map(e => \r\n    { \r\n      return { Parameter: ` ${e.DB_name}`, Value: e.DB_Status, DateTime: permanentInfo?.DateTime }\r\n    });\r\n\r\n  const os = permanentInfo?.Sysinfo?.OS ? [ { Parameter: permanentInfo?.Sysinfo?.OS, Value: permanentInfo?.Sysinfo.Version, DateTime: permanentInfo?.DateTime }] : []\r\n  const sql = permanentInfo?.MSSQL?.OS ? [ { Parameter: permanentInfo?.MSSQL?.SQL, Value: permanentInfo?.MSSQL.Version, DateTime: permanentInfo?.DateTime }] : []\r\n  const atlas = permanentInfo?.Atlas ? [ \r\n    { Parameter: \" \", Value: permanentInfo?.Atlas.Atlas_Version, DateTime: permanentInfo?.DateTime },\r\n    { Parameter: \" \", Value: permanentInfo?.Atlas.Complex_type, DateTime: permanentInfo?.DateTime },\r\n    { Parameter: \" Xilib\", Value: permanentInfo?.Atlas.XiLibs_Version, DateTime: permanentInfo?.DateTime },\r\n  ] : []\r\n\r\n  const permanentInfoRows = \r\n    os\r\n    .concat(sql)\r\n    .concat(dbs ?? [])    \r\n    .concat(atlas)   \r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      |{props.equipName ? \r\n        <div>\r\n          <Typography variant=\"h5\" component=\"h2\">\r\n              {props.equipName}\r\n          </Typography>\r\n          <CommonTable columns={columnsPermanent} rows={permanentInfoRows}></CommonTable>\r\n          </div>\r\n        : <></>\r\n      }\r\n      <CommonTable columns={columnsVolatile} rows={volatileInfoRows}></CommonTable>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CommonTable from '../CommonTable'\r\n\r\nconst columns = [\r\n    { id: 'EquipName', label: '', minWidth: 170 },\r\n    { id: 'DateTime', label: '', minWidth: 100 },\r\n    { id: 'SettingsDB', label: 'Settings ', minWidth: 100 },\r\n    { id: 'ObservationsDB', label: 'Observations ', minWidth: 100 },\r\n    { id: 'Version', label: ' ', minWidth: 100 },\r\n    { id: 'XilibVersion', label: ' xilib', minWidth: 100 },\r\n  ];\r\n\r\nexport default function DetectorTable(props) {\r\n  console.log(\"render DetectorTable\");\r\n\r\n  const rows = props.data;\r\n  return (\r\n    <CommonTable columns={columns} rows={rows}></CommonTable>\r\n  );\r\n}","import React from 'react';\r\nimport CommonTable from '../CommonTable'\r\nimport {parseLocalString} from '../../../utilities/utils'\r\n\r\nconst columns = [\r\n    { id: 'EquipName', label: '', minWidth: 170 },\r\n    { id: 'DateTime', label: '', minWidth: 100,\r\n      format: (value) => parseLocalString(value)\r\n    },\r\n    { id: 'Data', label: '', minWidth: 100, maxWidth: 800,\r\n      hasErrors: (value) => value?.includes('ErrorDescriptions')\r\n    },\r\n\r\n    // { id: 'State', label: '', minWidth: 100 },\r\n    // { id: 'RasterState', label: '', minWidth: 100 },\r\n    // { id: 'Position_Current', label: '', minWidth: 100 },\r\n    // { id: 'ErrorDescriptions', label: '', minWidth: 100 },\r\n  ];\r\n  \r\nexport default function StandTable(props) {\r\n  console.log(\"render StandTable\");\r\n\r\n  const rows = props.data;\r\n  return (\r\n    <CommonTable columns={columns} rows={rows}></CommonTable>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CommonTable from '../CommonTable'\r\n\r\nconst columns = [\r\n    { id: 'EquipName', label: '', minWidth: 170 },\r\n    { id: 'DateTime', label: '', minWidth: 100 },\r\n    { id: 'PACS', label: 'PACS', minWidth: 100,\r\n      formatArray: (values) =>\r\n      {\r\n        if(!values || !values.length) {\r\n          return values;\r\n        }\r\n        \r\n        return values.map((currentValue) => `${currentValue.Name}(${currentValue.IP}): ${currentValue.State ? '' : ' '}`);\r\n      },\r\n    },\r\n    { id: 'WorkList', label: 'WorkList', minWidth: 100,\r\n        format: (values) =>\r\n        {\r\n          if(!values || !values.length) {\r\n            return values;\r\n          }\r\n          \r\n          return values.map((currentValue) => `${currentValue.Name}(${currentValue.IP}): ${currentValue.State ? '' : ' '}`);\r\n        },\r\n    },\r\n  ];\r\n\r\nexport default function DicomTable(props) {\r\n  console.log(\"render DicomTable\");\r\n\r\n  const rows = props.data;\r\n  return (\r\n    <CommonTable columns={columns} rows={rows}></CommonTable>\r\n  );\r\n}","import React, {useState, useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport {SearchPeriod} from '../../model/constants'\r\nimport {getUSFullDate} from '../../utilities/utils'\r\n\r\nimport SystemTable from '../tables/historyTables/SystemTable'\r\nimport OrganAutoTable from '../tables/historyTables/OrganAutoTable'\r\nimport GeneratorTable from '../tables/historyTables/GeneratorTable'\r\nimport StudiesTable from '../tables/historyTables/StudiesTable'\r\nimport SofwareTable from '../tables/historyTables/SofwareTable'\r\nimport DetectorTable from '../tables/historyTables/DetectorTable'\r\nimport StandTable from '../tables/historyTables/StandTable'\r\nimport DicomTable from '../tables/historyTables/DicomTable'\r\n\r\nimport * as EquipWorker from '../../workers/equipWorker'\r\nimport { CurrentEquipContext } from '../../context/currentEquip-context';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display:\"flex\"\r\n  },\r\n  commonSpacing:{\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  textField: {    \r\n    width: 200,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  optionStyle:{\r\n    // backgroundColor: \"#3f51b5\",\r\n    // color:\"black\",\r\n  }\r\n}));\r\n\r\nexport default function HistoryTab(props) {\r\n  console.log(\"render HistoryTab\");\r\n\r\n  const classes = useStyles();\r\n  const [currEquipState, currEquipDispatch] = useContext(CurrentEquipContext);\r\n\r\n  const curDate = new Date();\r\n  const [startDate, setStartDate] = useState(getUSFullDate(new Date(curDate.setDate(curDate.getDate() - SearchPeriod))));\r\n  const [endDate, setEndDate] = useState(getUSFullDate(new Date()));\r\n  const [equipName, setEquipName] = useState(currEquipState?.equipInfo);\r\n  const [currType, setCurrType] = useState(\"Software\");//\"SystemInfo\");\r\n  \r\n  const [systemInfos, setSystemInfos] = useState([]);  \r\n  const [organAutos, setOrganAutos] = useState([]);  \r\n  const [generators, setGenerators] = useState([]);\r\n  const [studies, setStudies] = useState([]);\r\n  const [stands, setStands] = useState([]);\r\n  const [detectors, setDetectors] = useState([]);\r\n  const [dosimeters, setDosimeters] = useState([]);\r\n  const [software, setSoftware] = useState([]);\r\n  const [dicom, setDicom] = useState([]);\r\n\r\n  const handleTypeChange = async (event) => {\r\n    const select = event.target;\r\n    const val = select.options[select.selectedIndex].value;\r\n\r\n    setCurrType(val);\r\n  };\r\n\r\n  const handleStartDateChange = (ev) => {\r\n    setStartDate(ev.target.value);\r\n  };\r\n\r\n  const handleEndDateChange = (ev) => {\r\n    setEndDate(ev.target.value);\r\n  };\r\n\r\n  const handleNameChange = (ev) => {\r\n    setEquipName(ev.target.value);\r\n  };  \r\n\r\n  const onSearch = async () => {\r\n    const data = await EquipWorker.SearchEquip(currType, equipName, startDate, endDate);\r\n    switch (currType) {\r\n      case \"SystemInfo\":\r\n        setSystemInfos(data);\r\n        break;\r\n      case \"OrganAutos\":\r\n        setOrganAutos(data);\r\n        break;\r\n      case \"Generators\":\r\n        setGenerators(data);\r\n        break;\r\n      case \"Studies\":\r\n        setStudies(data);\r\n        break;\r\n      case \"Stands\":\r\n        setStands(data);\r\n        break;\r\n      case \"Dosimeters\":\r\n        setDosimeters(data);\r\n        break;\r\n      case \"Detectors\":\r\n        setDetectors(data);\r\n        break;\r\n      case \"Software\":\r\n        setSoftware(data);\r\n        break;\r\n      case \"Dicom\":\r\n        setDicom(data);\r\n        break;\r\n      default:\r\n        alert( \"  \" );\r\n    }\r\n  };\r\n\r\n  return (\r\n      <>\r\n    <div className={classes.root}>\r\n        <TextField\r\n            id=\"startDate\"\r\n            label=\" \"\r\n            type=\"date\"\r\n            defaultValue={startDate}\r\n            onChange={handleStartDateChange}\r\n            className={classes.textField, classes.commonSpacing}\r\n            InputLabelProps={{\r\n            shrink: true,\r\n            }}\r\n        />\r\n        <TextField\r\n            id=\"endDate\"\r\n            label=\" \"\r\n            type=\"date\"\r\n            defaultValue={endDate}\r\n            onChange={handleEndDateChange}\r\n            className={classes.textField, classes.commonSpacing}\r\n            InputLabelProps={{\r\n            shrink: true,\r\n            }}\r\n        />\r\n        <NativeSelect\r\n                value={currType}\r\n                onChange={handleTypeChange}\r\n                name=\"equips\"\r\n                className={classes.selectEmpty, classes.commonSpacing}\r\n                variant=\"outlined\"\r\n                label=\"\"\r\n              >\r\n                <option value={\"SystemInfo\"} className={classes.optionStyle}></option>\r\n                <option value={\"OrganAutos\"} className={classes.optionStyle}> </option>\r\n                <option value={\"Generators\"} className={classes.optionStyle}></option>\r\n                <option value={\"Stands\"} className={classes.optionStyle}></option>\r\n                <option value={\"Dosimeters\"} className={classes.optionStyle}></option>\r\n                <option value={\"Detectors\"} className={classes.optionStyle}></option>\r\n                <option value={\"Studies\"} className={classes.optionStyle}></option>\r\n                <option value={\"Software\"} className={classes.optionStyle}></option>\r\n                <option value={\"Dicom\"} className={classes.optionStyle}>Dicom</option>\r\n        </NativeSelect>\r\n        <TextField id=\"standard-basic\" label=\"\" defaultValue={equipName} onChange={handleNameChange}/>\r\n        <Button variant=\"contained\" color=\"primary\" className={classes.commonSpacing} onClick={onSearch}>\r\n            \r\n        </Button>\r\n    </div>\r\n    <div className={classes.root}>        \r\n        {currType === \"SystemInfo\" ? <SystemTable equipName={equipName} data={systemInfos}></SystemTable> : <></>}\r\n        {currType === \"OrganAutos\" ? <OrganAutoTable data={organAutos}></OrganAutoTable> : <></>}     \r\n        {currType === \"Generators\" ? <GeneratorTable data={generators}></GeneratorTable> : <></>}    \r\n        {currType === \"Studies\" ? <StudiesTable data={studies}></StudiesTable> : <></>}  \r\n        {currType === \"Software\" ? <SofwareTable equipName={equipName} data={software}></SofwareTable> : <></>}  \r\n        {currType === \"Detectors\" ? <DetectorTable data={detectors}></DetectorTable> : <></>}  \r\n        {currType === \"Stands\" ? <StandTable data={stands}></StandTable> : <></>}  \r\n        {currType === \"Dicom\" ? <DicomTable data={dicom}></DicomTable> : <></>}  \r\n    </div>\r\n    </>\r\n  );\r\n}","import axios from 'axios';\r\nimport { EquipsServiceAddress } from '../model/constants'\r\nimport {HandlerWrapper, GetJsonHeader} from './commonWorker'\r\n\r\nimport {sessionUid} from '../utilities/utils'\r\n\r\nconst AdminController = '/equips';\r\n\r\nexport async function GetAllUsers() {\r\n    return await HandlerWrapper('GetAllUsers', async () => {\r\n        const path = EquipsServiceAddress + AdminController + '/GetAllUsers';\r\n        console.log(path);\r\n        const response = await axios.get(path);\r\n        return response.data;\r\n    });\r\n};\r\n\r\nexport async function UpdateUser(user) {\r\n    return await HandlerWrapper('UpdateUser', async () => {\r\n        const response = await axios.post(EquipsServiceAddress + AdminController + '/UpdateUser',\r\n            user, //json,\r\n            {\r\n                headers: {\r\n                    \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    \"Accept\": \"application/json\",\r\n                }\r\n            });\r\n\r\n        return response.data;\r\n    });\r\n};\r\n\r\nexport async function Login(login) {\r\n    return await HandlerWrapper('Login', async () => {\r\n        const response = await axios.post(EquipsServiceAddress + AdminController + '/Login',\r\n            login, \r\n            {\r\n                headers: {\r\n                    \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    \"Accept\": \"application/json\",\r\n                }\r\n            });\r\n\r\n        return response.data;\r\n    });\r\n};\r\n","import React, {useContext} from 'react';\r\nimport CommonTable from '../CommonTable'\r\nimport * as AdminWorker from '../../../workers/adminWorker'\r\nimport { UsersContext } from '../../../context/users-context';\r\n\r\nconst columns = [\r\n  { id: 'Login', label: '', minWidth: 170 },\r\n  { id: 'Surname', label: '', minWidth: 100 },\r\n  { id: 'Email', label: '', minWidth: 100 },\r\n  { id: 'Role', label: '', minWidth: 100 },\r\n  { id: 'Disabled', label: '', checked: true, minWidth: 100 },\r\n];\r\n\r\nexport default function UserTable(props) {\r\n  console.log(\"render UserTable\");\r\n  const [usersState, usersDispatch] = useContext(UsersContext);\r\n\r\n  const rows = props.data;\r\n\r\n  const handleSelect = async (event, row) => {\r\n    const Disabled = event.target.checked;//{id: \"1\", login, password, surname, email, role, disabled}\r\n    const newRow = {...row, Disabled};\r\n    const data = await AdminWorker.UpdateUser(newRow);\r\n    const users = await AdminWorker.GetAllUsers();\r\n    usersDispatch({ type: 'SETUSERS', payload: users }); \r\n  };\r\n\r\n  return (\r\n    <CommonTable columns={columns} rows={rows} onSelect={handleSelect}></CommonTable>\r\n  );\r\n}","import React, {useState, useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport Button from '@material-ui/core/Button';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nimport UserTable from '../tables/adminTables/UserTable'\r\nimport * as AdminWorker from '../../workers/adminWorker'\r\nimport { UsersContext } from '../../context/users-context';\r\nimport { Roles, UserRole } from '../../model/constants';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display:\"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    width:'100%',\r\n    marginBottom:'1em'\r\n  },\r\n  commonSpacing:{\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  text:{\r\n    width:'50%',\r\n    marginBottom:'1em'\r\n  }\r\n}));\r\n\r\n\r\n// flex-direction: row;\r\n//   justify-content: center;\r\n//   align-items: center;\r\n\r\nexport default function AdminTab(props) {\r\n  console.log(\"render AdminTab\");\r\n\r\n  const classes = useStyles();\r\n  const [usersState, usersDispatch] = useContext(UsersContext);\r\n  const [login, setLogin] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [surname, setSurname] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [role, setRole] = useState(UserRole);\r\n\r\n  const onLoginChange = (ev) => {\r\n    setLogin(ev.target.value);\r\n  }; \r\n  \r\n  const onPasswordChange = (ev) => {\r\n    setPassword(ev.target.value);\r\n  }; \r\n\r\n  const onSurnameChange = (ev) => {\r\n    setSurname(ev.target.value);\r\n  }; \r\n\r\n  const onEmailChange = (ev) => {\r\n    setEmail(ev.target.value);\r\n  }; \r\n\r\n  const onRoleChange = (ev) => {\r\n    setRole(ev.target.value);\r\n  }; \r\n\r\n  const handleRoleChange = async (event) => {\r\n    const select = event.target;\r\n    const val = select.options[select.selectedIndex].value;\r\n\r\n    setRole(val);\r\n  };\r\n\r\n  const onAdd = async () => {\r\n    const data = await AdminWorker.UpdateUser({id: '', login, password, surname, email, role, disabled: false});\r\n    const users = await AdminWorker.GetAllUsers();\r\n    usersDispatch({ type: 'SETUSERS', payload: users }); \r\n  };\r\n\r\n  const onLogin = async () => {\r\n    const data = await AdminWorker.Login({login, password});\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.root}>\r\n        <TextField className={classes.text} id=\"standard-basic\" required={true} label=\"\" defaultValue={''} onChange={onLoginChange}/>\r\n        <TextField className={classes.text} id=\"standard-basic\" required={true} label=\"\" defaultValue={''} onChange={onPasswordChange}/>\r\n        <TextField className={classes.text} id=\"standard-basic\" required={true} label=\"\" defaultValue={''} onChange={onSurnameChange}/>\r\n        <TextField className={classes.text} id=\"standard-basic\" label=\"\" defaultValue={''} onChange={onEmailChange}/>\r\n        {/* <TextField className={classes.text} id=\"standard-basic\" label=\"\" defaultValue={''} onChange={onRoleChange}/> */}\r\n        <FormControl className={classes.text}>\r\n              <InputLabel htmlFor=\"grouped-native-select\"></InputLabel>\r\n              <NativeSelect\r\n                value={role}\r\n                onChange={handleRoleChange}\r\n                name=\"roles\"\r\n                className={classes.selectEmpty}\r\n                variant=\"outlined\"\r\n              >\r\n                {Roles.map((i, ind) => (\r\n                    <option key={ind.toString()} value={i} className={classes.optionStyle}>{i}</option>\r\n                    ))\r\n                }\r\n              </NativeSelect>\r\n            </FormControl>\r\n        <Button variant=\"contained\" color=\"primary\" className={classes.commonSpacing} onClick={onAdd}>\r\n              \r\n        </Button>\r\n      </div>\r\n      <UserTable data={usersState.users}></UserTable>\r\n    </div>\r\n  );\r\n}","import React, {useContext} from 'react';\r\nimport CommonTable from '../CommonTable'\r\nimport { CurrentEquipContext } from '../../../context/currentEquip-context';\r\nimport { AllEquipsContext } from '../../../context/allEquips-context';\r\nimport * as EquipWorker from '../../../workers/equipWorker'\r\nimport {useSetCurrEquip} from '../../../hooks/useSetCurrEquip'\r\n\r\nconst columns = [\r\n  { id: 'IsActive', label: '', checked: true, minWidth: 50 },\r\n  { id: 'EquipName', label: '', minWidth: 170 },\r\n  { id: 'RegisterDate', label: ' ', minWidth: 170 },\r\n  { id: 'HospitalName', label: '', minWidth: 100 },\r\n  { id: 'HospitalAddress', label: '', minWidth: 100 },\r\n  { id: 'HospitalLatitude', label: '', minWidth: 100 },\r\n  { id: 'HospitalLatitude', label: '', minWidth: 100 },\r\n  // { id: 'Disabled', label: '', checked: true, minWidth: 100 },\r\n];\r\n\r\nexport default function EquipTable(props) {\r\n  console.log(\"render EquipTable\");\r\n  //const [currEquipState, currEquipDispatch] = useContext(CurrentEquipContext);\r\n  const [allEquipsState, allEquipsDispatch] = useContext(AllEquipsContext);\r\n  const setCurrEquip = useSetCurrEquip();\r\n\r\n  const rows = props.data;\r\n\r\n  const handleSelect = async (event, row) => {\r\n\r\n    const equipInfo = row.EquipName;\r\n    setCurrEquip(equipInfo, 'SETEQUIPINFO');\r\n    allEquipsDispatch({ type: 'ADDSELECTEDEQUIPS', payload: equipInfo }); \r\n    \r\n    // currEquipDispatch({ type: 'RESET', payload: true });    \r\n    // currEquipDispatch({ type: 'SETEQUIPINFO', payload: equipInfo }); \r\n\r\n    // // new software & system info come very slowly\r\n    // const sysInfo = await EquipWorker.GetPermanentData(\"SystemInfo\", equipInfo);\r\n    // currEquipDispatch({ type: 'SETSYSTEM', payload: sysInfo }); \r\n\r\n    // const swInfo = await EquipWorker.GetPermanentData(\"Software\", equipInfo);\r\n    // currEquipDispatch({ type: 'SETSOFTWARE', payload: swInfo }); \r\n\r\n    // await EquipWorker.Activate(equipInfo, currEquipState.equipInfo);\r\n  };\r\n\r\n  return (\r\n    <CommonTable columns={columns} rows={rows} onRowClick={handleSelect}></CommonTable>\r\n  );\r\n}","import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport { AllEquipsContext } from '../../context/allEquips-context';\r\nimport EquipTable from '../tables/equipTables/EquipTable'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display:\"flex\"\r\n  },\r\n}));\r\n\r\nexport default function EquipsTab(props) {\r\n  console.log(\"render EquipsTab\");\r\n\r\n  const classes = useStyles();  \r\n  const [allEquipsState, allEquipsDispatch] = useContext(AllEquipsContext);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <EquipTable data={allEquipsState.allEquips}></EquipTable>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport SummaryTab from '../tabs/SummaryTab';\r\nimport MapTab from '../tabs/MapTab';\r\nimport EventsTab from '../tabs/EventsTab';\r\nimport HistoryTab from '../tabs/HistoryTab';\r\nimport AdminTab from '../tabs/AdminTab';\r\nimport EquipsTab from '../tabs/EquipsTab';\r\n\r\nexport default function MainInfoComponent(props) {\r\n  console.log(\"render MainInfoComponent\");\r\n\r\n  return (\r\n    <div>\r\n      {props.Index === 0 ? <SummaryTab></SummaryTab> : <></>}\r\n      {props.Index === 1 ? <EquipsTab></EquipsTab> : <></>}\r\n      {props.Index === 2 ? <MapTab></MapTab> : <></>}\r\n      {props.Index === 3 ? <EventsTab></EventsTab> : <></>}\r\n      {props.Index === 4 ? <HistoryTab></HistoryTab> : <></>}\r\n      {props.Index === 5 ? <AdminTab></AdminTab> : <></>}\r\n    </div>\r\n  );\r\n}","import React, {useContext, useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\n\r\nimport MainToolBar from './MainToolBar';\r\nimport MainInfoComponent from './MainInfoComponent';\r\n\r\nimport { UsersContext } from '../../context/users-context';\r\nimport { AllEquipsContext } from '../../context/allEquips-context';\r\nimport * as AdminWorker from '../../workers/adminWorker'\r\nimport * as EquipWorker from '../../workers/equipWorker'\r\n\r\nconst drawerWidth = 240;\r\nconst mainMenu = ['', '', '', ' ', '', ''];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  appBar: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  // necessary for content to be below app bar\r\n  toolbar: theme.mixins.toolbar,\r\n  content: {\r\n    marginTop: 64, // `${drawerWidth}px`,\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.default,\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nexport default function MainComponent() {\r\n  const classes = useStyles();\r\n\r\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n  const [usersState, usersDispatch] = useContext(UsersContext);\r\n  const [allEquipsState, allEquipsDispatch] = useContext(AllEquipsContext);\r\n\r\n  useEffect(() => {\r\n      (async () => {\r\n          if(usersState.users)\r\n          {\r\n            return;\r\n          }\r\n\r\n          const users = await AdminWorker.GetAllUsers();\r\n          usersDispatch({ type: 'SETUSERS', payload: users }); \r\n      })();\r\n  }, [usersState.users]);\r\n\r\n  const handleListItemClick = async (event, index) => {\r\n    if(index === 1)\r\n    {\r\n      const allEquips = await EquipWorker.GetAllEquips();\r\n      allEquipsDispatch({ type: 'SETALLEQUIPS', payload: allEquips });  \r\n    }\r\n\r\n    setSelectedIndex(index);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <MainToolBar></MainToolBar>\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        anchor=\"left\"\r\n      >\r\n        <div className={classes.toolbar} />\r\n        <Divider />\r\n        <List>\r\n          {mainMenu.map((text, index) => (\r\n            <ListItem button key={text}\r\n                selected={selectedIndex === index}\r\n                onClick={(event) => handleListItemClick(event, index)}\r\n            >\r\n              <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\r\n              <ListItemText primary={text} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n          <MainInfoComponent Title={mainMenu[selectedIndex]} Index={selectedIndex}></MainInfoComponent>\r\n      </main>\r\n    </div>\r\n  );\r\n}","import React, {useState, useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  text:{\r\n    width:'50%',\r\n    marginBottom:'1em'\r\n  }\r\n}));\r\n\r\n\r\nexport default function PasswordComponent(props) {\r\n  console.log(\"render PasswordComponent\");\r\n  const classes = useStyles();\r\n  const [values, setValues] = React.useState({\r\n    password: '',\r\n    showPassword: false,\r\n  });\r\n\r\n  const handleChange = (prop) => (event) => {\r\n    setValues({ ...values, [prop]: event.target.value });\r\n  };\r\n\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n  \r\n  return (\r\n        <FormControl className={classes.text}>\r\n          <InputLabel htmlFor=\"standard-adornment-password\"></InputLabel>\r\n          <Input\r\n              id=\"standard-adornment-password\"\r\n              type={values.showPassword ? 'text' : 'password'}\r\n              value={props.password}\r\n              onChange={props.onChange}\r\n              endAdornment={\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={handleClickShowPassword}\r\n                    onMouseDown={handleMouseDownPassword}\r\n                  >\r\n                    {values.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              }\r\n            />\r\n        </FormControl>\r\n  );\r\n}","import React, {useState, useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Redirect } from 'react-router-dom';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport Button from '@material-ui/core/Button';\r\nimport PasswordComponent from '../commonComponents/PasswordComponent'\r\n\r\nimport UserTable from '../tables/adminTables/UserTable'\r\nimport * as AdminWorker from '../../workers/adminWorker'\r\nimport { UsersContext } from '../../context/users-context';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display:\"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    width:'100%',\r\n    marginBottom:'1em'\r\n  },\r\n  commonSpacing:{\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  text:{\r\n    width:'50%',\r\n    marginBottom:'1em'\r\n  },\r\n  alert:{\r\n    backgroundColor: '#f44336',\r\n    width: '50%',\r\n    color: 'white',\r\n    height: '3em',\r\n    borderRadius: '0.3em',\r\n    marginBottom:'1em'\r\n  }\r\n}));\r\n\r\n\r\nexport default function AuthComponent(props) {\r\n  console.log(\"render AuthComponent\");\r\n\r\n  const classes = useStyles();\r\n  const [usersState, usersDispatch] = useContext(UsersContext);\r\n  const [login, setLogin] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [showError, setShowError] = useState(false);\r\n\r\n  if (redirect) {\r\n    return <Redirect to=\"/info\" />;  \r\n  }\r\n\r\n  const onLoginChange = (ev) => {\r\n    setLogin(ev.target.value);\r\n    if(showError)setShowError(false);\r\n  }; \r\n  \r\n  const onPasswordChange = (ev) => {\r\n    setPassword(ev.target.value);\r\n    if(showError)setShowError(false);\r\n  }; \r\n\r\n  const onEmailChange = (ev) => {\r\n    setEmail(ev.target.value);\r\n    if(showError)setShowError(false);\r\n  }; \r\n\r\n  const onLogin = async () => {\r\n    const data = await AdminWorker.Login({login, password, email});\r\n    if(data){\r\n      usersDispatch({ type: 'SETUSER', payload: data }); \r\n      setRedirect(true);\r\n    }\r\n    else{\r\n      setShowError(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.root}>\r\n        <TextField className={classes.text} id=\"standard-basic\" label=\"\" defaultValue={''} onChange={onLoginChange}/>\r\n        {/* <TextField className={classes.text} id=\"standard-basic\" label=\"\" defaultValue={''} onChange={onPasswordChange}/> */}\r\n        <PasswordComponent password={password} onChange={onPasswordChange}></PasswordComponent>\r\n        <TextField className={classes.text} id=\"standard-basic\" label=\"\" defaultValue={''} onChange={onEmailChange}/>        \r\n        {showError ? <div className={classes.alert}>\r\n             \r\n        </div> : <></>}\r\n        <Button variant=\"contained\" color=\"primary\" className={classes.commonSpacing} onClick={onLogin}>\r\n              Login\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { useContext, useState } from 'react';\r\nimport { NavLink, Route } from 'react-router-dom';\r\n\r\nimport MainComponent from './components/mainComponents/MainComponent';\r\nimport AuthComponent from './components/mainComponents/AuthComponent';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Route exact path=\"/\" component={AuthComponent} />\r\n      <Route path=\"/auth\" component={AuthComponent}/>\r\n      <Route path=\"/info\" component={MainComponent} />    \r\n      {/* <MainComponent></MainComponent> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nimport { AllEquipsContextProvider } from './context/allEquips-context';\r\nimport { CurrentEquipContextProvider } from './context/currentEquip-context';\r\nimport { UsersContextProvider} from './context/users-context';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <UsersContextProvider>\r\n      <AllEquipsContextProvider>\r\n        <CurrentEquipContextProvider>\r\n          <BrowserRouter>\r\n            <App />\r\n          </BrowserRouter>\r\n        </CurrentEquipContextProvider>\r\n      </AllEquipsContextProvider>\r\n    </UsersContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}