(this.webpackJsonpconsoleui=this.webpackJsonpconsoleui||[]).push([[0],{171:function(e,t,n){},173:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),i=n(74),s=(n(171),n(22)),l=n(146),u=n(288),d=window.EquipsServiceAddress,j=window.WebSocketAddress,b=window.ComplexTypeImages,p=window.UseDarkTheme,v="User",O="Administrator",f=[v,O],x="CommonChat",h="Chat",m=n(3),g=n.n(m),y=n(8),S=n(5),w=n(251),E=n(293),C=n(286),N=n(258),k=n(278),T=n(204),D=n(261),A=n(276),I=n(61),P=n.n(I),q=n(62),L=n.n(q),R=n(253),F=n(255),W=n(56),U=n(256),M=n(294),B=n(260),G=n(108),H=n.n(G),V=n(259),_=n(290),J=n(262),z=n(263),Q=(n(173),n(7)),X=n(1),Y=Object(a.createContext)(),K={currentTab:{tab:0,panel:0}};function Z(e,t){switch(t.type){case"RESET":return K;case"SETTAB":return Object(Q.a)(Object(Q.a)({},e),{},{currentTab:t.payload});default:throw new Error}}var $=function(e){var t=Object(a.useReducer)(Z,K),n=Object(S.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(X.jsx)(Y.Provider,{value:[r,c],children:o})},ee=n(19),te=Object(a.createContext)(),ne={allEquips:null,connectedEquips:null,selectedEquips:[]};function ae(e,t){switch(t.type){case"SETALLEQUIPS":var n;return Object(Q.a)(Object(Q.a)({},e),{},{allEquips:null===(n=t.payload)||void 0===n?void 0:n.filter((function(e){return e}))});case"UPDATEALLEQUIPS":var a=e.selectedEquips.filter((function(e){return e.EquipName===t.payload.EquipName}));return a&&(a.Disabled=t.payload.Disabled),Object(Q.a)(Object(Q.a)({},e),{},{allEquips:Object(ee.a)(e.allEquips)});case"SETCONNECTEDEQUIPS":var r;return Object(Q.a)(Object(Q.a)({},e),{},{connectedEquips:null===(r=t.payload)||void 0===r?void 0:r.filter((function(e){return e}))});case"ADDSELECTEDEQUIPS":return Object(Q.a)(Object(Q.a)({},e),{},{selectedEquips:[t.payload].concat(Object(ee.a)(e.selectedEquips.filter((function(e){return e!=t.payload}))))});case"ADDEQUIP":return Object(Q.a)(Object(Q.a)({},e),{},{equipInfo:t.payload});case"CONNECTIONCHANGED":var c,o=null!==(c=e.connectedEquips)&&void 0!==c?c:[],i=t.payload.State.Name;return t.payload.State.Connected&&!o.includes(i)?o=[].concat(Object(ee.a)(o),[i]):!t.payload.State.Connected&&o.includes(i)&&(o=o.filter((function(e){return e!=i}))),Object(Q.a)(Object(Q.a)({},e),{},{connectedEquips:o});default:throw new Error}}var re=function(e){var t=Object(a.useReducer)(ae,ne),n=Object(S.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(X.jsx)(te.Provider,{value:[r,c],children:o})},ce=Object(a.createContext)(),oe={currentEvents:[]};function ie(e,t){switch(t.type){case"SETEVENTS":return Object(Q.a)(Object(Q.a)({},e),{},{currentEvents:t.payload});case"ADDEVENT":return Object(Q.a)(Object(Q.a)({},e),{},{currentEvents:[].concat(Object(ee.a)(t.payload),Object(ee.a)(e.currentEvents))});default:throw new Error}}var se=function(e){var t=Object(a.useReducer)(ie,oe),n=Object(S.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(X.jsx)(ce.Provider,{value:[r,c],children:o})},le=Object(a.createContext)(),ue=function(e,t){if(null===e||void 0===e?void 0:e[0]){var n=Object.keys(e[0]);null===n||void 0===n||n.forEach((function(n){var a=e.map((function(e){return Object(ee.a)(e[n])})).filter((function(e){return e.length>0}));t[n]=Object(ee.a)(a)}))}},de={equipInfo:"",detectors:[],generator:{},collimator:{},dosimeter:{},stand:{},dicom:{},system:{},organAuto:{},software:{},remoteaccess:{},images:{},aecs:{},allDBs:{},allDBTables:{},lastSeen:void 0,locationInfo:""};function je(e,t){switch(t.type){case"RESET":return de;case"SETEQUIPINFO":return Object(Q.a)(Object(Q.a)({},e),{},{equipInfo:t.payload});case"SETSYSTEM":return Object(Q.a)(Object(Q.a)({},e),{},{system:t.payload});case"SETALLDB":return Object(Q.a)(Object(Q.a)({},e),{},{allDBs:t.payload});case"SETALLDBTABLES":return Object(Q.a)(Object(Q.a)({},e),{},{allDBTables:t.payload});case"SETORGANAUTO":return Object(Q.a)(Object(Q.a)({},e),{},{organAuto:t.payload});case"SETLASTSEEN":return Object(Q.a)(Object(Q.a)({},e),{},{lastSeen:t.payload});case"SETGENERATOR":var n,a,r,c,o,i,s=Object(Q.a)(Object(Q.a)({},e),{},{generator:{Id:t.payload.Id,State:Object(Q.a)(Object(Q.a)({},e.generator.State),t.payload.State)}});return!(null===(n=s.generator)||void 0===n||null===(a=n.State)||void 0===a?void 0:a.ErrorDescriptions)||(null===(r=s.generator)||void 0===r||null===(c=r.State)||void 0===c?void 0:c.Error)&&0!==(null===(o=s.generator)||void 0===o||null===(i=o.State)||void 0===i?void 0:i.Error[0])||(s.generator.State.ErrorDescriptions=[]),s;case"SETDETECTOR":var l,u,d=t.payload.DetectorId,j=null===(l=e.detectors)||void 0===l?void 0:l.filter((function(e){return e.DetectorId===d}))[0],b=e.detectors;if(j)j=Object(Q.a)(Object(Q.a)({},j),t.payload),b=[].concat(Object(ee.a)(null===(u=e.detectors)||void 0===u?void 0:u.filter((function(e){return e.DetectorId!==d}))),[j]);else b=[].concat(Object(ee.a)(e.detectors),[t.payload]);return Object(Q.a)(Object(Q.a)({},e),{},{detectors:b});case"SETAEC":return Object(Q.a)(Object(Q.a)({},e),{},{aecs:{Id:t.payload.Id,Type:t.payload.Type,State:Object(Q.a)(Object(Q.a)({},e.aecs.State),t.payload.State)}});case"SETSTAND":var p,v,O,f,x,h,m=Object(Q.a)(Object(Q.a)({},e),{},{stand:{Id:t.payload.Id,State:Object(Q.a)(Object(Q.a)({},e.stand.State),t.payload.State)}});return!(null===(p=m.stand)||void 0===p||null===(v=p.State)||void 0===v?void 0:v.ErrorDescriptions)||(null===(O=m.stand)||void 0===O||null===(f=O.State)||void 0===f?void 0:f.Error)&&0!==(null===(x=m.stand)||void 0===x||null===(h=x.State)||void 0===h?void 0:h.Error[0])||(m.stand.State.ErrorDescriptions=[]),m;case"SETDOSIMETER":return Object(Q.a)(Object(Q.a)({},e),{},{dosimeter:{Id:t.payload.Id,State:Object(Q.a)(Object(Q.a)({},e.dosimeter.State),t.payload.State)}});case"SETCOLLIMATOR":return Object(Q.a)(Object(Q.a)({},e),{},{collimator:t.payload});case"SETSOFTWARE":return Object(Q.a)(Object(Q.a)({},e),{},{software:t.payload});case"SETSOFTWAREMSG":return Object(Q.a)(Object(Q.a)({},e),{},{software:Object(Q.a)(Object(Q.a)({},e.software),t.payload)});case"SETREMOTEACCESS":return Object(Q.a)(Object(Q.a)({},e),{},{remoteaccess:Object(Q.a)(Object(Q.a)({},e.remoteaccess),t.payload)});case"SETIMAGES":return Object(Q.a)(Object(Q.a)({},e),{},{images:t.payload});case"SETDICOM":var g=t.payload.WorkList;if(g){var y,S=null===(y=e.dicom.WorkList)||void 0===y?void 0:y.filter((function(e){return!g.map((function(e){return e.Name})).includes(e.Name)}));S&&(g=[].concat(Object(ee.a)(g),Object(ee.a)(S)))}else g=e.dicom.WorkList;var w=t.payload.PACS;if(w){var E,C=null===(E=e.dicom.PACS)||void 0===E?void 0:E.filter((function(e){return!w.map((function(e){return e.Name})).includes(e.Name)}));C&&(w=[].concat(Object(ee.a)(w),Object(ee.a)(C)))}else w=e.dicom.PACS;var N={PACS:w,WorkList:g};return Object(Q.a)(Object(Q.a)({},e),{},{dicom:N});case"SETFULLINFO":var k,T,D,A,I,P,q,L={},R=null===(k=t.payload)||void 0===k?void 0:k.SystemInfo;if(null===R||void 0===R?void 0:R[0]){var F=Object.keys(R[0]);null===F||void 0===F||F.forEach((function(e){var t=R.map((function(t){return Object(ee.a)(t[e])})).filter((function(e){return e.length>0}));L[e]=Object(ee.a)(t)}))}var W=[],U=[],M=null===(T=t.payload)||void 0===T||null===(D=T.SoftwareInfo)||void 0===D?void 0:D.Atlas,B=null===(A=t.payload)||void 0===A||null===(I=A.SoftwareInfo)||void 0===I?void 0:I.Software;ue(M,W),ue(B,U);var G={Atlas:W,Software:U};return Object(Q.a)(Object(Q.a)({},e),{},{system:L,software:G,lastSeen:null===(P=t.payload)||void 0===P?void 0:P.LastSeen,locationInfo:null===(q=t.payload)||void 0===q?void 0:q.LocationInfo});default:throw new Error}}var be=function(e){var t=Object(a.useReducer)(je,de),n=Object(S.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(X.jsx)(le.Provider,{value:[r,c],children:o})},pe=Object(a.createContext)(),ve={currentUser:{},token:null,users:null};function Oe(e,t){switch(t.type){case"RESET":return ve;case"SETUSER":return Object(Q.a)(Object(Q.a)({},e),{},{token:t.payload.Token,currentUser:Object(Q.a)(Object(Q.a)({},t.payload.Claims),{},{Surname:t.payload.Surname})});case"SETUSERS":return Object(Q.a)(Object(Q.a)({},e),{},{users:t.payload});default:throw new Error}}var fe=function(e){var t=Object(a.useReducer)(Oe,ve),n=Object(S.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(X.jsx)(pe.Provider,{value:[r,c],children:o})},xe=Object(a.createContext)(),he={logs:[],notes:[],commonNotes:[]};function me(e,t){switch(t.type){case"SETLOGS":return Object(Q.a)(Object(Q.a)({},e),{},{logs:t.payload});case"SETCHATS":return Object(Q.a)(Object(Q.a)({},e),{},{notes:t.payload});case"SETCOMMONCHAT":return Object(Q.a)(Object(Q.a)({},e),{},{commonNotes:t.payload});case"ADDNOTE":return Object(Q.a)(Object(Q.a)({},e),{},{notes:[t.payload].concat(Object(ee.a)(e.notes))});case"ADDCOMMONNOTE":return Object(Q.a)(Object(Q.a)({},e),{},{commonNotes:[t.payload].concat(Object(ee.a)(e.commonNotes))});case"CHANGENOTE":var n=e.notes.filter((function(e){return e.ID===t.payload.ID}));return(null===n||void 0===n?void 0:n.length)>0&&(n[0].Message=t.payload.Message),Object(Q.a)(Object(Q.a)({},e),{},{notes:Object(ee.a)(e.notes)});case"DELETENOTE":return Object(Q.a)(Object(Q.a)({},e),{},{notes:Object(ee.a)(e.notes.filter((function(e){return e.ID!==t.payload})))});default:throw new Error}}var ge=function(e){var t=Object(a.useReducer)(me,he),n=Object(S.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(X.jsx)(xe.Provider,{value:[r,c],children:o})},ye=Object(a.createContext)(),Se={serverState:{},diagnostic:{}};function we(e,t){switch(t.type){case"RESET":return Se;case"SETSRVSTATE":return Object(Q.a)(Object(Q.a)({},e),{},{serverState:t.payload});case"SETDIAGNOSTIC":return Object(Q.a)(Object(Q.a)({},e),{},{diagnostic:t.payload});default:throw new Error}}var Ee=function(e){var t=Object(a.useReducer)(we,Se),n=Object(S.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(X.jsx)(ye.Provider,{value:[r,c],children:o})},Ce=Object(a.createContext)(),Ne={currentVolatile:{}};function ke(e,t){switch(t.type){case"RESET":return Ne;case"SETVOLATILE":var n=Object(Q.a)(Object(Q.a)({},e),{},{currentVolatile:Object(Q.a)(Object(Q.a)({},e.currentVolatile),t.payload)});return"AtlasExited"===t.payload.SimpleMsgType&&(n.currentVolatile.AtlasStatus=null),n;default:throw new Error}}var Te=function(e){var t=Object(a.useReducer)(ke,Ne),n=Object(S.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(X.jsx)(Ce.Provider,{value:[r,c],children:o})},De=n(20),Ae=n.n(De);function Ie(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(y.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("resting ".concat(t)),e.next=4,n();case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.error,e.t0.config,e.t0.code,e.t0.request,e.t0.response,null===(a=e.t0.response)||void 0===a?void 0:a.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function qe(e){return{headers:{Accept:"application/json",Authorization:"Bearer "+e}}}var Le=function(e){return e<10?"0"+e:e};function Re(e){return e.getFullYear()+"-"+Le(e.getMonth()+1)+"-"+Le(e.getDate())}var Fe=function(e){return e?new Date(e).toLocaleString():e},We=function(e){var t=new Date;return new Date(e).setHours(0,0,0,0)==t.setHours(0,0,0,0)},Ue=function(){var e=(new Date).getTime(),t=1e3*Math.random();performance&&performance.now&&performance.now();return"".concat(e,"_").concat(t)}(),Me="/equips";function Be(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("GetConnectedEquips",Object(y.a)(g.a.mark((function e(){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+Me+"/GetConnectedEquips",console.log(n),e.next=4,Ae.a.get(n,qe(t));case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t,n){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(y.a)(g.a.mark((function e(t,n,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("Activate",Object(y.a)(g.a.mark((function e(){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.get(d+Me+"/Activate?sessionUid="+Ue+"&activatedEquipInfo="+n+"&deactivatedEquipInfo="+a,qe(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e,t,n,a,r){return Je.apply(this,arguments)}function Je(){return(Je=Object(y.a)(g.a.mark((function e(t,n,a,r,c){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("SearchEquip",Object(y.a)(g.a.mark((function e(){var o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.get(d+Me+"/SearchEquip?currType="+n+"&equipName="+a+"&startDate="+r+"&endDate="+c,qe(t));case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e,t,n){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(y.a)(g.a.mark((function e(t,n,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("GetPermanentData",Object(y.a)(g.a.mark((function e(){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.get(d+Me+"/GetPermanentData?currType="+n+"&equipName="+a,qe(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("RunTeamViewer",Object(y.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post(d+Me+"/RunTeamViewer?activatedEquipInfo="+n,null,qe(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("RunTaskManager",Object(y.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post(d+Me+"/RunTaskManager?activatedEquipInfo="+n,null,qe(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e,t){return et.apply(this,arguments)}function et(){return(et=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("SendAtlasLogs",Object(y.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post(d+Me+"/SendAtlasLogs?activatedEquipInfo="+n,null,qe(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e,t,n,a){return nt.apply(this,arguments)}function nt(){return(nt=Object(y.a)(g.a.mark((function e(t,n,a,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("XilibLogsOn",Object(y.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post(d+Me+"/XilibLogsOn?activatedEquipInfo="+n+"&detailedXilib="+a+"&verboseXilib="+r,null,qe(t));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e,t,n,a){return rt.apply(this,arguments)}function rt(){return(rt=Object(y.a)(g.a.mark((function e(t,n,a,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("SetEquipLogsOn",Object(y.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post(d+Me+"/SetEquipLogsOn?activatedEquipInfo="+n+"&hardwareTypes="+a+"&duration="+r,null,qe(t));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return ot.apply(this,arguments)}function ot(){return(ot=Object(y.a)(g.a.mark((function e(t){var n,a=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,Ie("GetAllEquips",Object(y.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.get(d+Me+"/GetAllEquips?withDisabled="+n,qe(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t){return st.apply(this,arguments)}function st(){return(st=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("GetAllDBTableNames",Object(y.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.get(d+Me+"/GetAllDBTableNames?equipName="+n,qe(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e,t,n,a){return ut.apply(this,arguments)}function ut(){return(ut=Object(y.a)(g.a.mark((function e(t,n,a,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("GetTableContent",Object(y.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.get(d+Me+"/GetTableContent?equipName="+n+"&tableType="+a+"&tableName="+r,qe(t));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e,t){return jt.apply(this,arguments)}function jt(){return(jt=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("UpdateDBInfo",Object(y.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post(d+Me+"/UpdateDBInfo?activatedEquipInfo="+n,null,qe(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e,t){return pt.apply(this,arguments)}function pt(){return(pt=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("RecreateDBInfo",Object(y.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post(d+Me+"/RecreateDBInfo?activatedEquipInfo="+n,null,qe(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e,t,n){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(y.a)(g.a.mark((function e(t,n,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("DisableEquipInfo",Object(y.a)(g.a.mark((function e(){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post(d+Me+"/DisableEquipInfo?equipName="+n+"&disabled="+a,null,qe(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e,t){return xt.apply(this,arguments)}function xt(){return(xt=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("GetCommunicationsData",Object(y.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.get(d+Me+"/GetCommunicationsData?equipName="+n,qe(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t,n,a,r){return mt.apply(this,arguments)}function mt(){return(mt=Object(y.a)(g.a.mark((function e(t,n,a,r,c){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("SendNewNote",Object(y.a)(g.a.mark((function e(){var o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post(d+Me+"/SendNewNote?equipName="+n+"&msgType="+encodeURIComponent(a)+"&id="+r,c,qe(t));case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(e,t,n,a){return yt.apply(this,arguments)}function yt(){return(yt=Object(y.a)(g.a.mark((function e(t,n,a,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("DeleteNote",Object(y.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post(d+Me+"/DeleteNote?equipName="+n+"&msgType="+encodeURIComponent(a)+"&id="+r,null,qe(t));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(){console.log("useSetCurrEquip");var e=Object(a.useContext)(le),t=Object(S.a)(e,2),n=t[0],r=t[1],c=Object(a.useContext)(Ce),o=Object(S.a)(c,2),i=(o[0],o[1]),s=Object(a.useContext)(te),l=Object(S.a)(s,2),u=l[0],d=(l[1],Object(a.useContext)(pe)),j=Object(S.a)(d,2),b=j[0];j[1];return function(){var e=Object(y.a)(g.a.mark((function e(t,a){var c,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=b.token,null===(c=u.connectedEquips)||void 0===c?void 0:c.includes(t),i({type:"RESET",payload:!0}),r({type:"RESET",payload:!0}),r({type:a,payload:t}),e.next=7,ze(o,"FullInfo",t);case 7:return s=e.sent,r({type:"SETFULLINFO",payload:s}),e.next=11,He(o,t,n.equipInfo);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}var wt="/equips";function Et(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("GetAllUsers",Object(y.a)(g.a.mark((function e(){var n,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+wt+"/GetAllUsers",a=qe(t),e.next=4,Ae.a.get(n,a);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(e,t){return kt.apply(this,arguments)}function kt(){return(kt=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("UpdateUser",Object(y.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post(d+wt+"/UpdateUser",t,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Bearer "+n}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("Login",Object(y.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post(d+wt+"/Login",t,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){return It.apply(this,arguments)}function It(){return(It=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("GetServerLogs",Object(y.a)(g.a.mark((function e(){var n,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+wt+"/GetServerLogs",a=qe(t),e.next=4,Ae.a.get(n,a);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pt="/equips";function qt(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("GetServerState",Object(y.a)(g.a.mark((function e(){var n,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+Pt+"/GetServerState",a=qe(t),e.next=4,Ae.a.get(n,a);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(e){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie("GetServerState",Object(y.a)(g.a.mark((function e(){var n,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+Pt+"/metrics",a=qe(t),e.next=4,Ae.a.get(n,a);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wt=Object(a.createContext)(),Ut={currentLog:{}};function Mt(e,t){switch(t.type){case"RESET":return Ut;case"ADDLOG":return Object(Q.a)(Object(Q.a)({},e),{},{currentLog:t.payload});default:throw new Error}}var Bt=function(e){console.log("render EquipLogContextProvider");var t=Object(a.useReducer)(Mt,Ut),n=Object(S.a)(t,2),r=n[0],c=n[1],o=e.children;return Object(X.jsx)(Wt.Provider,{value:[r,c],children:o})};var Gt=Object(w.a)((function(e){return{appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240},formControl:{margin:e.spacing(1),minWidth:270},tabControl:{margin:e.spacing(1),minWidth:800},selectEmpty:{color:"white",display:"flex"},optionStyle:{backgroundColor:"#3f51b5",color:"white"},userName:{width:"calc(100% - 180px)"},button:{marginRight:"0.5em",width:"30%"}}}));function Ht(){var e,t,n,r,c,o,i;console.log("! render MainToolBar "+Ue);var s=Gt(),l=Object(a.useContext)(Y),u=Object(S.a)(l,2),d=u[0],b=u[1],p=Object(a.useContext)(te),v=Object(S.a)(p,2),O=v[0],f=v[1],x=Object(a.useContext)(ce),h=Object(S.a)(x,2),m=(h[0],h[1]),w=Object(a.useContext)(le),E=Object(S.a)(w,2),C=E[0],N=E[1],k=Object(a.useContext)(pe),T=Object(S.a)(k,2),A=T[0],I=(T[1],Object(a.useContext)(xe)),P=Object(S.a)(I,2),q=(P[0],P[1]),L=Object(a.useContext)(ye),G=Object(S.a)(L,2),Q=(G[0],G[1]),K=Object(a.useState)(""),Z=Object(S.a)(K,2),$=Z[0],ee=Z[1],ne=St(),ae=A.token,re=function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,a=n.value,e.next=4,se(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=null!==(e=null===(t=d.currentTab)||void 0===t?void 0:t.tab)&&void 0!==e?e:0,ie=null!==(n=null===(r=d.currentTab)||void 0===r?void 0:r.panel)&&void 0!==n?n:0,se=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ne(t,"SETEQUIPINFO"),f({type:"ADDSELECTEDEQUIPS",payload:t}),0===oe&&2===ie?ue(t):0===oe&&3===ie?ve(t):0===oe&&1===ie&&t&&be(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date,e.next=3,_e(ae,"Events",t,Re(n),Re(n));case 3:a=e.sent,m({type:"SETEVENTS",payload:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At(ae);case 2:t=e.sent,q({type:"SETLOGS",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt(ae);case 2:t=e.sent,Q({type:"SETDIAGNOSTIC",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(ae,t);case 2:n=e.sent,N({type:"SETALLDBTABLES",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft(ae,t);case 2:n=e.sent,q({type:"SETCHATS",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee(null===A||void 0===A||null===(t=A.currentUser)||void 0===t?void 0:t.Surname);case 1:case"end":return e.stop()}}),e)})))()}),[A.currentUser]);!function(e){console.log("useWebSocket "+Ue);var t=Object(a.useContext)(le),n=Object(S.a)(t,2),r=n[0],c=n[1],o=Object(a.useContext)(te),i=Object(S.a)(o,2),s=(i[0],i[1]),l=Object(a.useContext)(ce),u=Object(S.a)(l,2),d=(u[0],u[1]),b=Object(a.useContext)(Ce),p=Object(S.a)(b,2),v=(p[0],p[1]),O=Object(a.useContext)(pe),f=Object(S.a)(O,2),x=f[0],h=(f[1],Object(a.useContext)(Wt)),m=Object(S.a)(h,2),w=(m[0],m[1]),E=Object(a.useContext)(xe),C=Object(S.a)(E,2),N=(C[0],C[1]),k=Object(a.useState)(null),T=Object(S.a)(k,2),D=T[0],A=T[1],I=Object(a.useRef)(r.equipInfo);function P(){try{console.log("Status: Creating socket ".concat(Ue,"\n"));var e=new WebSocket(j+"/websocket?uid="+Ue);A(e)}catch(t){console.log(t)}}Object(a.useEffect)((function(){x.token&&P()}),[x.token]),Object(a.useEffect)((function(){I.current=r.equipInfo}),[r.equipInfo]),Object(a.useEffect)((function(){D&&(D.onopen=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Status: Connected ".concat(Ue,"\n")),e.next=3,Be(x.token);case 3:t=e.sent,s({type:"SETCONNECTEDEQUIPS",payload:t||[]}),setInterval((function(){console.log("pinging...\n"),D.send("ping")}),1e4);case 6:case"end":return e.stop()}}),e)}))),D.onclose=function(e){console.log("Status: Closed ".concat(Ue,"\n")),c({type:"RESET",payload:!0}),setTimeout((function(){console.log("Status: Reconnecting ".concat(Ue,"\n")),P()}),1e3)},D.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket"),D.close()},D.onmessage=function(e){console.log("Server: "+e.data+"\n");var t=JSON.parse(e.data),n=null===t||void 0===t?void 0:t.Topic;if(n)if(n.startsWith("Subscribe"))s({type:"CONNECTIONCHANGED",payload:t});else if(n.startsWith("Events"))d({type:"ADDEVENT",payload:t.Events});else if(n.startsWith("CommonChat")){var a=t?JSON.parse(t.Data):null;N({type:"ADDCOMMONNOTE",payload:a})}else{var r=function(e){var t=e.split("/");return t.length<2?null:"".concat(t[0],"/").concat(t[1])}(null===t||void 0===t?void 0:t.Topic);if(r&&r===I.current){var o=t.Topic.replace(r,"");if(o.startsWith("/ARM/Hardware/Complex"))try{var i=t?JSON.parse(t.Data):null;c({type:"SETSYSTEM",payload:i})}catch(e){console.log(e)}else if(o.startsWith("/images")){var l=t?JSON.parse(t.Data):null;c({type:"SETIMAGES",payload:l})}else if(o.startsWith("/organauto")){var u=t?JSON.parse(t.Data):null;c({type:"SETORGANAUTO",payload:u})}else if(o.startsWith("/stand")){var j=t?JSON.parse(t.Data):null;c({type:"SETSTAND",payload:j})}else if(o.startsWith("/generator")){var b=t?JSON.parse(t.Data):null;c({type:"SETGENERATOR",payload:b})}else if(o.startsWith("/detector")){var p=t?JSON.parse(t.Data):null;c({type:"SETDETECTOR",payload:p})}else if(o.startsWith("/dosimeter")){var O=t?JSON.parse(t.Data):null;c({type:"SETDOSIMETER",payload:O})}else if(o.startsWith("/collimator")){var f=t?JSON.parse(t.Data):null;c({type:"SETCOLLIMATOR",payload:f})}else if(o.startsWith("/aec/")){var x=t?JSON.parse(t.Data):null;c({type:"SETAEC",payload:x})}else if(o.startsWith("/ARM/Software/Complex")){var h=t?JSON.parse(t.Data):null;c({type:"SETSOFTWARE",payload:h})}else if(o.startsWith("/ARM/Software/msg")){var m=t?JSON.parse(t.Data):null;v({type:"SETVOLATILE",payload:m})}else if(o.startsWith("/dicom")){var g=t?JSON.parse(t.Data):null;c({type:"SETDICOM",payload:g})}else if(o.startsWith("/remoteaccess")){var y=t?JSON.parse(t.Data):null;c({type:"SETREMOTEACCESS",payload:y})}else if(o.startsWith("/ARM/Hardware/Processor")||o.startsWith("/ARM/Hardware/HDD")||o.startsWith("/ARM/Hardware/Memory")){var S=t?JSON.parse(t.Data):null;v({type:"SETVOLATILE",payload:S})}else if(o.startsWith("/chat")){var E=t?JSON.parse(t.Data):null;N({type:"ADDNOTE",payload:E})}else if(o.startsWith("/logs")){var C=t?JSON.parse(t.Data):null;w({type:"ADDLOG",payload:C})}}}})}),[D])}();var Oe=C.equipInfo,fe=function(){var e=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===oe&&1===n&&Oe?be(Oe):0===oe&&2===n?ue(Oe):0===oe&&3===n?ve(Oe):4===oe&&5===n?de():4===oe&&6===n&&je(),b({type:"SETTAB",payload:{tab:oe,panel:n}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Oe){e.next=4;break}return e.next=3,dt(ae,Oe);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=null===(c=C.remoteaccess)||void 0===c?void 0:c.DBInfoStateUpdating,ge=0===oe&&Oe;return Object(X.jsx)(R.a,{position:"fixed",className:s.appBar,children:Object(X.jsxs)(F.a,{children:[Object(X.jsx)(W.a,{variant:"h6",noWrap:!0}),Object(X.jsx)(U.a,{className:s.formControl,children:Object(X.jsxs)(M.a,{labelId:"demo-simple-select-label",id:"mainToolbarCombobox",value:C.equipInfo,onChange:re,className:s.selectEmpty,variant:"outlined",children:[Object(X.jsx)(V.a,{className:s.optionStyle,children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043e"}),null===(o=O.selectedEquips)||void 0===o?void 0:o.map((function(e,t){return Object(X.jsxs)(B.a,{value:e,className:s.optionStyle,children:[Object(X.jsx)(D.a,{children:Object(X.jsx)(H.a,{fontSize:"large",style:{color:"white"}})}),Object(X.jsx)(W.a,{variant:"inherit",children:e})]},t.toString())})),Object(X.jsx)(V.a,{className:s.optionStyle,children:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e"}),null===(i=O.connectedEquips)||void 0===i?void 0:i.map((function(e,t){return Object(X.jsxs)(B.a,{value:e,className:s.optionStyle,children:[Object(X.jsx)(D.a,{children:Object(X.jsx)(H.a,{fontSize:"large",style:{color:"white"}})}),Object(X.jsx)(W.a,{variant:"inherit",children:e})]},t.toString())}))]})}),Object(X.jsxs)(_.a,{value:ie,onChange:fe,"aria-label":"simple tabs example",className:s.tabControl,children:[Object(X.jsx)(J.a,{label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",id:"mainTabPanel"},"mainTabPanel"),ge?Object(X.jsx)(J.a,{label:"\u0411\u0414",id:"dbTabPanel"},"dbTabPanel"):Object(X.jsx)("div",{},"dbTabPanel"),ge?Object(X.jsx)(J.a,{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",id:"histTabPanel"},"histTabPanel"):Object(X.jsx)("div",{}),ge?Object(X.jsx)(J.a,{label:"\u041a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0438",id:"chatTabPanel"},"chatTabPanel"):Object(X.jsx)("div",{}),ge?Object(X.jsx)(J.a,{label:"\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430",id:"logsTabPanel"},"logsTabPanel"):Object(X.jsx)("div",{}),4===oe?Object(X.jsx)(J.a,{label:"\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430",id:"diagnosticTabPanel"},"diagnosticTabPanel"):Object(X.jsx)("div",{}),4===oe?Object(X.jsx)(J.a,{label:"\u041b\u043e\u0433\u0438",id:"logsTabPanel"},"logsTabPanel"):Object(X.jsx)("div",{})]}),0===oe?Object(X.jsx)(z.a,{variant:"contained",color:me?"secondary":"primary",className:s.button,onClick:he,children:me?"\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f":"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}):Object(X.jsx)(X.Fragment,{}),Object(X.jsx)(W.a,{variant:"h6",noWrap:!0,align:"right",className:s.userName,children:$})]})})}var Vt=n(265),_t=n(266),Jt=Object(w.a)({root:{width:"100%",marginBottom:12,marginRight:12},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),zt=n(109),Qt=n.n(zt),Xt=n(264),Yt=Object(w.a)({root:{display:"flex"},descr:{width:"65%",margin:"0 0.5em",textAlign:"left"},value:{marginRight:"0.5em",fontWeight:"bold",width:"30%",textAlign:"right"},button:{marginRight:"0.5em",width:"30%",textAlign:"right",marginTop:"0.5em"},buttonDescr:{alignSelf:"center"},errorDescr:{width:"65%",margin:"0 0.5em",textAlign:"left",fontWeight:"bold"},errorValue:{width:"80%",fontWeight:"bold",marginRight:"0.5em",textAlign:"right"}});function Kt(e){var t=Yt();t.bullet;return Object(X.jsxs)("div",{className:t.root,children:["none"!==e.icon?Object(X.jsx)(Qt.a,{color:"primary",size:"small"}):Object(X.jsx)(X.Fragment,{}),Object(X.jsx)(W.a,{className:t.descr,color:"textSecondary",children:e.descr}),Object(X.jsx)(W.a,{className:t.value,color:"textSecondary",style:{width:e.rightWidth?e.rightWidth:t.value.width,color:e.rightColor?e.rightColor:""},children:e.value})]})}function Zt(e){var t=Yt();return Object(X.jsxs)("div",{className:t.root,children:[Object(X.jsx)(Qt.a,{color:"secondary",size:"small"}),Object(X.jsx)(W.a,{className:(t.descr,t.errorDescr),color:"secondary",children:e.descr}),Object(X.jsx)(W.a,{className:(t.value,t.errorValue),color:"secondary",style:{width:e.rightWidth?e.rightWidth:t.errorValue.width,color:e.rightColor?e.rightColor:""},children:e.value})]})}function $t(e){var t=Yt();return Object(X.jsxs)("div",{className:t.root,children:[Object(X.jsx)(W.a,{className:"".concat(t.descr," ").concat(t.buttonDescr),color:"textSecondary",children:e.descr}),Object(X.jsx)(z.a,{variant:"contained",color:e.buttonColor?e.buttonColor:"primary",className:t.button,onClick:e.onClick,disabled:e.disabled,children:e.title})]})}function en(e){var t=Yt();return Object(X.jsxs)("div",{className:t.root,children:[Object(X.jsx)(W.a,{className:"".concat(t.descr," ").concat(t.switchDescr),color:"textSecondary",children:e.descr}),Object(X.jsx)(Xt.a,{checked:e.checked,onChange:e.onChange,color:"primary",inputProps:{"aria-label":"primary checkbox"}})]})}var tn=r.a.memo((function(e){console.log("! render DetectorCard");var t=Jt(),n=Object(X.jsx)("span",{className:t.bullet,children:"\u2022"}),a=e.detectors,r=e.aecs;return Object(X.jsx)(Vt.a,{className:t.root,children:Object(X.jsxs)(_t.a,{children:[Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[n,"\u0414\u0435\u0442\u0435\u043a\u0442\u043e\u0440\u044b"]}),null===a||void 0===a?void 0:a.map((function(e,t){var a,c,o;return Object(X.jsxs)("div",{children:[Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[n,e.DetectorName]}),Object(X.jsx)(Kt,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:2!==e.State?"\u041d\u0435 \u0433\u043e\u0442\u043e\u0432":"\u0413\u043e\u0442\u043e\u0432",rightColor:2!==e.State?"red":"green"}),Object(X.jsx)(Kt,{descr:"\u041f\u043e\u043b\u0435 \u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440\u0430",value:e.DetectorField}),Object(X.jsx)(Kt,{descr:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c",value:e.DetectorFrameRate?(null===e||void 0===e?void 0:e.DetectorFrameRate)+" \u043a/\u0441\u0435\u043a":""}),r?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[n,"\u0410\u041a\u042d"]}),Object(X.jsx)(Kt,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:(null===(a=r.State)||void 0===a?void 0:a.Aec_enabled)?"\u0412\u043a\u043b":"\u0412\u044b\u043a\u043b"}),Object(X.jsx)(Kt,{descr:"\u041f\u043e\u043b\u044f \u0410\u041a\u042d",value:null===(c=r.State)||void 0===c?void 0:c.Aec_fields}),Object(X.jsx)(Kt,{descr:"\u041f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c",value:null===(o=r.State)||void 0===o?void 0:o.Aec_density})]}):Object(X.jsx)(X.Fragment,{})]},t.toString())}))]})})})),nn=r.a.memo((function(e){var t,n,a,r,c,o,i,s,l,u;console.log("! render GeneratorCard");var d=Jt(),j=Object(X.jsx)("span",{className:d.bullet,children:"\u2022"}),b=e.generator,p=null===b||void 0===b?void 0:b.State,v=null===b||void 0===b||null===(t=b.State)||void 0===t?void 0:t.HeatStatus,O=(null===p||void 0===p?void 0:p.Post_mas)||(null===p||void 0===p?void 0:p.Mas),f=(null===p||void 0===p?void 0:p.Post_kv)||(null===p||void 0===p?void 0:p.Kv),x=(null===p||void 0===p?void 0:p.Post_ma)||(null===p||void 0===p?void 0:p.Ma),h=(null===p||void 0===p?void 0:p.Post_time)||(null===p||void 0===p?void 0:p.Ms),m=((null===p||void 0===p?void 0:p.Scopy_post_mas)||(null===p||void 0===p||p.Scopy_mas),(null===p||void 0===p?void 0:p.Scopy_post_kv)||(null===p||void 0===p?void 0:p.Scopy_kv)),g=(null===p||void 0===p?void 0:p.Scopy_post_ma)||(null===p||void 0===p?void 0:p.Scopy_ma),y=(null===p||void 0===p?void 0:p.Scopy_post_ms)||(null===p||void 0===p?void 0:p.Scopy_ms);return Object(X.jsx)(Vt.a,{className:d.root,children:Object(X.jsxs)(_t.a,{children:[Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[j,"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440"]}),Object(X.jsx)(Kt,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:(null===b||void 0===b||null===(n=b.State)||void 0===n?void 0:n.State)>0?"\u0413\u043e\u0442\u043e\u0432":"\u041d\u0435 \u0433\u043e\u0442\u043e\u0432",rightColor:(null===b||void 0===b||null===(a=b.State)||void 0===a?void 0:a.State)>0?"green":"red"}),Object(X.jsx)(Kt,{descr:"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435. \u0440. \u043c.",value:null===b||void 0===b||null===(r=b.State)||void 0===r?void 0:r.Workstation}),Object(X.jsx)(Kt,{descr:"\u041d\u0430\u0433\u0440\u0435\u0432",value:2===v?"\u0412\u044b\u0441\u043e\u043a\u0438\u0439":3===v?"\u041a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439":1===v?"\u041d\u043e\u0440\u043c":"",rightColor:2===v?"yellow":3===v?"red":1===v?"green":"gray"}),Object(X.jsx)(Kt,{descr:"\u0424\u043e\u043a\u0443\u0441",value:1===(null===b||void 0===b||null===(c=b.State)||void 0===c?void 0:c.Focus)?"\u0411\u043e\u043b\u044c\u0448\u043e\u0439":0===(null===b||void 0===b||null===(o=b.State)||void 0===o?void 0:o.Focus)?"\u041c\u0430\u043b\u044b\u0439":""}),Object(X.jsx)(Kt,{descr:"\u041f\u0435\u0434\u0430\u043b\u044c",value:1===(null===p||void 0===p?void 0:p.PedalPressed)?"\u0413\u0440\u0430\u0444\u0438\u044f":2===(null===p||void 0===p?void 0:p.PedalPressed)||4===(null===p||void 0===p?void 0:p.PedalPressed)?"\u0421\u043a\u043e\u043f\u0438\u044f":3===(null===p||void 0===p?void 0:p.PedalPressed)?"\u0413\u0440\u0430\u0444\u0438\u044f \u043d\u0430 \u043a\u043e\u043f\u0438\u0438":"\u041d\u0435 \u043d\u0430\u0436\u0430\u0442\u0430",rightColor:(null===p||void 0===p?void 0:p.PedalPressed)>=1&&(null===p||void 0===p?void 0:p.PedalPressed)<=4?"green":void 0}),Object(X.jsx)(Kt,{descr:"\u0422\u0435\u0445\u043d\u0438\u043a\u0430",value:2===(null===p||void 0===p?void 0:p.Points_mode)?"2\u0445 \u0442\u043e\u0447\u043a\u0430":3===(null===p||void 0===p?void 0:p.Points_mode)?"3\u0445 \u0442\u043e\u0447\u043a\u0430":""}),Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[j,"\u0413\u0440\u0430\u0444\u0438\u044f"]}),Object(X.jsx)(Kt,{descr:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u0430",value:O?O+" \u043c\u0410\u0441":""}),Object(X.jsx)(Kt,{descr:"\u041d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u0438\u0435",value:f?f+" \u043a\u0412":""}),Object(X.jsx)(Kt,{descr:"\u0421\u0438\u043b\u0430 \u0442\u043e\u043a\u0430",value:x?x+" \u043c\u0410":""}),Object(X.jsx)(Kt,{descr:"\u0412\u0440\u0435\u043c\u044f",value:h?h+" \u043c\u0441":""}),Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[j,"\u0421\u043a\u043e\u043f\u0438\u044f"]}),Object(X.jsx)(Kt,{descr:"\u0420\u0435\u0436\u0438\u043c",value:null===p||void 0===p?void 0:p.Scopy_mode}),Object(X.jsx)(Kt,{descr:"\u041d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u0438\u0435",value:m?m+" \u043a\u0412":""}),Object(X.jsx)(Kt,{descr:"\u0421\u0438\u043b\u0430 \u0442\u043e\u043a\u0430",value:g?g+" \u043c\u0410":""}),Object(X.jsx)(Kt,{descr:"\u0412\u0440\u0435\u043c\u044f",value:y?y+" \u043c\u0441":""}),Object(X.jsx)(Kt,{descr:"\u041e\u0448\u0438\u0431\u043a\u0438",value:null===b||void 0===b||null===(i=b.State)||void 0===i||null===(s=i.ErrorDescriptions)||void 0===s?void 0:s.length}),(null===b||void 0===b||null===(l=b.State)||void 0===l||null===(u=l.ErrorDescriptions)||void 0===u?void 0:u.length)?b.State.ErrorDescriptions.map((function(e,t){return Object(X.jsx)(Zt,{descr:e.Code,value:e.Description},t.toString())})):Object(X.jsx)(X.Fragment,{})]})})})),an=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Active";if(!e)return[];var a=Object(ee.a)(new Set(e.map((function(e){return e[t]})))).map((function(n){return e.find((function(e){return e[t]==n}))})).filter((function(e){return e[n]})).reverse();return a},rn=r.a.memo((function(e){var t,n,a,r,c,o,i,s,l,u,d,j,b,p,v;console.log("! render SystemCard");var O=Jt(),f=Object(X.jsx)("span",{className:O.bullet,children:"\u2022"}),x=e.system,h=e.volatile,m=an(null===x||void 0===x||null===(t=x.LogicalDisks)||void 0===t?void 0:t.flat().reverse(),"Letter"),g=an(null===x||void 0===x||null===(n=x.HardDrives)||void 0===n?void 0:n.flat().reverse(),"FriendlyName"),y=an(null===x||void 0===x||null===(a=x.Lans)||void 0===a?void 0:a.flat().reverse(),"Adapter"),S=an(null===x||void 0===x||null===(r=x.VideoAdapters)||void 0===r?void 0:r.flat().reverse(),"CardName"),w=an(null===x||void 0===x||null===(c=x.Monitors)||void 0===c?void 0:c.flat().reverse(),"MonitorName"),E=an(null===x||void 0===x||null===(o=x.Printers)||void 0===o?void 0:o.flat().reverse(),"PrinterName"),C=null===x||void 0===x||null===(i=x.Motherboards)||void 0===i||null===(s=i[0])||void 0===s?void 0:s[0];return Object(X.jsx)(Vt.a,{className:O.root,children:Object(X.jsxs)(_t.a,{children:[Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[f,"CPU"]}),(null===C||void 0===C?void 0:C.Cpu)||(null===h||void 0===h||null===(l=h.Processor)||void 0===l?void 0:l.CPULoad)||0===(null===h||void 0===h||null===(u=h.Processor)||void 0===u?void 0:u.CPULoad)?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Kt,{descr:"\u041c\u043e\u0434\u0435\u043b\u044c",value:null===C||void 0===C?void 0:C.Cpu,rightWidth:"100%"}),Object(X.jsx)(Kt,{descr:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",value:(null===h||void 0===h||null===(d=h.Processor)||void 0===d?void 0:d.CPULoad)+"%"})]}):Object(X.jsx)(X.Fragment,{}),Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[f,"\u041f\u0430\u043c\u044f\u0442\u044c"]}),(null===h||void 0===h||null===(j=h.Memory)||void 0===j?void 0:j.MemoryTotalGb)||(null===h||void 0===h||null===(b=h.Memory)||void 0===b?void 0:b.MemoryFreeGb)?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Kt,{descr:"\u0412\u0441\u0435\u0433\u043e",value:(null===h||void 0===h||null===(p=h.Memory)||void 0===p?void 0:p.MemoryTotalGb)+" \u0413\u0431"}),Object(X.jsx)(Kt,{descr:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e",value:(null===h||void 0===h||null===(v=h.Memory)||void 0===v?void 0:v.MemoryFreeGb)+" \u0413\u0431"})]}):Object(X.jsx)(X.Fragment,{}),Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[f,"\u0414\u0438\u0441\u043a\u0438"]}),Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[f,"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0438\u0441\u043a\u0438"]}),null===m||void 0===m?void 0:m.map((function(e,t){return Object(X.jsxs)("div",{children:[Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[f,"\u0414\u0438\u0441\u043a ",e.Letter]}),Object(X.jsx)(Kt,{descr:"\u0412\u0441\u0435\u0433\u043e",value:e.TotalSize+" \u0413\u0431"}),Object(X.jsx)(Kt,{descr:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e",value:e.FreeSize+" \u0413\u0431"})]},t.toString())})),Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[f,"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0438\u0441\u043a\u0438"]}),null===g||void 0===g?void 0:g.map((function(e,t){return Object(X.jsxs)("div",{children:[Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[f,"\u0414\u0438\u0441\u043a ",e.mediatype]}),Object(X.jsx)(Kt,{descr:e.FriendlyName+" \u0413\u0431",value:e.SizeGb+" \u0413\u0431"})]},t.toString())})),Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[f,"\u0421\u0435\u0442\u044c"]}),null===y||void 0===y?void 0:y.filter((function(e){return e.Adapter})).map((function(e,t){return Object(X.jsx)(Kt,{descr:e.Adapter,value:e.Ip},t.toString())})),Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[f,"\u0412\u0438\u0434\u0435\u043e\u0430\u0434\u0430\u043f\u0442\u0435\u0440\u044b"]}),null===S||void 0===S?void 0:S.map((function(e,t){return Object(X.jsxs)("div",{children:[Object(X.jsx)(Kt,{descr:"\u0418\u043c\u044f",value:e.CardName,rightWidth:"100%"}),Object(X.jsx)(Kt,{descr:"\u041f\u0430\u043c\u044f\u0442\u044c",value:e.MemoryGb+" \u0413\u0431"}),Object(X.jsx)(Kt,{descr:"\u0414\u0440\u0430\u0439\u0432\u0435\u0440",value:e.DrvDate,rightWidth:"100%"})]},t.toString())})),Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[f,"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u044b"]}),null===w||void 0===w?void 0:w.map((function(e,t){return Object(X.jsx)(Kt,{descr:e.MonitorName,value:e.SerialNumber,rightWidth:"100%"},t.toString())})),Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[f,"\u041f\u0440\u0438\u043d\u0442\u0435\u0440\u044b"]}),null===E||void 0===E?void 0:E.map((function(e,t){return Object(X.jsxs)("div",{children:[Object(X.jsx)(Kt,{descr:"\u0418\u043c\u044f",value:e.PrinterName,rightWidth:"100%"}),Object(X.jsx)(Kt,{descr:"\u041f\u043e\u0440\u0442",value:e.PrinterPort,rightWidth:"100%"})]},t.toString())}))]})})})),cn=r.a.memo((function(e){console.log("! render OrganAutoCard");var t=Jt(),n=Object(X.jsx)("span",{className:t.bullet,children:"\u2022"}),a=e.organAuto;return Object(X.jsx)(Vt.a,{className:t.root,children:Object(X.jsxs)(_t.a,{children:[Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[n,"\u041e\u0440\u0433\u0430\u043d\u043e\u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u043a\u0430"]}),Object(X.jsx)(Kt,{descr:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:null===a||void 0===a?void 0:a.Name,rightWidth:"50%"}),Object(X.jsx)(Kt,{descr:"\u041f\u0440\u0435\u043a\u0446\u0438\u044f",value:null===a||void 0===a?void 0:a.Projection}),Object(X.jsx)(Kt,{descr:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",value:null===a||void 0===a?void 0:a.Direction}),Object(X.jsx)(Kt,{descr:"\u0412\u043e\u0437\u0440. \u0433\u0440\u0443\u043f\u043f\u0430",value:1===(null===a||void 0===a?void 0:a.AgeId)?"0 - 0.5":2===(null===a||void 0===a?void 0:a.AgeId)?"0.5 - 2":3===(null===a||void 0===a?void 0:a.AgeId)?"2 - 7":4===(null===a||void 0===a?void 0:a.AgeId)?"7 - 12":5===(null===a||void 0===a?void 0:a.AgeId)?"12 - 17":"> 17"}),Object(X.jsx)(Kt,{descr:"\u0422\u0435\u043b\u043e\u0441\u043b\u043e\u0436\u0435\u043d\u0438\u0435",value:1===(null===a||void 0===a?void 0:a.Constitution)?"\u0445\u0443\u0434\u043e\u0439":3===(null===a||void 0===a?void 0:a.Constitution)?"\u0442\u043e\u043b\u0441\u0442\u044b\u0439":4===(null===a||void 0===a?void 0:a.Constitution)?"\u043e\u0447\u0435\u043d\u044c \u0442\u043e\u043b\u0441\u0442\u044b\u0439":"\u043d\u043e\u0440\u043c\u0430"})]})})})),on=n(267),sn=Object(w.a)((function(e){return{media:{height:0,paddingTop:"100%",backgroundColor:"gray"},dimmed:{height:0,paddingTop:"100%",backgroundColor:"gray",filter:"brightness(40%)"}}})),ln=r.a.memo((function(e){console.log("! render EquipImageCard");var t=Jt(),n=sn(),a=(t.bullet,e.equipInfo),r=Object.keys(b).find((function(e){return b[e].some((function(e){return null===a||void 0===a?void 0:a.startsWith(e)}))})),c=e.isConnected,o=e.lastSeen,i=e.hospital,s=e.address;return Object(X.jsxs)(Vt.a,{className:t.root,children:[Object(X.jsx)(on.a,{className:c?n.media:n.dimmed,image:"./"+r,title:"\u0410\u043f\u043f\u0430\u0440\u0430\u0442"}),Object(X.jsx)(_t.a,{children:Object(X.jsxs)(W.a,{variant:"body2",color:"textSecondary",component:"p",children:["\u0410\u043f\u043f\u0430\u0440\u0430\u0442 : ",a,i?Object(X.jsxs)("div",{children:["\u041b\u041f\u0423: ",i," "]}):Object(X.jsx)(X.Fragment,{}),s?Object(X.jsxs)("div",{children:["\u0410\u0434\u0440\u0435\u0441: ",s," "]}):Object(X.jsx)(X.Fragment,{}),o?Object(X.jsxs)("div",{children:["\u041f\u043e\u0441\u043b. \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435: ",Fe(o)," "]}):Object(X.jsx)(X.Fragment,{})]})})]})})),un=r.a.memo((function(e){var t,n;console.log("! render DicomCard");var a=Jt(),r=Object(X.jsx)("span",{className:a.bullet,children:"\u2022"}),c=e.dicom;return Object(X.jsx)(Vt.a,{className:a.root,children:Object(X.jsxs)(_t.a,{children:[Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[r,"DICOM"]}),Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[r,"PACS"]}),(null===c||void 0===c||null===(t=c.PACS)||void 0===t?void 0:t.length)?c.PACS.map((function(e,t){return Object(X.jsxs)("div",{children:[Object(X.jsx)(Kt,{descr:e.Name,value:e.IP}),Object(X.jsx)(Kt,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:e.State?"\u0412\u043a\u043b\u044e\u0447\u0435\u043d":"\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438",rightColor:e.State?"green":"#f50057"})]},t.toString())})):Object(X.jsx)(X.Fragment,{}),Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[r,"WorkList"]}),(null===c||void 0===c||null===(n=c.WorkList)||void 0===n?void 0:n.length)?c.WorkList.map((function(e,t){return Object(X.jsxs)("div",{children:[Object(X.jsx)(Kt,{descr:e.Name,value:e.IP}),Object(X.jsx)(Kt,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:e.State?"\u0412\u043a\u043b\u044e\u0447\u0435\u043d":"\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438",rightColor:e.State?"green":"red"})]},t.toString())})):Object(X.jsx)(X.Fragment,{})]})})})),dn=r.a.memo((function(e){console.log("! render RemoteAccessCard");var t=Object(a.useState)(!1),n=Object(S.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(S.a)(o,2),s=i[0],l=i[1],u=Jt(),d=Object(X.jsx)("span",{className:u.bullet,children:"\u2022"}),j=e.equipInfo,b=e.token,p=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=4;break}return e.next=3,Xe(b,j);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=4;break}return e.next=3,Ke(b,j);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=4;break}return e.next=3,$e(b,j);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=4;break}return e.next=3,tt(b,j,r,s);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!r);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!s);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=e.remoteaccess;return Object(X.jsx)(Vt.a,{className:u.root,children:Object(X.jsxs)(_t.a,{children:[Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[d,"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f"]}),Object(X.jsx)($t,{descr:"TeamViewer",title:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c",onClick:p}),Object(X.jsx)($t,{descr:"TaskManager",title:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c",onClick:v}),Object(X.jsx)($t,{descr:"\u041b\u043e\u0433\u0438 \u0410\u0442\u043b\u0430\u0441",title:"\u041f\u0440\u0438\u0441\u043b\u0430\u0442\u044c",onClick:O}),Object(X.jsx)($t,{descr:"\u041b\u043e\u0433\u0438 Xilib",title:m.Xilogs?m.Xilogs.on?"\u0412\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c":"\u041d\u0435 \u043e\u043f\u0440\u0435\u0434",onClick:f,buttonColor:m.Xilogs?m.Xilogs.on?"secondary":"primary":void 0,disabled:!m.Xilogs}),Object(X.jsx)(en,{descr:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0439",onChange:x}),Object(X.jsx)(en,{descr:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439",onChange:h})]})})})),jn=r.a.memo((function(e){var t,n,a,r,c,o,i,s,l,u,d,j,b,p,v;console.log("! render StandCard");var O=Jt(),f=Object(X.jsx)("span",{className:O.bullet,children:"\u2022"}),x=e.stand;return Object(X.jsx)(Vt.a,{className:O.root,children:Object(X.jsxs)(_t.a,{children:[Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[f,"\u0428\u0442\u0430\u0442\u0438\u0432"]}),Object(X.jsx)(Kt,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:(null===x||void 0===x||null===(t=x.State)||void 0===t?void 0:t.State)>0?"\u0413\u043e\u0442\u043e\u0432":"\u041d\u0435 \u0433\u043e\u0442\u043e\u0432",rightColor:(null===x||void 0===x||null===(n=x.State)||void 0===n?void 0:n.State)>0?"green":"red"}),Object(X.jsx)(Kt,{descr:"\u0420\u0435\u0436\u0438\u043c",value:null===x||void 0===x||null===(a=x.State)||void 0===a?void 0:a.Mode}),Object(X.jsx)(Kt,{descr:"\u0420\u0430\u0441\u0442\u0440",value:null===x||void 0===x||null===(r=x.State)||void 0===r?void 0:r.RasterState}),Object(X.jsx)(Kt,{descr:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f",value:null===x||void 0===x||null===(c=x.State)||void 0===c?void 0:c.Position_Current}),Object(X.jsx)(Kt,{descr:"\u0423\u0433\u043e\u043b \u043d\u0430\u043a\u043b\u043e\u043d\u0430 \u0442\u0440\u0443\u0431\u043a\u0438",value:null===x||void 0===x||null===(o=x.State)||void 0===o?void 0:o.Tube_Incline}),Object(X.jsx)(Kt,{descr:"\u0423\u0433\u043e\u043b \u043d\u0430\u043a\u043b\u043e\u043d\u0430 \u0434\u0435\u043a\u0438",value:null===x||void 0===x||null===(i=x.State)||void 0===i?void 0:i.Deck_Incline}),Object(X.jsx)(Kt,{descr:"\u0423\u0433\u043e\u043b \u043d\u0430\u043a\u043b\u043e\u043d\u0430 \u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440\u0430",value:null===x||void 0===x||null===(s=x.State)||void 0===s?void 0:s.Camera_Incline}),Object(X.jsx)(Kt,{descr:"\u0424\u043e\u043a\u0443\u0441\u043d\u043e\u0435 \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:null===x||void 0===x||null===(l=x.State)||void 0===l?void 0:l.Ffd_Current}),Object(X.jsx)(Kt,{descr:"\u0412\u044b\u0441\u043e\u0442\u0430 \u0441\u0442\u043e\u043b\u0430",value:null===x||void 0===x||null===(u=x.State)||void 0===u?void 0:u.Deck_Height}),Object(X.jsx)(Kt,{descr:"\u0412\u044b\u0441\u043e\u0442\u0430 \u0438\u0437\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f",value:null===x||void 0===x||null===(d=x.State)||void 0===d?void 0:d.Uarm_Height}),Object(X.jsx)(Kt,{descr:"\u041e\u0448\u0438\u0431\u043a\u0438",value:null===x||void 0===x||null===(j=x.State)||void 0===j||null===(b=j.ErrorDescriptions)||void 0===b?void 0:b.length}),(null===x||void 0===x||null===(p=x.State)||void 0===p||null===(v=p.ErrorDescriptions)||void 0===v?void 0:v.length)?x.State.ErrorDescriptions.map((function(e,t){return Object(X.jsx)(Zt,{descr:e.Code,value:e.Description},t.toString())})):Object(X.jsx)(X.Fragment,{})]})})})),bn=r.a.memo((function(e){var t,n,a,r;console.log("! render DosimeterCard");var c=Jt(),o=Object(X.jsx)("span",{className:c.bullet,children:"\u2022"}),i=e.dosimeter;return Object(X.jsx)(Vt.a,{className:c.root,children:Object(X.jsxs)(_t.a,{children:[Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[o,"\u0414\u043e\u0437\u0438\u043c\u0435\u0442\u0440"]}),Object(X.jsx)(Kt,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:(null===i||void 0===i||null===(t=i.State)||void 0===t?void 0:t.State)>0?"\u0433\u043e\u0442\u043e\u0432":"\u041d\u0435 \u0433\u043e\u0442\u043e\u0432",rightColor:(null===i||void 0===i||null===(n=i.State)||void 0===n?void 0:n.State)>0?"green":"red"}),Object(X.jsx)(Kt,{descr:"\u0414\u043e\u0437\u0430",value:(null===i||void 0===i||null===(a=i.State)||void 0===a?void 0:a.Dose)?parseFloat(null===i||void 0===i||null===(r=i.State)||void 0===r?void 0:r.Dose).toFixed(2)+" \u0441\u0413\u0440":""})]})})})),pn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Active";if(!e)return[];var a=Object(ee.a)(new Set(e.map((function(e){return e[t]})))).map((function(n){return e.find((function(e){return e[t]==n}))})).filter((function(e){return e[n]})).reverse();return a},vn=r.a.memo((function(e){var t,n,a,r,c,o,i,s,l,u,d,j;console.log("! render SoftwareCard");var b=Jt(),p=Object(X.jsx)("span",{className:b.bullet,children:"\u2022"}),v=e.volatile,O=null===v||void 0===v?void 0:v.DBStates,f=null===(t=e.software)||void 0===t?void 0:t.Software,x=(null===v||void 0===v?void 0:v.AtlasUser)||(null===v||void 0===v||null===(n=v.AtlasStatus)||void 0===n?void 0:n.AtlasUser),h=null===(a=pn(null===f||void 0===f||null===(r=f.Atlas)||void 0===r?void 0:r.flat(),"Id"))||void 0===a?void 0:a[0],m=null===(c=pn(null===f||void 0===f||null===(o=f.OsInfos)||void 0===o?void 0:o.flat(),"OsCaption"))||void 0===c?void 0:c[0],g=null===(i=pn(null===f||void 0===f||null===(s=f.SqlServices)||void 0===s?void 0:s.flat(),"SqlName"))||void 0===i?void 0:i[0],y=null!==O&&void 0!==O?O:pn(null===f||void 0===f||null===(l=f.SqlDatabases)||void 0===l?void 0:l.flat(),"Name"),S=null===v||void 0===v||null===(u=v.AtlasStatus)||void 0===u?void 0:u.AtlasRunning;return Object(X.jsx)(Vt.a,{className:b.root,children:Object(X.jsxs)(_t.a,{children:[Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[p,"Software"]}),Object(X.jsx)(Kt,{descr:null===m||void 0===m?void 0:m.OsCaption,value:null===m||void 0===m?void 0:m.OsVersion}),Object(X.jsx)(Kt,{descr:null===g||void 0===g?void 0:g.SqlName,value:null===g||void 0===g?void 0:g.SqlVersion}),Object(X.jsx)(Kt,{descr:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",value:null===m||void 0===m?void 0:m.CurrentUser}),Object(X.jsx)(Kt,{descr:"\u041e\u0448\u0438\u0431\u043a\u0438",value:""}),(null===v||void 0===v||null===(d=v.ErrorDescriptions)||void 0===d?void 0:d.length)?v.ErrorDescriptions.map((function(e,t){return Object(X.jsx)(Zt,{descr:e.Code,value:e.Description},t.toString())})):Object(X.jsx)(X.Fragment,{}),Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[p,"\u0411\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445"]}),(null===y||void 0===y?void 0:y.length)?y.map((function(e,t){return Object(X.jsx)(Kt,{descr:e.Name,value:e.Status},t.toString())})):Object(X.jsx)(X.Fragment,{}),Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[p,"\u0410\u0442\u043b\u0430\u0441"]}),Object(X.jsx)(Kt,{descr:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:S?"\u0437\u0430\u043f\u0443\u0449\u0435\u043d":"\u043d\u0435 \u0437\u0430\u043f\u0443\u0449\u0435\u043d",rightColor:S?"green":"red"}),Object(X.jsx)(Kt,{descr:"\u0412\u0435\u0440\u0441\u0438\u044f",value:null===h||void 0===h?void 0:h.AtlasVersion}),Object(X.jsx)(Kt,{descr:"Xilib",value:null===h||void 0===h?void 0:h.XilibsVersion}),Object(X.jsx)(Kt,{descr:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f",value:null===h||void 0===h?void 0:h.ComplexType}),Object(X.jsx)(Kt,{descr:"\u042f\u0437\u044b\u043a",value:null===h||void 0===h?void 0:h.Language}),Object(X.jsx)(Kt,{descr:"Multimonitor",value:null===h||void 0===h?void 0:h.Multimonitor}),Object(X.jsx)(Kt,{descr:(null===x||void 0===x?void 0:x.User)?null===x||void 0===x?void 0:x.Role:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",value:(null===x||void 0===x?void 0:x.User)?null===x||void 0===x?void 0:x.User:"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d",rightWidth:"100%"}),Object(X.jsx)(Kt,{descr:"\u041e\u0448\u0438\u0431\u043a\u0438",value:""}),(null===f||void 0===f||null===(j=f.AtlasErrorDescriptions)||void 0===j?void 0:j.length)?f.AtlasErrorDescriptions.map((function(e,t){return Object(X.jsx)(Zt,{descr:e.Code,value:e.Description},t.toString())})):Object(X.jsx)(X.Fragment,{})]})})})),On=r.a.memo((function(e){var t;console.log("! render ImagesCard");var n=Jt(),a=Object(X.jsx)("span",{className:n.bullet,children:"\u2022"}),r=e.images,c=null===r||void 0===r?void 0:r.Today,o=null===r||void 0===r?void 0:r.Current;return Object(X.jsx)(Vt.a,{className:n.root,children:Object(X.jsxs)(_t.a,{children:[Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[a,"\u0421\u043d\u0438\u043c\u043a\u0438"]}),Object(X.jsx)(Kt,{descr:"\u0412\u0441\u0435\u0433\u043e",value:null===r||void 0===r?void 0:r.ImageCount}),Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[a,"\u0417\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"]}),(null===c||void 0===c?void 0:c.SingleGraphy)?Object(X.jsx)(Kt,{descr:"\u0413\u0440\u0430\u0444\u0438\u044f",value:c.SingleGraphy}):Object(X.jsx)(X.Fragment,{}),(null===c||void 0===c?void 0:c.Scopy)?Object(X.jsx)(Kt,{descr:"\u0421\u043a\u043e\u043f\u0438\u044f",value:c.Scopy}):Object(X.jsx)(X.Fragment,{}),(null===c||void 0===c?void 0:c.Stitching)?Object(X.jsx)(Kt,{descr:"\u0421\u0448\u0438\u0432\u043a\u0430",value:c.Stitching}):Object(X.jsx)(X.Fragment,{}),Object(X.jsxs)(W.a,{variant:"h6",component:"h2",children:[a,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439"]}),Object(X.jsx)(Kt,{descr:"\u0422\u0438\u043f",value:null===o||void 0===o?void 0:o.Type}),Object(X.jsx)(Kt,{descr:"\u041d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u0438\u0435",value:null===o||void 0===o?void 0:o.Kv}),Object(X.jsx)(Kt,{descr:"\u0422\u043e\u043a",value:null!==(t=null===o||void 0===o?void 0:o.Mas)&&void 0!==t?t:null===o||void 0===o?void 0:o.Ma}),Object(X.jsx)(Kt,{descr:"\u0414\u043e\u0437\u0430",value:null===o||void 0===o?void 0:o.Dose})]})})})),fn=n(269),xn=n(268),hn=Object(w.a)({text:{margin:"1em"}});function mn(e){var t=hn(),n=r.a.useState(!!e.text),a=Object(S.a)(n,2),c=a[0],o=a[1];return Object(X.jsxs)(xn.a,{onClose:function(e){o(!1)},"aria-labelledby":"simple-dialog-title",open:c,children:[Object(X.jsx)(fn.a,{id:"simple-dialog-title",children:e.title}),Object(X.jsx)(W.a,{className:t.text,children:e.text})]})}var gn=Object(w.a)((function(e){return{root:{display:"flex"},column:{width:"30%",marginRight:"12px"}}}));function yn(e){var t,n,r,c,o;console.log("render SummaryMainTabPanel");var i=gn(),s=Object(a.useContext)(le),l=Object(S.a)(s,2),u=l[0],d=(l[1],Object(a.useContext)(te)),j=Object(S.a)(d,2),b=j[0],p=(j[1],Object(a.useContext)(Ce)),v=Object(S.a)(p,2),O=v[0],f=(v[1],Object(a.useContext)(pe)),x=Object(S.a)(f,2),h=x[0],m=(x[1],null===(t=u.remoteaccess)||void 0===t?void 0:t.FtpSendResult),g=u.equipInfo,y=null===(n=b.connectedEquips)||void 0===n?void 0:n.includes(g),w=u.lastSeen,E=null===(r=u.locationInfo)||void 0===r?void 0:r.HospitalName,C=null===(c=u.locationInfo)||void 0===c?void 0:c.HospitalAddress;return Object(X.jsxs)("div",{className:i.root,children:[Object(X.jsxs)("div",{className:i.column,children:[Object(X.jsx)(ln,{equipInfo:g,isConnected:y,lastSeen:w,hospital:E,address:C}),Object(X.jsx)(rn,{system:u.system,volatile:y?O.currentVolatile:null})]}),Object(X.jsxs)("div",{className:i.column,children:[Object(X.jsx)(cn,{organAuto:y?u.organAuto:null}),Object(X.jsx)(On,{images:y?u.images:null}),Object(X.jsx)(nn,{generator:y?u.generator:null}),Object(X.jsx)(tn,{detectors:y?u.detectors:null,aecs:u.aecs}),Object(X.jsx)(jn,{stand:y?u.stand:null}),Object(X.jsx)(bn,{dosimeter:y?u.dosimeter:null})]}),Object(X.jsxs)("div",{className:i.column,children:[Object(X.jsx)(dn,{equipInfo:y?u.equipInfo:null,remoteaccess:u.remoteaccess,token:h.token}),Object(X.jsx)(un,{dicom:y?u.dicom:null}),Object(X.jsx)(vn,{software:y?u.software:null,volatile:y?O.currentVolatile:null})]}),m?Object(X.jsx)(mn,{title:"\u0414\u0430\u043d\u043d\u044b\u0435 FTP",text:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u0441\u043b\u0430\u043d\u044b "+((null===(o=u.remoteaccess)||void 0===o?void 0:o.FtpSendResult)?"\u0443\u0441\u043f\u0435\u0448\u043d\u043e":"\u0441 \u043e\u0448\u0438\u0431\u043a\u0430\u043c\u0438")}):Object(X.jsx)(X.Fragment,{})]})}var Sn=n(289),wn=n(113),En=n(271),Cn=n(275),Nn=n(274),kn=n(270),Tn=n(272),Dn=n(299),An=n(273),In=n(291),Pn=n(298),qn=Object(w.a)({root:{width:"100%"},container:{minHeight:40,maxHeight:"100%"},errorCell:{color:"white",background:"red",margin:"0px",wordWrap:"break-word"},simpleCell:{wordWrap:"break-word"},boldCell:{wordWrap:"break-word",fontWeight:"bolder",fontSize:"larger"},checkBox:{color:"green"}});function Ln(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Rn(e){var t,n,a,c=qn(),o=r.a.useState(0),i=Object(S.a)(o,2),s=i[0],l=i[1],u=r.a.useState(100),d=Object(S.a)(u,2),j=d[0],b=d[1],p=r.a.useState(null!==(t=e.defaultSort)&&void 0!==t?t:""),v=Object(S.a)(p,2),O=v[0],f=v[1],x=r.a.useState(null!==(n=e.defaultSortOrder)&&void 0!==n?n:"asc"),h=Object(S.a)(x,2),m=h[0],g=h[1],y=null!==(a=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}(e.rows?e.rows:[],function(e,t){return"desc"===e?function(e,n){return Ln(e,n,t)}:function(e,n){return-Ln(e,n,t)}}(m,O)))&&void 0!==a?a:[];y.length<s*j&&l(0);var w=e.columns,E=e.selectedRow,C=e.onRowClick;C||(C=function(e,t){});var N=e.isRowBold;return Object(X.jsxs)(wn.a,{className:c.root,children:[Object(X.jsx)(kn.a,{className:c.container,children:Object(X.jsxs)(En.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small",children:[Object(X.jsx)(Tn.a,{children:Object(X.jsx)(An.a,{children:w.map((function(e){return Object(X.jsx)(Nn.a,{align:e.align,style:{minWidth:e.minWidth,maxWidth:e.maxWidth},sortDirection:O===e.id&&m,children:e.sortable?Object(X.jsx)(Pn.a,{active:O===e.id,direction:O===e.id?m:"asc",onClick:(t=e.id,function(){g(O===t&&"asc"===m?"desc":"asc"),f(t)}),children:e.label}):e.label},e.id);var t}))})}),Object(X.jsx)(Cn.a,{children:y.slice(s*j,s*j+j).map((function(t,n){return Object(X.jsx)(An.a,{selected:!!E&&t.EquipName===E,hover:!0,role:"checkbox",tabIndex:-1,onClick:function(e){return C(e,t)},children:w.map((function(n){var a=t[n.id],r=n.format?n.format(t):a;return Object(X.jsx)(Nn.a,{align:n.align,className:n.hasErrors&&n.hasErrors(a)?c.errorCell:N&&N(t)?c.boldCell:c.simpleCell,children:Object(X.jsx)("div",{style:{maxWidth:n.maxWidth},children:n.checked?Object(X.jsx)(In.a,{style:{color:r?"green":"gray"},checked:r,onChange:function(n){return!!e.onSelect&&e.onSelect(n,t)},inputProps:{"aria-label":"select all desserts","data-column":n.id}}):n.format?n.format(a):n.formatArray?n.formatArray(a).map((function(e){return Object(X.jsx)("pre",{children:e})})):n.button?Object(X.jsx)(z.a,{variant:"contained",color:"primary",className:c.commonSpacing,onClick:function(){return n.onEdit(t)},children:n.label}):a})},n.id)}))},n)}))})]})}),Object(X.jsx)(Dn.a,{rowsPerPageOptions:[10,25,100],component:"div",count:null===y||void 0===y?void 0:y.length,rowsPerPage:j,page:s,onChangePage:function(e,t){l(t)},onChangeRowsPerPage:function(e){b(+e.target.value),l(0)}})]})}var Fn=Object(w.a)((function(e){return{root:{display:"table"},column:{width:"30%",marginRight:"12px"},listPanel:{width:"285px",backgroundColor:e.palette.background.paper,overflowY:"auto",display:"table-cell"},content:{width:"100%",backgroundColor:e.palette.background.default,paddingLeft:e.spacing(1),display:"table-cell"},button:{marginBottom:"1em",marginTop:"1em"}}}));function Wn(e){console.log("render SummaryBDTabPanel");var t=Fn(),n=r.a.useState(""),c=Object(S.a)(n,2),o=c[0],i=c[1],s=Object(a.useContext)(le),l=Object(S.a)(s,2),u=l[0],d=(l[1],Object(a.useContext)(pe)),j=Object(S.a)(d,2),b=j[0],p=(j[1],u.allDBs,u.allDBTables);Object(a.useEffect)((function(){0===Object.keys(u.allDBTables).length&&i("")}),[u.allDBTables]);var v=b.token,O=u.equipInfo,f=function(){var e=Object(y.a)(g.a.mark((function e(t,n,a,r){var c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt(v,O,a,r);case 2:c=e.sent,o=[],o=Array.isArray(c)?c.map((function(e){return JSON.parse(e)})).flat(1):c?JSON.parse(c):null,i(o);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),x=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt(v,O);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=0===o.length?[]:Object.keys(o[0]).map((function(e){return"active"===(t=e).toLowerCase()?{id:t,label:t,minWidth:100,maxWidth:100,format:function(e){return e?"+":"-"}}:{id:t,label:t,minWidth:100,maxWidth:300};var t})),m=0===o.length?[]:o,w=null===p||void 0===p?void 0:p.Hospital,E=null===p||void 0===p?void 0:p.System,C=null===p||void 0===p?void 0:p.Software,k=null===p||void 0===p?void 0:p.Atlas;return Object(X.jsxs)("div",{className:t.root,children:[Object(X.jsxs)(Sn.a,{className:t.listPanel,height:"100%",children:[Object(X.jsx)(z.a,{className:t.button,variant:"contained",color:"primary",onClick:x,children:"\u041f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u0442\u044c"}),Object(X.jsx)(W.a,{variant:"h6",component:"h2",children:"\u041b\u041f\u0423"}),Object(X.jsx)(N.a,{children:null===w||void 0===w?void 0:w.map((function(e,t){return Object(X.jsxs)(T.a,{button:!0,onClick:function(n){return f(n,t,"Hospital",e)},children:[Object(X.jsx)(D.a,{children:t%2===0?Object(X.jsx)(P.a,{}):Object(X.jsx)(L.a,{})}),Object(X.jsx)(A.a,{primary:e})]},e)}))}),Object(X.jsx)(W.a,{variant:"h6",component:"h2",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430"}),Object(X.jsx)(N.a,{children:null===E||void 0===E?void 0:E.map((function(e,t){return Object(X.jsxs)(T.a,{button:!0,onClick:function(n){return f(n,t,"System",e)},children:[Object(X.jsx)(D.a,{children:t%2===0?Object(X.jsx)(P.a,{}):Object(X.jsx)(L.a,{})}),Object(X.jsx)(A.a,{primary:e})]},e)}))}),Object(X.jsx)(W.a,{variant:"h6",component:"h2",children:"\u041e\u0431\u0449\u0435\u0435 \u041f\u041e"}),Object(X.jsx)(N.a,{children:null===C||void 0===C?void 0:C.map((function(e,t){return Object(X.jsxs)(T.a,{button:!0,onClick:function(n){return f(n,t,"Software",e)},children:[Object(X.jsx)(D.a,{children:t%2===0?Object(X.jsx)(P.a,{}):Object(X.jsx)(L.a,{})}),Object(X.jsx)(A.a,{primary:e})]},e)}))}),Object(X.jsx)(W.a,{variant:"h6",component:"h2",children:"\u0410\u0442\u043b\u0430\u0441"}),Object(X.jsx)(N.a,{children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(X.jsxs)(T.a,{button:!0,onClick:function(n){return f(n,t,"Atlas",e)},children:[Object(X.jsx)(D.a,{children:t%2===0?Object(X.jsx)(P.a,{}):Object(X.jsx)(L.a,{})}),Object(X.jsx)(A.a,{primary:e})]},e)}))})]}),Object(X.jsx)(Sn.a,{className:t.content,height:"100%",children:Object(X.jsx)(Rn,{columns:h,rows:m,isRowBold:function(e){return e.Active}})})]})}var Un=n(292),Mn=n(279);Object(w.a)({root:{width:"100%"}});Object(w.a)({root:{width:"100%"}});var Bn=n(277),Gn=n(141),Hn=n.n(Gn),Vn=n(142),_n=n.n(Vn),Jn=Object(w.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"},equip:{width:"10%"},isImportant:{backgroundColor:"red"},collapse:{textAlign:"left"},outerLabel:{marginTop:"6px",marginRight:"12px"},ordinaryLabel:{borderRadius:"50%",backgroundColor:"gray"},importantLabel:{borderRadius:"50%",backgroundColor:"red"},innerLabel:{width:"40px",height:"40px",display:"flex",fontSize:"1.25rem",color:"#303030",alignItems:"center",justifyContent:"center"}}}));function zn(e){var t=Jn(),n=r.a.useState(!1),a=Object(S.a)(n,2),c=a[0],o=a[1],i=function(){o(!c)},s=e.isImportant,l=e.equipName,u=e.time,d=e.title,j=e.text,b=e.details;return Object(X.jsxs)("div",{children:[Object(X.jsxs)(T.a,{alignItems:"flex-start",button:!0,children:[Object(X.jsx)("div",{className:t.outerLabel,children:Object(X.jsx)("div",{className:s?t.importantLabel:t.ordinaryLabel,children:Object(X.jsx)("div",{className:t.innerLabel,children:s?"!":"O"})})}),Object(X.jsx)(A.a,{primary:Object(X.jsxs)(r.a.Fragment,{children:[Object(X.jsx)(W.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:l})," "+u]}),secondary:Object(X.jsxs)(r.a.Fragment,{children:[Object(X.jsx)(W.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:d})," - "+j]})}),b&&c?Object(X.jsx)(Hn.a,{onClick:i}):b&&!c?Object(X.jsx)(_n.a,{onClick:i}):Object(X.jsx)(X.Fragment,{})]}),b?Object(X.jsx)(Bn.a,{in:c,timeout:"auto",unmountOnExit:!0,className:t.collapse,children:b}):Object(X.jsx)(X.Fragment,{})]})}var Qn=Object(w.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper}}}));function Xn(e){var t,n,a=Qn(),r=(e.equipName,e.showImportantOnly),c=e.rows,o=null!==(t=null===c||void 0===c?void 0:c.filter((function(e){return We(e.DateTime)})))&&void 0!==t?t:[],i=o.length,s=c?c.length-i:0;return Object(X.jsxs)(N.a,{className:a.root,children:[Object(X.jsxs)(W.a,{component:"span",variant:"h5",color:"textPrimary",children:["\u0421\u0435\u0433\u043e\u0434\u043d\u044f (",i," \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439)"]}),null===o||void 0===o?void 0:o.map((function(e,t){var n,a,c=null===(n=e.Type)||void 0===n?void 0:n.includes("Error"),o=null===(a=e.Type)||void 0===a?void 0:a.includes("Offline");return c||!r?Object(X.jsx)(zn,{isImportant:c,equipName:e.EquipName,title:e.Title+(o?"(Offline)":""),text:e.Description,time:Fe(e.DateTime),details:e.Details},t.toString()):Object(X.jsx)(X.Fragment,{})})),Object(X.jsx)(k.a,{}),Object(X.jsxs)(W.a,{component:"span",variant:"h5",color:"textPrimary",children:["\u0412\u0441\u0435 \u0432\u0440\u0435\u043c\u044f (",s," \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439)"]}),null===c||void 0===c||null===(n=c.filter((function(e){return!We(e.DateTime)})))||void 0===n?void 0:n.map((function(e,t){var n,a=null===(n=e.Type)||void 0===n?void 0:n.includes("Error");return a||!r?Object(X.jsx)(zn,{isImportant:a,equipName:e.EquipName,title:e.Title,text:e.Description,time:Fe(e.DateTime),details:e.Details},t.toString()):Object(X.jsx)(X.Fragment,{})}))]})}var Yn=Object(w.a)((function(e){return{root:{display:"flex"},commonSpacing:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},textField:{width:200},selectEmpty:{marginTop:e.spacing(2)},optionStyle:{}}}));function Kn(e){console.log("render SummaryHistoryTabPanel");var t,n,r=Yn(),c=Object(a.useContext)(ce),o=Object(S.a)(c,2),i=o[0],s=o[1],l=Object(a.useContext)(pe),u=Object(S.a)(l,2),d=u[0],j=(u[1],new Date),b=Object(a.useState)(Re(new Date(j.setDate(j.getDate()-7)))),p=Object(S.a)(b,2),v=p[0],O=p[1],f=Object(a.useState)(Re(new Date)),x=Object(S.a)(f,2),h=x[0],m=x[1],w=Object(a.useState)(!1),E=Object(S.a)(w,2),C=E[0],N=E[1],k=Object(a.useState)({byTitle:"",byDescr:""}),T=Object(S.a)(k,2),D=T[0],A=T[1],I=e.equipName,P=i.currentEvents,q=d.token,L=function(){var e=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(q,"Events",I,v,h);case 2:t=e.sent,s({type:"SETEVENTS",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!C);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();D.byTitle&&(P=null===(t=P)||void 0===t?void 0:t.filter((function(e){return e.Title.includes(D.byTitle)||e.Description.includes(D.byTitle)})));D.byDescr&&(P=null===(n=P)||void 0===n?void 0:n.filter((function(e){return e.Details.includes(D.byDescr)})));var F=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(Object(Q.a)(Object(Q.a)({},D),{byTitle:null===(n=t.target)||void 0===n?void 0:n.value}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(Object(Q.a)(Object(Q.a)({},D),{byDescr:null===(n=t.target)||void 0===n?void 0:n.value}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)("div",{className:r.root,children:[Object(X.jsx)(Un.a,{id:"startDate",label:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u0430\u0442\u0430",type:"date",defaultValue:v,onChange:function(e){O(e.target.value)},className:(r.textField,r.commonSpacing),InputLabelProps:{shrink:!0}}),Object(X.jsx)(Un.a,{id:"endDate",label:"\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0434\u0430\u0442\u0430",type:"date",defaultValue:h,onChange:function(e){m(e.target.value)},className:(r.textField,r.commonSpacing),InputLabelProps:{shrink:!0}}),Object(X.jsx)(Mn.a,{control:Object(X.jsx)(In.a,{checked:C,onChange:R}),label:"\u0422\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0436\u043d\u044b\u0435"}),Object(X.jsx)(z.a,{variant:"contained",color:"primary",className:r.commonSpacing,onClick:L,children:"\u0418\u0441\u043a\u0430\u0442\u044c"}),Object(X.jsx)(Un.a,{id:"outlined-basic",className:r.commonSpacing,onChange:F,label:"\u041f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e",variant:"outlined"}),Object(X.jsx)(Un.a,{id:"outlined-basic",className:r.commonSpacing,onChange:W,label:"\u041f\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044e",variant:"outlined"})]}),Object(X.jsx)("div",{className:r.root,children:Object(X.jsx)(Xn,{equipName:I,rows:P,showImportantOnly:C})})]})}var Zn=n(205),$n=n(147),ea=n(143),ta=n.n(ea),na=Object(w.a)((function(e){return{root:{display:"flex"},column:{width:"calc(50% - 6px)",marginRight:"12px"},fullRow:{display:"grid",width:"100%",textAlign:"left",gridTemplateColumns:"40px 1fr"},textField:{marginTop:e.spacing(1),marginBottom:e.spacing(1),width:"100%"},noteTitle:{width:"100%",fontWeight:"bolder",textAlign:"left",display:"inline"},notesArea:{overflowWrap:"break-word",alignSelf:"center",width:"100%",margin:"0",display:"block"}}}));function aa(e){var t;console.log("render SummaryChatSubpanel");var n="tech",c=na(),o=Object(a.useState)({id:"",note:""}),i=Object(S.a)(o,2),s=i[0],l=i[1],u=r.a.useState(null),d=Object(S.a)(u,2),j=d[0],b=d[1],p=r.a.useState(!1),v=Object(S.a)(p,2),O=v[0],f=v[1],x=Boolean(j),h=e.hasTechOnly,m=function(e,t){b(e.currentTarget)},w=function(){b(null)},E=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l({id:s.id,note:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=e.type,N=function(){var t=Object(y.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.onSendNote){t.next=4;break}return t.next=3,e.onSendNote(C,s);case 3:l({id:"",note:""});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(y.a)(g.a.mark((function t(n){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=j.id,!e.onDeleteNote){t.next=4;break}return t.next=4,e.onDeleteNote(C,a);case 4:w();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=e.title,D=h&&O?null===(t=e.notes)||void 0===t?void 0:t.filter((function(e){return e.User===n})):e.notes,A=e.currentUser,I=!!(null===s||void 0===s?void 0:s.note),P=function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=j.id,(a=D.find((function(e){return e.ID==n})))&&l({id:n,note:a.Message}),w();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!O);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(X.jsxs)("div",{className:c.column,children:[Object(X.jsx)(W.a,{variant:"h5",children:T}),h?Object(X.jsx)(Mn.a,{control:Object(X.jsx)(In.a,{checked:O,onChange:q}),label:"tech \u0442\u043e\u043b\u044c\u043a\u043e"}):Object(X.jsx)(X.Fragment,{}),Object(X.jsx)(Un.a,{id:"outlined-multiline-static",className:c.textField,label:"\u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",multiline:!0,rows:5,defaultValue:"",variant:"outlined",value:null===s||void 0===s?void 0:s.note,onChange:function(e){return E(e.target.value)}}),Object(X.jsx)(z.a,{variant:"contained",color:"primary",onClick:N,disabled:!I,children:"\u041f\u043e\u0441\u043b\u0430\u0442\u044c"}),Object(X.jsx)("div",{className:c.fullRow,children:(null===D||void 0===D?void 0:D.length)?D.map((function(e,t){var a,r;return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("div",{children:A===e.User?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Zn.a,{id:e.ID,"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:m,children:Object(X.jsx)(ta.a,{})}),Object(X.jsxs)($n.a,{id:"long-menu",anchorEl:j,keepMounted:!0,open:x,onClose:w,children:[Object(X.jsx)(B.a,{onClick:P,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(X.jsx)(B.a,{onClick:k,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]}):Object(X.jsx)(X.Fragment,{})},t.toString()),Object(X.jsxs)("div",{className:c.notesArea,children:[Object(X.jsxs)(W.a,{variant:"body1",align:"left",color:A===e.User?"secondary":"primary",className:c.noteTitle,style:e.User===n?{color:"khaki"}:{},children:[e.User+" ("," ",Fe(e.DateTime)+") - "]}),null===(a=e.Message)||void 0===a||null===(r=a.split("\n"))||void 0===r?void 0:r.map((function(e,t){return 0===t?e:Object(X.jsx)(W.a,{children:e})}))]})]})})):Object(X.jsx)(X.Fragment,{})})]})}var ra=Object(w.a)((function(e){return{root:{display:"flex"},divider:{marginRight:"12px"}}}));function ca(e){var t,n,r,c;console.log("render SummaryChatTabPanel");var o=ra(),i=Object(a.useContext)(xe),s=Object(S.a)(i,2),l=s[0],u=s[1],d=Object(a.useContext)(pe),j=Object(S.a)(d,2),b=j[0],p=(j[1],e.equipName),v=b.token,O="Note",f=h,x=function(){var e=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==O){e.next=5;break}return e.next=3,w(n);case 3:e.next=8;break;case 5:if(t!==f){e.next=8;break}return e.next=8,E(n);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt(v,p,f,n);case 2:u({type:"DELETENOTE",payload:n});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(v,p,O,t.id,t.note);case 2:n=e.sent,u({type:t.id?"CHANGENOTE":"ADDNOTE",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(v,p,f,t.id,t.note);case 2:n=e.sent,t.id&&u({type:"CHANGENOTE",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=null===(t=l.notes)||void 0===t?void 0:t.filter((function(e){return e.Type===O})),N=null===(n=l.notes)||void 0===n?void 0:n.filter((function(e){return e.Type===f}));return Object(X.jsxs)("div",{className:o.root,children:[Object(X.jsx)(aa,{type:O,title:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438",notes:C,onSendNote:x,onDeleteNote:m,currentUser:null===(r=b.currentUser)||void 0===r?void 0:r.Login}),Object(X.jsx)(k.a,{orientation:"vertical",flexItem:!0,className:o.divider}),Object(X.jsx)(aa,{type:f,title:"\u0427\u0430\u0442",notes:N,onSendNote:x,onDeleteNote:m,currentUser:null===(c=b.currentUser)||void 0===c?void 0:c.Login,hasTechOnly:!0})]})}var oa=n(203),ia=Object(w.a)((function(e){return{root:{width:"100%",borderColor:"darkgray"},commonSpacing:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}})),sa=r.a.memo((function(e){var t,n,r,c,o,i,s;console.log("render SummaryLogsTabPanel");var l=ia(),u=Object(a.useContext)(pe),d=Object(S.a)(u,2),j=d[0],b=(d[1],Object(a.useContext)(Wt)),p=Object(S.a)(b,2),v=p[0],O=(p[1],e.equipName),f=j.token,x=Object(a.useState)(!1),h=Object(S.a)(x,2),m=h[0],w=h[1],E=Object(a.useState)(!1),C=Object(S.a)(E,2),N=C[0],k=C[1],T=Object(a.useState)(!1),D=Object(S.a)(T,2),A=D[0],I=D[1],P=Object(a.useState)(30),q=Object(S.a)(P,2),L=q[0],R=q[1],F=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!m);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!N);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!A);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],m&&t.push("generator"),N&&t.push("stand"),A&&t.push("detector"),L||R(30),e.next=7,at(f,O,t,null!==L&&void 0!==L?L:30);case 7:e.sent;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,R(isNaN(n)&&""!==n?30:n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();null===(t=v.currentLog)||void 0===t||t.Type,null===(n=v.currentLog)||void 0===n||null===(r=n.State)||void 0===r||r.Timestamp,null===(c=v.currentLog)||void 0===c||null===(o=c.State)||void 0===o||o.Data;return Object(X.jsxs)("div",{children:[Object(X.jsx)(Mn.a,{control:Object(X.jsx)(In.a,{checked:m,onChange:F}),label:"\u041b\u043e\u0433\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430"}),Object(X.jsx)(Mn.a,{control:Object(X.jsx)(In.a,{checked:N,onChange:W}),label:"\u041b\u043e\u0433\u0438 \u0448\u0442\u0430\u0442\u0438\u0432\u0430"}),Object(X.jsx)(Mn.a,{control:Object(X.jsx)(In.a,{checked:A,onChange:U}),label:"\u041b\u043e\u0433\u0438 \u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440\u0430"}),Object(X.jsx)(z.a,{variant:"contained",color:"primary",className:l.commonSpacing,onClick:M,children:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c"}),Object(X.jsx)(Un.a,{id:"outlined-basic",className:l.commonSpacing,value:L,onChange:B,label:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c, \u0441\u0435\u043a",variant:"outlined"}),Object(X.jsx)(oa.a,{className:l.root,rowsMax:40,"aria-label":"maximum height",defaultValue:null===(i=v.currentLog)||void 0===i||null===(s=i.State)||void 0===s?void 0:s.Data})]})})),la=Object(w.a)((function(e){return{root:{}}}));function ua(e){var t;console.log("render SummaryTab");la();var n=Object(a.useContext)(le),r=Object(S.a)(n,2),c=r[0],o=(r[1],null!==(t=e.panel)&&void 0!==t?t:0),i=null===c||void 0===c?void 0:c.equipInfo;return Object(X.jsxs)("div",{children:[0===o?Object(X.jsx)(yn,{}):Object(X.jsx)(X.Fragment,{}),1===o?Object(X.jsx)(Wn,{equipName:i}):Object(X.jsx)(X.Fragment,{}),2===o?Object(X.jsx)(Kn,{equipName:i}):Object(X.jsx)(X.Fragment,{}),3===o?Object(X.jsx)(ca,{equipName:i}):Object(X.jsx)(X.Fragment,{}),4===o?Object(X.jsx)(sa,{equipName:i}):Object(X.jsx)(X.Fragment,{})]})}var da=n(43),ja=n(280),ba=n(300),pa=n(281),va=n(282),Oa=Object(w.a)((function(e){return{root:{height:"1000px"}}})),fa=da.Icon.extend({options:{}}),xa=new fa({iconUrl:"./marker-icon.png"}),ha=new fa({iconUrl:"./marker-icon-dark.png"});function ma(e){console.log("render MapTab");var t=Oa(),n=Object(a.useContext)(te),r=Object(S.a)(n,2),c=r[0],o=r[1],i=Object(a.useContext)(Y),s=Object(S.a)(i,2),l=(s[0],s[1]),u=St(),d=c.allEquips,j=function(){var e=Object(y.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.EquipName,u(a,"SETEQUIPINFO"),o({type:"ADDSELECTEDEQUIPS",payload:a}),l({type:"SETTAB",payload:{tab:0,panel:0}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(X.jsx)("div",{className:t.root,children:Object(X.jsxs)(ja.a,{className:t.root,center:[59.8795351,30.3908424],zoom:10,maxZoom:18,children:[Object(X.jsx)(ba.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),null===d||void 0===d?void 0:d.map((function(e){return Object(X.jsx)(pa.a,{position:[e.HospitalLatitude,e.HospitalLongitude],icon:e.IsActive?ha:xa,children:Object(X.jsxs)(va.a,{children:[e.HospitalName," (",e.EquipName,")",Object(X.jsx)("div",{children:Object(X.jsx)(z.a,{variant:"contained",color:"primary",onClick:function(t){return j(t,e)},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})})]})})}))]})})}var ga=Object(w.a)((function(e){return{root:{}}}));function ya(e){console.log("render EventsTab");var t=ga();return Object(X.jsx)("div",{className:t.root,children:Object(X.jsx)(Kn,{equipName:""})})}var Sa=n(140);Object(w.a)((function(e){return{root:{display:"flex"},commonSpacing:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},textField:{width:200},selectEmpty:{marginTop:e.spacing(2)},optionStyle:{}}}));var wa=n(295);function Ea(e){console.log("render UserTable");var t=Object(a.useContext)(pe),n=Object(S.a)(t,2),r=n[0],c=n[1],o=[{id:"Login",label:"\u041b\u043e\u0433\u0438\u043d",minWidth:170,sortable:!0},{id:"Surname",label:"\u0424\u0418\u041e",minWidth:100},{id:"Email",label:"\u041f\u043e\u0447\u0442\u0430",minWidth:100},{id:"Role",label:"\u0420\u043e\u043b\u044c",minWidth:100},{id:"Disabled",label:"\u0423\u0434\u0430\u043b\u0435\u043d",checked:!0,minWidth:100},{id:"Edit",label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",button:!0,onEdit:e.onEdit,minWidth:100}],i=e.data,s=function(){var e=Object(y.a)(g.a.mark((function e(t,n){var a,o,i,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.checked,o=Object(Q.a)(Object(Q.a)({},n),{},{Disabled:a}),i=r.token,e.next=5,Nt(o,i);case 5:return e.sent,e.next=8,Et(i);case 8:s=e.sent,c({type:"SETUSERS",payload:s});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(X.jsx)(Rn,{columns:o,rows:i,onSelect:s})}var Ca=Object(w.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"1em"},commonSpacing:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},text:{width:"50%",marginBottom:"1em"}}}));function Na(e){console.log("render AdminMainTabPanel");var t=Ca(),n=Object(a.useContext)(pe),r=Object(S.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(""),s=Object(S.a)(i,2),l=s[0],u=s[1],d=Object(a.useState)(""),j=Object(S.a)(d,2),b=j[0],p=j[1],O=Object(a.useState)(""),x=Object(S.a)(O,2),h=x[0],m=x[1],w=Object(a.useState)(""),E=Object(S.a)(w,2),C=E[0],N=E[1],k=Object(a.useState)(""),T=Object(S.a)(k,2),D=T[0],A=T[1],I=Object(a.useState)(v),P=Object(S.a)(I,2),q=P[0],L=P[1],R=function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target,a=n.options[n.selectedIndex].value,L(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(y.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.token,e.next=3,Nt({id:l,login:b,password:h,surname:C,email:D,role:q,disabled:!1},t);case 3:return e.sent,e.next=6,Et(t);case 6:n=e.sent,o({type:"SETUSERS",payload:n}),M();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t.ID),p(t.Login),m(""),N(t.Surname),A(t.Email),L(t.Role);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(""),p(""),m(""),N(""),A(""),L(v);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=b&&C&&(!!l||h);return Object(X.jsxs)("div",{className:t.root,children:[Object(X.jsxs)("div",{className:t.root,children:[Object(X.jsx)(Un.a,{className:t.text,id:"standard-basic",required:!0,label:"\u041b\u043e\u0433\u0438\u043d",value:b,onChange:function(e){p(e.target.value)}}),Object(X.jsx)(Un.a,{className:t.text,id:"standard-basic",required:!0,label:"\u041f\u0430\u0440\u043e\u043b\u044c",value:h,onChange:function(e){m(e.target.value)}}),Object(X.jsx)(Un.a,{className:t.text,id:"standard-basic",required:!0,label:"\u0424\u0418\u041e",value:C,onChange:function(e){N(e.target.value)}}),Object(X.jsx)(Un.a,{className:t.text,id:"standard-basic",label:"\u041f\u043e\u0447\u0442\u0430",value:D,onChange:function(e){A(e.target.value)}}),Object(X.jsxs)(U.a,{required:!0,className:t.text,children:[Object(X.jsx)(wa.a,{required:!0,htmlFor:"grouped-native-select",children:"\u0420\u043e\u043b\u044c"}),Object(X.jsx)(Sa.a,{value:q,onChange:R,name:"roles",className:t.selectEmpty,variant:"outlined",children:f.map((function(e,n){return Object(X.jsx)("option",{value:e,className:t.optionStyle,children:e},n.toString())}))})]}),Object(X.jsxs)("div",{children:[Object(X.jsx)(z.a,{variant:"contained",color:"primary",className:t.commonSpacing,onClick:F,disabled:!B,children:"\u0413\u043e\u0442\u043e\u0432\u043e"}),Object(X.jsx)(z.a,{variant:"contained",color:"primary",className:t.commonSpacing,onClick:M,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]}),Object(X.jsx)(Ea,{data:c.users,onEdit:W})]})}var ka=Object(w.a)((function(e){return{root:{}}}));function Ta(e){var t;console.log("render AdminTab");ka();var n=null!==(t=e.panel)&&void 0!==t?t:0;return Object(X.jsx)("div",{children:0===n?Object(X.jsx)(Na,{}):Object(X.jsx)(X.Fragment,{})})}var Da=n(285),Aa=n(283),Ia=n(284);function Pa(e){var t=function(){null===e||void 0===e||e.onClose(!1)};return Object(X.jsxs)(xn.a,{open:e.open,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(X.jsx)(fn.a,{id:"alert-dialog-title",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435"}),Object(X.jsx)(Aa.a,{children:Object(X.jsx)(Ia.a,{id:"alert-dialog-description",children:e.\u0441onfirmMessage})}),Object(X.jsxs)(Da.a,{children:[Object(X.jsx)(z.a,{onClick:function(){null===e||void 0===e||e.onClose(!0,e.context)},autoFocus:!0,children:"\u0414\u0430"}),Object(X.jsx)(z.a,{onClick:t,children:"\u041d\u0435\u0442"})]})]})}var qa=Object(w.a)((function(e){return{root:{display:"flex"},commonSpacing:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}})),La=r.a.memo((function(e){var t,n;console.log("render EquipTable");var c=qa(),o=Object(a.useContext)(Y),i=Object(S.a)(o,2),s=(i[0],i[1]),l=Object(a.useContext)(pe),u=Object(S.a)(l,2),d=u[0],j=(u[1],Object(a.useContext)(te)),b=Object(S.a)(j,2),p=(b[0],b[1]),v=St(),f=Object(a.useState)(!0),x=Object(S.a)(f,2),h=x[0],m=x[1],w=Object(a.useState)(!1),E=Object(S.a)(w,2),C=E[0],N=E[1],k=Object(a.useState)(!1),T=Object(S.a)(k,2),D=(T[0],T[1],r.a.useState({byEquip:"",byHospital:"",byAddress:""})),A=Object(S.a)(D,2),I=A[0],P=A[1],q=r.a.useState({Result:!1}),L=Object(S.a)(q,2),R=L[0],F=L[1],W=[{id:"IsActive",label:"\u0410\u043a\u0442\u0438\u0432\u0435\u043d",checked:!0,minWidth:50,sortable:!0},{id:"EquipName",label:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0441",minWidth:170,sortable:!0},{id:"RegisterDate",label:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",minWidth:170,format:function(e){return Fe(e)}},{id:"HospitalName",label:"\u041b\u041f\u0423",minWidth:100,sortable:!0},{id:"HospitalAddress",label:"\u0410\u0434\u0440\u0435\u0441",minWidth:100,sortable:!0},{id:"HospitalLatitude",label:"\u0428\u0438\u0440\u043e\u0442\u0430",minWidth:100},{id:"HospitalLongitude",label:"\u0414\u043e\u043b\u0433\u043e\u0442\u0430",minWidth:100},{id:"LastSeenPresentation",label:"\u041f\u043e\u0441\u043b. \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",minWidth:100,sortable:!0}];(null===(t=d.currentUser)||void 0===t?void 0:t.Role)===O&&W.push({id:"Disabled",label:"\u0421\u043a\u0440\u044b\u0442",checked:!0,minWidth:100,format:function(e){return e.Disabled}});var U,M,B,G,H,V=e.data;C&&(V=null===(U=V)||void 0===U?void 0:U.filter((function(e){return e.IsActive})));h&&(V=null===(M=V)||void 0===M?void 0:M.filter((function(e){return!e.Disabled})));I.byEquip&&(V=null===(B=V)||void 0===B?void 0:B.filter((function(e){return e.EquipName.includes(I.byEquip)})));I.byHospital&&(V=null===(G=V)||void 0===G?void 0:G.filter((function(e){return e.HospitalName.includes(I.byHospital)})));I.byAddress&&(V=null===(H=V)||void 0===H?void 0:H.filter((function(e){return e.HospitalAddress.includes(I.byAddress)})));V.forEach((function(e){e.LastSeenPresentation=e.LastSeen?Fe(e.LastSeen):""}));var _=function(){var e=Object(y.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Disabled"!==t.target.getAttribute("data-column")){e.next=3;break}return e.abrupt("return");case 3:a=n.EquipName,v(a,"SETEQUIPINFO"),p({type:"ADDSELECTEDEQUIPS",payload:a}),s({type:"SETTAB",payload:{tab:0,panel:0}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F({Result:!0,Context:n});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!h),e.next=4,ct(d.token,h);case 4:n=e.sent,p({type:"SETALLEQUIPS",payload:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!C);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(Object(Q.a)(Object(Q.a)({},I),{byEquip:null===(n=t.target)||void 0===n?void 0:n.value}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(Object(Q.a)(Object(Q.a)({},I),{byHospital:null===(n=t.target)||void 0===n?void 0:n.value}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(Object(Q.a)(Object(Q.a)({},I),{byAddress:null===(n=t.target)||void 0===n?void 0:n.value}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(y.a)(g.a.mark((function e(t,n){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return r=(a=n).EquipName,a.Disabled=!a.Disabled,e.next=6,vt(d.token,r,a.Disabled);case 6:p({type:"UPDATEALLEQUIPS",payload:a});case 7:F({Result:!1});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=e.equipInfo;return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)("div",{className:c.root,children:[Object(X.jsx)(Mn.a,{control:Object(X.jsx)(In.a,{checked:h,onChange:z}),label:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u0435\u0441\u043a\u0440\u044b\u0442\u044b\u0435"}),Object(X.jsx)(Mn.a,{control:Object(X.jsx)(In.a,{checked:C,onChange:K}),label:"\u0422\u043e\u043b\u044c\u043a\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),Object(X.jsx)(Un.a,{id:"outlined-basic",className:c.commonSpacing,onChange:Z,label:"\u041f\u043e \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u0443",variant:"outlined"}),Object(X.jsx)(Un.a,{id:"outlined-basic",className:c.commonSpacing,onChange:$,label:"\u041f\u043e \u041b\u041f\u0423",variant:"outlined"}),Object(X.jsx)(Un.a,{id:"outlined-basic",className:c.commonSpacing,onChange:ee,label:"\u041f\u043e \u0430\u0434\u0440\u0435\u0441\u0443",variant:"outlined"})]}),Object(X.jsx)("div",{className:c.root,children:Object(X.jsx)(Rn,{readonly:!0,defaultSort:"IsActive",defaultSortOrder:"desc",columns:W,rows:V,selectedRow:ae,onRowClick:_,onSelect:J})}),Object(X.jsx)(Pa,{open:R.Result,"\u0441onfirmMessage":"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 "+((null===(n=R.Context)||void 0===n?void 0:n.Disabled)?"\u043e\u0442\u043a\u0440\u044b\u0442\u044c":"\u0441\u043a\u0440\u044b\u0442\u044c")+" \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441?",onClose:ne,context:R.Context})]})})),Ra=Object(w.a)((function(e){return{root:{}}}));function Fa(e){console.log("render EquipsTab");var t=Ra(),n=Object(a.useContext)(le),r=Object(S.a)(n,2),c=r[0],o=(r[1],Object(a.useContext)(te)),i=Object(S.a)(o,2),s=i[0];i[1];return Object(X.jsx)("div",{className:t.root,children:Object(X.jsx)(La,{data:s.allEquips,equipInfo:c.equipInfo})})}function Wa(e){console.log("! render ServerStateCard");var t=Jt(),n=Object(X.jsx)("span",{className:t.bullet,children:"\u2022"}),a=e.serverState;return Object(X.jsx)(Vt.a,{className:t.root,children:Object(X.jsxs)(_t.a,{children:[Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[n,"\u0421\u0435\u0440\u0432\u0435\u0440"]}),Object(X.jsx)(Kt,{descr:"\u0412\u0441\u0435\u0433\u043e \u0411\u0414",value:null===a||void 0===a?void 0:a.DBUsedSize}),Object(X.jsx)(Kt,{descr:"\u0412\u0441\u0435\u0433\u043e \u0434\u0438\u0441\u043a",value:null===a||void 0===a?void 0:a.DiskTotalSpace}),Object(X.jsx)(Kt,{descr:"\u0417\u0430\u043d\u044f\u0442\u043e \u0434\u0438\u0441\u043a",value:null===a||void 0===a?void 0:a.DiskUsedSpace})]})})}function Ua(e){console.log("! render UnasweredEquipsCard");var t=Jt(),n=Object(X.jsx)("span",{className:t.bullet,children:"\u2022"});e.hdd;return Object(X.jsx)(Vt.a,{className:t.root,children:Object(X.jsx)(_t.a,{children:Object(X.jsxs)(W.a,{variant:"h5",component:"h2",children:[n,"\u041d\u0435\u043e\u0442\u0432\u0435\u0447\u0435\u043d\u043d\u044b\u0435 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u044b"]})})})}var Ma=Object(w.a)((function(e){return{root:{display:"flex"},column:{width:"30%",marginRight:"12px"}}}));function Ba(e){var t,n;console.log("render ControlMainTabPanel");var r=Object(a.useContext)(xe),c=Object(S.a)(r,2),o=c[0],i=c[1],s=Object(a.useContext)(pe),l=Object(S.a)(s,2),u=l[0],d=(l[1],Object(a.useContext)(ye)),j=Object(S.a)(d,2),b=j[0],p=(j[1],h),v=Ma(),O=x,f=u.token,m=function(){var e=Object(y.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==p){e.next=5;break}return e.next=3,ht(f,O,p,n.id,n.note);case 3:a=e.sent,n.id&&i({type:"CHANGENOTE",payload:a});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt(f,O,p,n);case 2:i({type:"DELETENOTE",payload:n});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=null===(t=o.commonNotes)||void 0===t?void 0:t.filter((function(e){return e.Type===p})),C=b.serverState;return Object(X.jsxs)("div",{className:v.root,children:[Object(X.jsxs)("div",{className:v.column,children:[Object(X.jsx)(Wa,{serverState:C}),Object(X.jsx)(Ua,{})]}),Object(X.jsx)(aa,{type:p,title:"\u0427\u0430\u0442",notes:E,onSendNote:m,onDeleteNote:w,currentUser:null===(n=u.currentUser)||void 0===n?void 0:n.Login})]})}var Ga=Object(w.a)((function(e){return{root:{width:"100%",borderColor:"darkgray"}}}));function Ha(e){console.log("render ControlDiagnosticTabPanel");var t=Ga(),n=Object(a.useContext)(ye),r=Object(S.a)(n,2),c=r[0];r[1];return Object(X.jsx)("div",{children:Object(X.jsx)(oa.a,{className:t.root,rowsMax:40,"aria-label":"maximum height",defaultValue:c.diagnostic})})}var Va=Object(w.a)((function(e){return{root:{width:"100%",borderColor:"darkgray"}}}));function _a(e){console.log("render ControlLogTabPanel");var t=Va(),n=Object(a.useContext)(xe),r=Object(S.a)(n,2),c=r[0];r[1];return Object(X.jsx)("div",{children:Object(X.jsx)(oa.a,{className:t.root,rowsMax:40,"aria-label":"maximum height",defaultValue:c.logs})})}var Ja=Object(w.a)((function(e){return{root:{}}}));function za(e){var t;console.log("render ControlTab");Ja();var n=null!==(t=e.panel)&&void 0!==t?t:0;return Object(X.jsxs)("div",{children:[0===n?Object(X.jsx)(Ba,{}):Object(X.jsx)(X.Fragment,{}),6===n?Object(X.jsx)(Ha,{}):Object(X.jsx)(X.Fragment,{}),5===n?Object(X.jsx)(_a,{}):Object(X.jsx)(X.Fragment,{})]})}function Qa(e){var t,n,r,c;console.log("render MainInfoComponent");var o=Object(a.useContext)(Y),i=Object(S.a)(o,2),s=i[0],l=(i[1],null!==(t=null===(n=s.currentTab)||void 0===n?void 0:n.tab)&&void 0!==t?t:0),u=null!==(r=null===(c=s.currentTab)||void 0===c?void 0:c.panel)&&void 0!==r?r:0;return Object(X.jsxs)("div",{children:[0===l?Object(X.jsx)(ua,{panel:u}):Object(X.jsx)(X.Fragment,{}),1===l?Object(X.jsx)(Fa,{}):Object(X.jsx)(X.Fragment,{}),2===l?Object(X.jsx)(ma,{}):Object(X.jsx)(X.Fragment,{}),3===l?Object(X.jsx)(ya,{}):Object(X.jsx)(X.Fragment,{}),4===l?Object(X.jsx)(za,{panel:u}):Object(X.jsx)(X.Fragment,{}),5===l?Object(X.jsx)(Ta,{panel:u}):Object(X.jsx)(X.Fragment,{})]})}var Xa=240,Ya=["\u041e\u0431\u0437\u043e\u0440","\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u044b","\u041a\u0430\u0440\u0442\u0430","\u0416\u0443\u0440\u043d\u0430\u043b \u0441\u043e\u0431\u044b\u0442\u0438\u0439","\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"],Ka=Object(w.a)((function(e){return{root:{display:"flex"},appBar:{width:"calc(100% - ".concat(Xa,"px)"),marginLeft:Xa},drawer:{width:Xa,flexShrink:0},drawerPaper:{width:Xa},toolbar:e.mixins.toolbar,content:{marginTop:64,flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3),minWidth:"1300px"}}}));function Za(){var e,t,n,c=Ka(),o=r.a.useState(0),i=Object(S.a)(o,2),l=i[0],u=(i[1],Object(a.useContext)(Y)),d=Object(S.a)(u,2),j=d[0],b=d[1],p=Object(a.useContext)(pe),v=Object(S.a)(p,2),f=v[0],h=v[1],m=Object(a.useContext)(te),w=Object(S.a)(m,2),I=(w[0],w[1]),q=Object(a.useContext)(ce),R=Object(S.a)(q,2),F=(R[0],R[1]),W=Object(a.useContext)(ye),U=Object(S.a)(W,2),M=(U[0],U[1]),B=Object(a.useContext)(xe),G=Object(S.a)(B,2),H=(G[0],G[1]);Object(a.useEffect)((function(){Object(y.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.token){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Et(t);case 5:n=e.sent,h({type:"SETUSERS",payload:n});case 7:case"end":return e.stop()}}),e)})))()}),[f.token]);var V=f.token;if(!V)return Object(X.jsx)(s.a,{to:"/"});var _=function(){var e=Object(y.a)(g.a.mark((function e(t,n){var a,r,c,o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==n&&2!==n){e.next=7;break}return e.next=3,ct(V);case 3:a=e.sent,I({type:"SETALLEQUIPS",payload:a}),e.next=24;break;case 7:if(3!==n){e.next=15;break}return r=new Date,e.next=11,_e(V,"Events","",Re(r),Re(r));case 11:c=e.sent,F({type:"SETEVENTS",payload:c}),e.next=24;break;case 15:if(4!==n){e.next=24;break}return e.next=18,qt(V);case 18:return o=e.sent,M({type:"SETSRVSTATE",payload:o}),e.next=22,ft(V,x);case 22:i=e.sent,H({type:"SETCOMMONCHAT",payload:i});case 24:b({type:"SETTAB",payload:{tab:n,panel:0}});case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=null!==(e=null===(t=j.currentTab)||void 0===t?void 0:t.tab)&&void 0!==e?e:0,z=(null===(n=f.currentUser)||void 0===n?void 0:n.Role)===O?[].concat(Ya,["\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"]):Ya;return Object(X.jsxs)("div",{className:c.root,children:[Object(X.jsx)(C.a,{}),Object(X.jsx)(Ht,{}),Object(X.jsxs)(E.a,{className:c.drawer,variant:"permanent",classes:{paper:c.drawerPaper},anchor:"left",children:[Object(X.jsx)("div",{className:c.toolbar}),Object(X.jsx)(k.a,{}),Object(X.jsx)(N.a,{children:z.map((function(e,t){return Object(X.jsxs)(T.a,{button:!0,selected:J===t,onClick:function(e){return _(e,t)},children:[Object(X.jsx)(D.a,{children:t%2===0?Object(X.jsx)(P.a,{}):Object(X.jsx)(L.a,{})}),Object(X.jsx)(A.a,{primary:e})]},e)}))})]}),Object(X.jsx)("main",{className:c.content,children:Object(X.jsx)(Qa,{Title:z[l]})})]})}n(87);var $a=n(202),er=n(287),tr=n(144),nr=n.n(tr),ar=n(145),rr=n.n(ar),cr=Object(w.a)((function(e){return{text:{width:"50%",marginBottom:"1em"}}}));function or(e){console.log("render PasswordComponent");var t=cr(),n=r.a.useState({password:"",showPassword:!1}),a=Object(S.a)(n,2),c=a[0],o=a[1];return Object(X.jsxs)(U.a,{className:t.text,children:[Object(X.jsx)(wa.a,{htmlFor:"standard-adornment-password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(X.jsx)($a.a,{id:"standard-adornment-password",type:c.showPassword?"text":"password",value:e.password,onChange:e.onChange,endAdornment:Object(X.jsx)(er.a,{position:"end",children:Object(X.jsx)(Zn.a,{"aria-label":"toggle password visibility",onClick:function(){o(Object(Q.a)(Object(Q.a)({},c),{},{showPassword:!c.showPassword}))},onMouseDown:function(e){e.preventDefault()},children:c.showPassword?Object(X.jsx)(nr.a,{}):Object(X.jsx)(rr.a,{})})})})]})}var ir=Object(w.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"1em",backgroundColor:e.palette.background.default},commonSpacing:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},text:{width:"50%",marginBottom:"1em"},alert:{backgroundColor:"#f44336",width:"50%",color:"white",height:"3em",borderRadius:"0.3em",marginBottom:"1em"}}}));function sr(e){console.log("render AuthComponent");var t=ir(),n=Object(a.useContext)(pe),r=Object(S.a)(n,2),c=(r[0],r[1]),o=Object(a.useState)(""),i=Object(S.a)(o,2),l=i[0],u=i[1],d=Object(a.useState)(""),j=Object(S.a)(d,2),b=j[0],p=j[1],v=Object(a.useState)(""),O=Object(S.a)(v,2),f=O[0],x=O[1],h=Object(a.useState)(!1),m=Object(S.a)(h,2),w=m[0],E=m[1],C=Object(a.useState)(!1),N=Object(S.a)(C,2),k=N[0],T=N[1];if(w)return Object(X.jsx)(s.a,{to:"/info"});var D=function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}},e.next=3,Tt({login:l,password:b,email:f});case 3:(n=e.sent)&&n.Token?(a=t(n.Token),c({type:"SETUSER",payload:{Token:n.Token,Claims:a,Surname:n.Surname}}),E(!0)):T(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(X.jsx)("div",{className:t.root,children:Object(X.jsxs)("div",{className:t.root,children:[Object(X.jsx)(Un.a,{className:t.text,id:"standard-basic",label:"\u041b\u043e\u0433\u0438\u043d",defaultValue:"",onChange:function(e){u(e.target.value),k&&T(!1)}}),Object(X.jsx)(or,{password:b,onChange:function(e){p(e.target.value),k&&T(!1)}}),Object(X.jsx)(Un.a,{className:t.text,id:"standard-basic",label:"\u041f\u043e\u0447\u0442\u0430",defaultValue:"",onChange:function(e){x(e.target.value),k&&T(!1)}}),k?Object(X.jsx)("div",{className:t.alert,children:"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u0432\u0435\u0440\u043d\u044b"}):Object(X.jsx)(X.Fragment,{}),Object(X.jsx)(z.a,{variant:"contained",color:"primary",className:t.commonSpacing,onClick:D,children:"Login"})]})})}n(199);var lr=Object(l.a)({palette:{type:p?"dark":"light"}});var ur=function(){return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(u.a,{theme:lr,children:Object(X.jsxs)("div",{className:"App",children:[Object(X.jsx)(s.b,{exact:!0,path:"/",component:sr}),Object(X.jsx)(s.b,{path:"/auth",component:sr}),Object(X.jsx)(s.b,{path:"/info",component:Za})]})})})};o.a.render(Object(X.jsx)(r.a.StrictMode,{children:Object(X.jsx)($,{children:Object(X.jsx)(fe,{children:Object(X.jsx)(re,{children:Object(X.jsx)(be,{children:Object(X.jsx)(Te,{children:Object(X.jsx)(se,{children:Object(X.jsx)(ge,{children:Object(X.jsx)(Ee,{children:Object(X.jsx)(Bt,{children:Object(X.jsx)(i.a,{children:Object(X.jsx)(ur,{})})})})})})})})})})})}),document.getElementById("root"))}},[[200,1,2]]]);
//# sourceMappingURL=main.5e165317.chunk.js.map